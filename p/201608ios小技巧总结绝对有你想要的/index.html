<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="在这里总结一些iOS开发中的小技巧，能大大方便我们的开发，持续更新。 UITableView的Group样式下顶部空白处理 //分组列表头部空白"><title>iOS小技巧总结，绝对有你想要的</title><link rel=canonical href=https://lisongrc.github.io/p/201608ios%E5%B0%8F%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93%E7%BB%9D%E5%AF%B9%E6%9C%89%E4%BD%A0%E6%83%B3%E8%A6%81%E7%9A%84/><link rel=stylesheet href=/scss/style.min.8191399262444ab68b72a18c97392f5349be20a1615d77445be51e974c144cff.css><meta property="og:title" content="iOS小技巧总结，绝对有你想要的"><meta property="og:description" content="在这里总结一些iOS开发中的小技巧，能大大方便我们的开发，持续更新。 UITableView的Group样式下顶部空白处理 //分组列表头部空白"><meta property="og:url" content="https://lisongrc.github.io/p/201608ios%E5%B0%8F%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93%E7%BB%9D%E5%AF%B9%E6%9C%89%E4%BD%A0%E6%83%B3%E8%A6%81%E7%9A%84/"><meta property="og:site_name" content="小松哥的博客"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:published_time" content="2016-08-23T17:37:54+00:00"><meta property="article:modified_time" content="2016-08-23T17:37:54+00:00"><meta name=twitter:title content="iOS小技巧总结，绝对有你想要的"><meta name=twitter:description content="在这里总结一些iOS开发中的小技巧，能大大方便我们的开发，持续更新。 UITableView的Group样式下顶部空白处理 //分组列表头部空白"><meta name=referrer content="no-referrer"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu66761f67689d09650ff2d1e3069c4103_356268_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a>
<span class=emoji>😎</span></figure><div class=site-meta><h1 class=site-name><a href=/>小松哥的博客</a></h1><h2 class=site-description>是缘是情是童真还是意外</h2></div></header><ol class=social-menu><li><a href=https://github.com/lisongrc target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>主页</span></a></li><li><a href=/%E5%85%B3%E4%BA%8E/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>关于</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><li><a href=/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg><span>Links</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>暗色模式</span></li></div></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/201608ios%E5%B0%8F%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93%E7%BB%9D%E5%AF%B9%E6%9C%89%E4%BD%A0%E6%83%B3%E8%A6%81%E7%9A%84/>iOS小技巧总结，绝对有你想要的</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Aug 23, 2016</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>阅读时长: 15 分钟</time></div></footer></div></header><section class=article-content><meta name=referrer content="no-referrer"><p>在这里总结一些iOS开发中的小技巧，能大大方便我们的开发，持续更新。</p><h1 id=uitableview的group样式下顶部空白处理>UITableView的Group样式下顶部空白处理</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=c1>//分组列表头部空白处理
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>UIView</span> <span class=o>*</span><span class=n>view</span> <span class=o>=</span> <span class=p>[[</span><span class=n>UIView</span> <span class=n>alloc</span><span class=p>]</span> <span class=nl>initWithFrame</span><span class=p>:</span><span class=n>CGRectMake</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.1</span><span class=p>)];</span>
</span></span><span class=line><span class=cl><span class=nb>self</span><span class=p>.</span><span class=n>tableView</span><span class=p>.</span><span class=n>tableHeaderView</span> <span class=o>=</span> <span class=n>view</span><span class=p>;</span>
</span></span></code></pre></div><h1 id=uitableview的plain样式下取消区头停滞效果>UITableView的plain样式下，取消区头停滞效果</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>scrollViewDidScroll:</span><span class=p>(</span><span class=n>UIScrollView</span> <span class=o>*</span><span class=p>)</span><span class=nv>scrollView</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>CGFloat</span> <span class=n>sectionHeaderHeight</span> <span class=o>=</span> <span class=n>sectionHead</span><span class=p>.</span><span class=n>height</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>scrollView</span><span class=p>.</span><span class=n>contentOffset</span><span class=p>.</span><span class=n>y</span><span class=o>&lt;=</span><span class=n>sectionHeaderHeight</span><span class=o>&amp;&amp;</span><span class=n>scrollView</span><span class=p>;.</span><span class=n>contentOffset</span><span class=p>.</span><span class=n>y</span><span class=o>&gt;=</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>scrollView</span><span class=p>.</span><span class=n>contentInset</span> <span class=o>=</span> <span class=n>UIEdgeInsetsMake</span><span class=p>(</span><span class=o>-</span><span class=n>scrollView</span><span class=p>.</span><span class=n>contentOffset</span><span class=p>.</span><span class=n>y</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>scrollView</span><span class=p>.</span><span class=n>contentOffset</span><span class=p>.</span><span class=n>y</span><span class=o>&gt;=</span><span class=n>sectionHeaderHeight</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>scrollView</span><span class=p>.</span><span class=n>contentInset</span> <span class=o>=</span> <span class=n>UIEdgeInsetsMake</span><span class=p>(</span><span class=o>-</span><span class=n>sectionHeaderHeight</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>那个，其实，还是用Group样式吧哈哈。</p><h1 id=获取某个view所在的控制器>获取某个view所在的控制器</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=o>-</span><span class=err> </span><span class=p>(</span><span class=n>UIViewController</span><span class=err> </span><span class=o>*</span><span class=p>)</span><span class=n>viewController</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=n>UIViewController</span><span class=err> </span><span class=o>*</span><span class=n>viewController</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=nb>nil</span><span class=p>;</span><span class=err> </span> 
</span></span><span class=line><span class=cl>  <span class=n>UIResponder</span><span class=err> </span><span class=o>*</span><span class=n>next</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=nb>self</span><span class=p>.</span><span class=n>nextResponder</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=k>while</span><span class=err> </span><span class=p>(</span><span class=n>next</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>if</span><span class=err> </span><span class=p>([</span><span class=n>next</span><span class=err> </span><span class=nl>isKindOfClass</span><span class=p>:[</span><span class=n>UIViewController</span><span class=err> </span><span class=k>class</span><span class=p>]])</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>viewController</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=p>(</span><span class=n>UIViewController</span><span class=err> </span><span class=o>*</span><span class=p>)</span><span class=n>next</span><span class=p>;</span><span class=err> </span> <span class=err> </span> <span class=err> </span> 
</span></span><span class=line><span class=cl>      <span class=k>break</span><span class=p>;</span><span class=err> </span> <span class=err> </span> 
</span></span><span class=line><span class=cl>    <span class=p>}</span><span class=err> </span> <span class=err> </span> 
</span></span><span class=line><span class=cl>    <span class=n>next</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=n>next</span><span class=p>.</span><span class=n>nextResponder</span><span class=p>;</span><span class=err> </span> 
</span></span><span class=line><span class=cl>  <span class=p>}</span><span class=err> </span>
</span></span><span class=line><span class=cl>    <span class=k>return</span><span class=err> </span><span class=n>viewController</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=两种方法删除nsuserdefaults所有记录>两种方法删除NSUserDefaults所有记录</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=c1>//方法一
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>NSString</span> <span class=o>*</span><span class=n>appDomain</span> <span class=o>=</span> <span class=p>[[</span><span class=n>NSBundle</span> <span class=n>mainBundle</span><span class=p>]</span> <span class=n>bundleIdentifier</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=n>NSUserDefaults</span> <span class=n>standardUserDefaults</span><span class=p>]</span> <span class=nl>removePersistentDomainForName</span><span class=p>:</span><span class=n>appDomain</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//方法二
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>resetDefaults</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>NSUserDefaults</span> <span class=o>*</span> <span class=n>defs</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSUserDefaults</span> <span class=n>standardUserDefaults</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=n>NSDictionary</span> <span class=o>*</span> <span class=n>dict</span> <span class=o>=</span> <span class=p>[</span><span class=n>defs</span> <span class=n>dictionaryRepresentation</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>id</span> <span class=n>key</span> <span class=k>in</span> <span class=n>dict</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=p>[</span><span class=n>defs</span> <span class=nl>removeObjectForKey</span><span class=p>:</span><span class=n>key</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=n>defs</span> <span class=n>synchronize</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=打印系统所有已注册的字体名称>打印系统所有已注册的字体名称</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=cp>#pragma mark - 打印系统所有已注册的字体名称
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=kt>void</span> <span class=nf>enumerateFonts</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err>   </span> <span class=k>for</span><span class=p>(</span><span class=n>NSString</span> <span class=o>*</span><span class=n>familyName</span> <span class=k>in</span> <span class=p>[</span><span class=n>UIFont</span> <span class=n>familyNames</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err>       </span> <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;%@&#34;</span><span class=p>,</span><span class=n>familyName</span><span class=p>);</span><span class=err>              </span> 
</span></span><span class=line><span class=cl>        <span class=n>NSArray</span> <span class=o>*</span><span class=n>fontNames</span> <span class=o>=</span> <span class=p>[</span><span class=n>UIFont</span> <span class=nl>fontNamesForFamilyName</span><span class=p>:</span><span class=n>familyName</span><span class=p>];</span><span class=err>       </span>
</span></span><span class=line><span class=cl><span class=err>       </span> <span class=k>for</span><span class=p>(</span><span class=n>NSString</span> <span class=o>*</span><span class=n>fontName</span> <span class=k>in</span> <span class=n>fontNames</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err>  </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err>           </span> <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;</span><span class=se>\t</span><span class=s>|- %@&#34;</span><span class=p>,</span><span class=n>fontName</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err>  </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=取图片某一像素点的颜色--在uiimage的分类中>取图片某一像素点的颜色 在UIImage的分类中</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=n>UIColor</span> <span class=o>*</span><span class=p>)</span><span class=nf>colorAtPixel:</span><span class=p>(</span><span class=n>CGPoint</span><span class=p>)</span><span class=nv>point</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>CGRectContainsPoint</span><span class=p>(</span><span class=n>CGRectMake</span><span class=p>(</span><span class=mf>0.0f</span><span class=p>,</span> <span class=mf>0.0f</span><span class=p>,</span> <span class=nb>self</span><span class=p>.</span><span class=n>size</span><span class=p>.</span><span class=n>width</span><span class=p>,</span> <span class=nb>self</span><span class=p>.</span><span class=n>size</span><span class=p>.</span><span class=n>height</span><span class=p>),</span> <span class=n>point</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=k>return</span> <span class=nb>nil</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGColorSpaceRef</span> <span class=n>colorSpace</span> <span class=o>=</span> <span class=n>CGColorSpaceCreateDeviceRGB</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=kt>int</span> <span class=n>bytesPerPixel</span> <span class=o>=</span> <span class=mi>4</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=kt>int</span> <span class=n>bytesPerRow</span> <span class=o>=</span> <span class=n>bytesPerPixel</span> <span class=o>*</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>NSUInteger</span> <span class=n>bitsPerComponent</span> <span class=o>=</span> <span class=mi>8</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=kt>unsigned</span> <span class=kt>char</span> <span class=n>pixelData</span><span class=p>[</span><span class=mi>4</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGContextRef</span> <span class=n>context</span> <span class=o>=</span> <span class=n>CGBitmapContextCreate</span><span class=p>(</span><span class=n>pixelData</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>bitsPerComponent</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>bytesPerRow</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>colorSpace</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>kCGImageAlphaPremultipliedLast</span> <span class=o>|</span> <span class=n>kCGBitmapByteOrder32Big</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGColorSpaceRelease</span><span class=p>(</span><span class=n>colorSpace</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGContextSetBlendMode</span><span class=p>(</span><span class=n>context</span><span class=p>,</span> <span class=n>kCGBlendModeCopy</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGContextTranslateCTM</span><span class=p>(</span><span class=n>context</span><span class=p>,</span> <span class=o>-</span><span class=n>point</span><span class=p>.</span><span class=n>x</span><span class=p>,</span> <span class=n>point</span><span class=p>.</span><span class=n>y</span> <span class=o>-</span> <span class=nb>self</span><span class=p>.</span><span class=n>size</span><span class=p>.</span><span class=n>height</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGContextDrawImage</span><span class=p>(</span><span class=n>context</span><span class=p>,</span> <span class=n>CGRectMake</span><span class=p>(</span><span class=mf>0.0f</span><span class=p>,</span> <span class=mf>0.0f</span><span class=p>,</span> <span class=nb>self</span><span class=p>.</span><span class=n>size</span><span class=p>.</span><span class=n>width</span><span class=p>,</span> <span class=nb>self</span><span class=p>.</span><span class=n>size</span><span class=p>.</span><span class=n>height</span><span class=p>),</span> <span class=nb>self</span><span class=p>.</span><span class=n>CGImage</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGContextRelease</span><span class=p>(</span><span class=n>context</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGFloat</span> <span class=n>red</span> <span class=err> </span> <span class=o>=</span> <span class=p>(</span><span class=n>CGFloat</span><span class=p>)</span><span class=n>pixelData</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>/</span> <span class=mf>255.0f</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGFloat</span> <span class=n>green</span> <span class=o>=</span> <span class=p>(</span><span class=n>CGFloat</span><span class=p>)</span><span class=n>pixelData</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>/</span> <span class=mf>255.0f</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGFloat</span> <span class=n>blue</span><span class=err> </span> <span class=o>=</span> <span class=p>(</span><span class=n>CGFloat</span><span class=p>)</span><span class=n>pixelData</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>/</span> <span class=mf>255.0f</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGFloat</span> <span class=n>alpha</span> <span class=o>=</span> <span class=p>(</span><span class=n>CGFloat</span><span class=p>)</span><span class=n>pixelData</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>/</span> <span class=mf>255.0f</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>return</span> <span class=p>[</span><span class=n>UIColor</span> <span class=nl>colorWithRed</span><span class=p>:</span><span class=n>red</span> <span class=nl>green</span><span class=p>:</span><span class=n>green</span> <span class=nl>blue</span><span class=p>:</span><span class=n>blue</span> <span class=nl>alpha</span><span class=p>:</span><span class=n>alpha</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=字符串反转>字符串反转</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=err>第一种：</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=p>(</span><span class=n>NSString</span> <span class=o>*</span><span class=p>)</span><span class=nl>reverseWordsInString</span><span class=p>:(</span><span class=n>NSString</span> <span class=o>*</span><span class=p>)</span><span class=n>str</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=err>   </span> 
</span></span><span class=line><span class=cl>    <span class=n>NSMutableString</span> <span class=o>*</span><span class=n>newString</span> <span class=o>=</span> <span class=p>[[</span><span class=n>NSMutableString</span> <span class=n>alloc</span><span class=p>]</span> <span class=nl>initWithCapacity</span><span class=p>:</span><span class=n>str</span><span class=p>.</span><span class=n>length</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err>   </span> <span class=k>for</span> <span class=p>(</span><span class=n>NSInteger</span> <span class=n>i</span> <span class=o>=</span> <span class=n>str</span><span class=p>.</span><span class=n>length</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span> <span class=p>;</span> <span class=n>i</span> <span class=o>--</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err>       </span> <span class=kt>unichar</span> <span class=n>ch</span> <span class=o>=</span> <span class=p>[</span><span class=n>str</span> <span class=nl>characterAtIndex</span><span class=p>:</span><span class=n>i</span><span class=p>];</span><span class=err>       </span>
</span></span><span class=line><span class=cl>        <span class=p>[</span><span class=n>newString</span> <span class=nl>appendFormat</span><span class=p>:</span><span class=s>@&#34;%c&#34;</span><span class=p>,</span> <span class=n>ch</span><span class=p>];</span><span class=err>   </span> 
</span></span><span class=line><span class=cl>    <span class=p>}</span><span class=err>   </span> 
</span></span><span class=line><span class=cl>     <span class=k>return</span> <span class=n>newString</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//第二种：
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>-</span> <span class=p>(</span><span class=n>NSString</span><span class=o>*</span><span class=p>)</span><span class=nl>reverseWordsInString</span><span class=p>:(</span><span class=n>NSString</span><span class=o>*</span><span class=p>)</span><span class=n>str</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=err>   </span> 
</span></span><span class=line><span class=cl>     <span class=n>NSMutableString</span> <span class=o>*</span><span class=n>reverString</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSMutableString</span> <span class=nl>stringWithCapacity</span><span class=p>:</span><span class=n>str</span><span class=p>.</span><span class=n>length</span><span class=p>];</span><span class=err>   </span> 
</span></span><span class=line><span class=cl>     <span class=p>[</span><span class=n>str</span> <span class=nl>enumerateSubstringsInRange</span><span class=p>:</span><span class=n>NSMakeRange</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>str</span><span class=p>.</span><span class=n>length</span><span class=p>)</span><span class=err> </span><span class=nl>options</span><span class=p>:</span><span class=n>NSStringEnumerationReverse</span> <span class=o>|</span> <span class=n>NSStringEnumerationByComposedCharacterSequences</span><span class=err> </span> <span class=nl>usingBlock</span><span class=p>:</span><span class=o>^</span><span class=p>(</span><span class=n>NSString</span> <span class=o>*</span><span class=n>substring</span><span class=p>,</span> <span class=n>NSRange</span> <span class=n>substringRange</span><span class=p>,</span> <span class=n>NSRange</span> <span class=n>enclosingRange</span><span class=p>,</span> <span class=kt>BOOL</span> <span class=o>*</span><span class=n>stop</span><span class=p>)</span> <span class=p>{</span><span class=err> </span>
</span></span><span class=line><span class=cl><span class=err>  </span>        <span class=p>[</span><span class=n>reverString</span> <span class=nl>appendString</span><span class=p>:</span><span class=n>substring</span><span class=p>];</span><span class=err>                        </span> 
</span></span><span class=line><span class=cl>      <span class=p>}];</span><span class=err>   </span> 
</span></span><span class=line><span class=cl>     <span class=k>return</span> <span class=n>reverString</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=禁止锁屏>禁止锁屏，</h1><p>默认情况下，当设备一段时间没有触控动作时，iOS会锁住屏幕。但有一些应用是不需要锁屏的，比如视频播放器。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>[</span><span class=n>UIApplication</span><span class=err> </span><span class=n>sharedApplication</span><span class=p>].</span><span class=n>idleTimerDisabled</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=nb>YES</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err>或</span>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=n>UIApplication</span><span class=err> </span><span class=n>sharedApplication</span><span class=p>]</span><span class=err> </span><span class=nl>setIdleTimerDisabled</span><span class=p>:</span><span class=nb>YES</span><span class=p>];</span>
</span></span></code></pre></div><h1 id=模态推出透明界面>模态推出透明界面</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>UIViewController</span> <span class=o>*</span><span class=n>vc</span> <span class=o>=</span> <span class=p>[[</span><span class=n>UIViewController</span> <span class=n>alloc</span><span class=p>]</span> <span class=n>init</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>UINavigationController</span> <span class=o>*</span><span class=n>na</span> <span class=o>=</span> <span class=p>[[</span><span class=n>UINavigationController</span> <span class=n>alloc</span><span class=p>]</span><span class=err> </span><span class=nl>initWithRootViewController</span><span class=p>:</span><span class=n>vc</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>([[[</span><span class=n>UIDevice</span> <span class=n>currentDevice</span><span class=p>]</span> <span class=n>systemVersion</span><span class=p>]</span> <span class=n>floatValue</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=mf>8.0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err>     </span><span class=n>na</span><span class=p>.</span><span class=n>modalPresentationStyle</span> <span class=o>=</span> <span class=n>UIModalPresentationOverCurrentContext</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err>     </span><span class=nb>self</span><span class=p>.</span><span class=n>modalPresentationStyle</span><span class=o>=</span><span class=n>UIModalPresentationCurrentContext</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nb>self</span> <span class=nl>presentViewController</span><span class=p>:</span><span class=n>na</span> <span class=nl>animated</span><span class=p>:</span><span class=nb>YES</span> <span class=nl>completion</span><span class=p>:</span><span class=nb>nil</span><span class=p>];</span>
</span></span></code></pre></div><h1 id=xcode调试不显示内存占用>Xcode调试不显示内存占用</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>editSCheme  里面有个选项叫叫做enable zoombie Objects  取消选中
</span></span></code></pre></div><h1 id=显示隐藏文件>显示隐藏文件</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>//显示
</span></span><span class=line><span class=cl>defaults write com.apple.finder AppleShowAllFiles -bool <span class=nb>true</span>
</span></span><span class=line><span class=cl>killall Finder
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>//隐藏
</span></span><span class=line><span class=cl>defaults write com.apple.finder AppleShowAllFiles -bool <span class=nb>false</span>
</span></span><span class=line><span class=cl>killall Finder
</span></span></code></pre></div><h1 id=字符串按多个符号分割>字符串按多个符号分割</h1><p><img src=http://upload-images.jianshu.io/upload_images/1608265-59de354dc6972272.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240 loading=lazy alt=image.png></p><h1 id=ios跳转到app-store下载应用评分>iOS跳转到App Store下载应用评分</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>[[</span><span class=n>UIApplication</span> <span class=n>sharedApplication</span><span class=p>]</span> <span class=nl>openURL</span><span class=p>:[</span><span class=n>NSURL</span> <span class=nl>URLWithString</span><span class=p>:</span><span class=s>@&#34;itms-apps://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?type=Purple+Software&amp;id=APPID&#34;</span><span class=p>]];</span>
</span></span></code></pre></div><h1 id=ios-获取汉字的拼音>iOS 获取汉字的拼音</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=o>+</span><span class=err> </span><span class=p>(</span><span class=n>NSString</span><span class=err> </span><span class=o>*</span><span class=p>)</span><span class=nl>transform</span><span class=p>:(</span><span class=n>NSString</span><span class=err> </span><span class=o>*</span><span class=p>)</span><span class=n>chinese</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=err> </span> <span class=err> </span> 
</span></span><span class=line><span class=cl>    <span class=c1>//将NSString装换成NSMutableString 
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>NSMutableString</span><span class=err> </span><span class=o>*</span><span class=n>pinyin</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=p>[</span><span class=n>chinese</span><span class=err> </span><span class=n>mutableCopy</span><span class=p>];</span><span class=err> </span> <span class=err> </span> 
</span></span><span class=line><span class=cl>    <span class=c1>//将汉字转换为拼音(带音标)    
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>CFStringTransform</span><span class=p>((</span><span class=k>__bridge</span><span class=err> </span><span class=n>CFMutableStringRef</span><span class=p>)</span><span class=n>pinyin</span><span class=p>,</span><span class=err> </span><span class=nb>NULL</span><span class=p>,</span><span class=err> </span><span class=n>kCFStringTransformMandarinLatin</span><span class=p>,</span><span class=err> </span><span class=nb>NO</span><span class=p>);</span><span class=err> </span> <span class=err> </span> 
</span></span><span class=line><span class=cl>    <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;%@&#34;</span><span class=p>,</span><span class=err> </span><span class=n>pinyin</span><span class=p>);</span><span class=err> </span> <span class=err> </span> 
</span></span><span class=line><span class=cl>    <span class=c1>//去掉拼音的音标    
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>CFStringTransform</span><span class=p>((</span><span class=k>__bridge</span><span class=err> </span><span class=n>CFMutableStringRef</span><span class=p>)</span><span class=n>pinyin</span><span class=p>,</span><span class=err> </span><span class=nb>NULL</span><span class=p>,</span><span class=err> </span><span class=n>kCFStringTransformStripCombiningMarks</span><span class=p>,</span><span class=err> </span><span class=nb>NO</span><span class=p>);</span><span class=err> </span> <span class=err> </span> 
</span></span><span class=line><span class=cl>    <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;%@&#34;</span><span class=p>,</span><span class=err> </span><span class=n>pinyin</span><span class=p>);</span><span class=err> </span> <span class=err> </span> 
</span></span><span class=line><span class=cl>    <span class=c1>//返回最近结果    
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span><span class=err> </span><span class=n>pinyin</span><span class=p>;</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span></code></pre></div><h1 id=手动更改ios状态栏的颜色>手动更改iOS状态栏的颜色</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=o>-</span><span class=err> </span><span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nl>setStatusBarBackgroundColor</span><span class=p>:(</span><span class=n>UIColor</span><span class=err> </span><span class=o>*</span><span class=p>)</span><span class=n>color</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>UIView</span><span class=err> </span><span class=o>*</span><span class=n>statusBar</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=p>[[[</span><span class=n>UIApplication</span><span class=err> </span><span class=n>sharedApplication</span><span class=p>]</span><span class=err> </span><span class=nl>valueForKey</span><span class=p>:</span><span class=s>@&#34;statusBarWindow&#34;</span><span class=p>]</span><span class=err> </span><span class=nl>valueForKey</span><span class=p>:</span><span class=s>@&#34;statusBar&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>if</span><span class=err> </span><span class=p>([</span><span class=n>statusBar</span><span class=err> </span><span class=nl>respondsToSelector</span><span class=p>:</span><span class=k>@selector</span><span class=p>(</span><span class=nl>setBackgroundColor</span><span class=p>:)])</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>statusBar</span><span class=p>.</span><span class=n>backgroundColor</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=n>color</span><span class=p>;</span><span class=err> </span> <span class=err> </span> 
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=判断当前viewcontroller是push还是present的方式显示的>判断当前ViewController是push还是present的方式显示的</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>NSArray</span><span class=err> </span><span class=o>*</span><span class=n>viewcontrollers</span><span class=o>=</span><span class=nb>self</span><span class=p>.</span><span class=n>navigationController</span><span class=p>.</span><span class=n>viewControllers</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span><span class=err> </span><span class=p>(</span><span class=n>viewcontrollers</span><span class=p>.</span><span class=n>count</span><span class=err> </span><span class=o>&gt;</span><span class=err> </span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>if</span><span class=err> </span><span class=p>([</span><span class=n>viewcontrollers</span><span class=err> </span><span class=nl>objectAtIndex</span><span class=p>:</span><span class=n>viewcontrollers</span><span class=p>.</span><span class=n>count</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=nb>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=c1>//push方式
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=err>  </span> <span class=p>[</span><span class=nb>self</span><span class=p>.</span><span class=n>navigationController</span><span class=err> </span><span class=nl>popViewControllerAnimated</span><span class=p>:</span><span class=nb>YES</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=c1>//present方式
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=p>[</span><span class=nb>self</span> <span class=nl>dismissViewControllerAnimated</span><span class=p>:</span><span class=nb>YES</span><span class=err> </span><span class=nl>completion</span><span class=p>:</span><span class=nb>nil</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=获取实际使用的launchimage图片>获取实际使用的LaunchImage图片</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=o>-</span><span class=err> </span><span class=p>(</span><span class=n>NSString</span><span class=err> </span><span class=o>*</span><span class=p>)</span><span class=n>getLaunchImageName</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGSize</span><span class=err> </span><span class=n>viewSize</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=nb>self</span><span class=p>.</span><span class=n>window</span><span class=p>.</span><span class=n>bounds</span><span class=p>.</span><span class=n>size</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=c1>// 竖屏    
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>NSString</span><span class=err> </span><span class=o>*</span><span class=n>viewOrientation</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=s>@&#34;Portrait&#34;</span><span class=p>;</span><span class=err> </span> 
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span><span class=n>NSString</span><span class=err> </span><span class=o>*</span><span class=n>launchImageName</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=nb>nil</span><span class=p>;</span><span class=err> </span> <span class=err> </span> 
</span></span><span class=line><span class=cl>    <span class=n>NSArray</span><span class=o>*</span><span class=err> </span><span class=n>imagesDict</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=p>[[[</span><span class=n>NSBundle</span><span class=err> </span><span class=n>mainBundle</span><span class=p>]</span><span class=err> </span><span class=n>infoDictionary</span><span class=p>]</span><span class=err> </span><span class=nl>valueForKey</span><span class=p>:</span><span class=s>@&#34;UILaunchImages&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>for</span><span class=err> </span><span class=p>(</span><span class=n>NSDictionary</span><span class=o>*</span><span class=err> </span><span class=n>dict</span><span class=err> </span><span class=k>in</span><span class=err> </span><span class=n>imagesDict</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>CGSize</span><span class=err> </span><span class=n>imageSize</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=n>CGSizeFromString</span><span class=p>(</span><span class=n>dict</span><span class=p>[</span><span class=s>@&#34;UILaunchImageSize&#34;</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=k>if</span><span class=err> </span><span class=p>(</span><span class=n>CGSizeEqualToSize</span><span class=p>(</span><span class=n>imageSize</span><span class=p>,</span><span class=err> </span><span class=n>viewSize</span><span class=p>)</span><span class=err> </span><span class=o>&amp;&amp;</span><span class=err> </span><span class=p>[</span><span class=n>viewOrientation</span><span class=err> </span><span class=nl>isEqualToString</span><span class=p>:</span><span class=n>dict</span><span class=p>[</span><span class=s>@&#34;UILaunchImageOrientation&#34;</span><span class=p>]])</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>launchImageName</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=n>dict</span><span class=p>[</span><span class=s>@&#34;UILaunchImageName&#34;</span><span class=p>];</span><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> 
</span></span><span class=line><span class=cl>        <span class=p>}</span><span class=err> </span> <span class=err> </span> 
</span></span><span class=line><span class=cl>    <span class=p>}</span><span class=err> </span> <span class=err> </span> 
</span></span><span class=line><span class=cl>    <span class=k>return</span><span class=err> </span><span class=n>launchImageName</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=ios在当前屏幕获取第一响应>iOS在当前屏幕获取第一响应</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>UIWindow</span><span class=err> </span><span class=o>*</span><span class=err> </span><span class=n>keyWindow</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=p>[[</span><span class=n>UIApplication</span><span class=err> </span><span class=n>sharedApplication</span><span class=p>]</span><span class=err> </span><span class=n>keyWindow</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>UIView</span><span class=err> </span><span class=o>*</span><span class=err> </span><span class=n>firstResponder</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=p>[</span><span class=n>keyWindow</span><span class=err> </span><span class=nl>performSelector</span><span class=p>:</span><span class=k>@selector</span><span class=p>(</span><span class=n>firstResponder</span><span class=p>)];</span>
</span></span></code></pre></div><h1 id=判断对象是否遵循了某协议>判断对象是否遵循了某协议</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=k>if</span><span class=err> </span><span class=p>([</span><span class=nb>self</span><span class=p>.</span><span class=n>selectedController</span><span class=err> </span><span class=nl>conformsToProtocol</span><span class=p>:@</span><span class=n>protocol</span><span class=p>(</span><span class=n>RefreshPtotocol</span><span class=p>)])</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span>    <span class=p>[</span><span class=nb>self</span><span class=p>.</span><span class=n>selectedController</span><span class=err> </span><span class=nl>performSelector</span><span class=p>:</span><span class=k>@selector</span><span class=p>(</span><span class=n>onTriggerRefresh</span><span class=p>)];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=判断view是不是指定视图的子视图>判断view是不是指定视图的子视图</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=kt>BOOL</span> <span class=n>isView</span> <span class=o>=</span> <span class=p>[</span><span class=n>textView</span> <span class=nl>isDescendantOfView</span><span class=p>:</span><span class=nb>self</span><span class=p>.</span><span class=n>view</span><span class=p>];</span>
</span></span></code></pre></div><h1 id=nsarray-快速求总和-最大值-最小值-和-平均值>NSArray 快速求总和 最大值 最小值 和 平均值</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>NSArray</span><span class=err> </span><span class=o>*</span><span class=n>array</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=p>[</span><span class=n>NSArray</span><span class=err> </span><span class=nl>arrayWithObjects</span><span class=p>:</span><span class=s>@&#34;2.0&#34;</span><span class=p>,</span><span class=err> </span><span class=s>@&#34;2.3&#34;</span><span class=p>,</span><span class=err> </span><span class=s>@&#34;3.0&#34;</span><span class=p>,</span><span class=err> </span><span class=s>@&#34;4.0&#34;</span><span class=p>,</span><span class=err> </span><span class=s>@&#34;10&#34;</span><span class=p>,</span><span class=err> </span><span class=nb>nil</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>CGFloat</span><span class=err> </span><span class=n>sum</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=p>[[</span><span class=n>array</span><span class=err> </span><span class=nl>valueForKeyPath</span><span class=p>:</span><span class=s>@&#34;@sum.floatValue&#34;</span><span class=p>]</span><span class=err> </span><span class=n>floatValue</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>CGFloat</span><span class=err> </span><span class=n>avg</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=p>[[</span><span class=n>array</span><span class=err> </span><span class=nl>valueForKeyPath</span><span class=p>:</span><span class=s>@&#34;@avg.floatValue&#34;</span><span class=p>]</span><span class=err> </span><span class=n>floatValue</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>CGFloat</span><span class=err> </span><span class=n>max</span><span class=err> </span><span class=o>=</span><span class=p>[[</span><span class=n>array</span><span class=err> </span><span class=nl>valueForKeyPath</span><span class=p>:</span><span class=s>@&#34;@max.floatValue&#34;</span><span class=p>]</span><span class=err> </span><span class=n>floatValue</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>CGFloat</span><span class=err> </span><span class=n>min</span><span class=err> </span><span class=o>=</span><span class=p>[[</span><span class=n>array</span><span class=err> </span><span class=nl>valueForKeyPath</span><span class=p>:</span><span class=s>@&#34;@min.floatValue&#34;</span><span class=p>]</span><span class=err> </span><span class=n>floatValue</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;%f</span><span class=se>\n</span><span class=s>%f</span><span class=se>\n</span><span class=s>%f</span><span class=se>\n</span><span class=s>%f&#34;</span><span class=p>,</span><span class=n>sum</span><span class=p>,</span><span class=n>avg</span><span class=p>,</span><span class=n>max</span><span class=p>,</span><span class=n>min</span><span class=p>);</span>
</span></span></code></pre></div><h1 id=修改uitextfield中placeholder的文字颜色>修改UITextField中Placeholder的文字颜色</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>[</span><span class=n>textField</span><span class=err> </span><span class=nl>setValue</span><span class=p>:[</span><span class=n>UIColor</span><span class=err> </span><span class=n>redColor</span><span class=p>]</span><span class=err> </span><span class=nl>forKeyPath</span><span class=p>:</span><span class=s>@&#34;_placeholderLabel.textColor&#34;</span><span class=p>];</span>
</span></span></code></pre></div><h1 id=关于nsdateformatter的格式>关于NSDateFormatter的格式</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>G: 公元时代，例如AD公元
</span></span><span class=line><span class=cl>yy: 年的后2位
</span></span><span class=line><span class=cl>yyyy: 完整年
</span></span><span class=line><span class=cl>MM: 月，显示为1-12
</span></span><span class=line><span class=cl>MMM: 月，显示为英文月份简写,如 Jan
</span></span><span class=line><span class=cl>MMMM: 月，显示为英文月份全称，如 Janualy
</span></span><span class=line><span class=cl>dd: 日，2位数表示，如02
</span></span><span class=line><span class=cl>d: 日，1-2位显示，如 2
</span></span><span class=line><span class=cl>EEE: 简写星期几，如Sun
</span></span><span class=line><span class=cl>EEEE: 全写星期几，如Sunday
</span></span><span class=line><span class=cl>aa: 上下午，AM/PM
</span></span><span class=line><span class=cl>H: 时，24小时制，0-23
</span></span><span class=line><span class=cl>K：时，12小时制，0-11
</span></span><span class=line><span class=cl>m: 分，1-2位
</span></span><span class=line><span class=cl>mm: 分，2位
</span></span><span class=line><span class=cl>s: 秒，1-2位
</span></span><span class=line><span class=cl>ss: 秒，2位
</span></span><span class=line><span class=cl>S: 毫秒
</span></span></code></pre></div><h1 id=获取一个类的所有子类>获取一个类的所有子类</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>+</span> <span class=p>(</span><span class=n>NSArray</span> <span class=o>*</span><span class=p>)</span> <span class=nf>allSubclasses</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>Class</span> <span class=n>myClass</span> <span class=o>=</span> <span class=p>[</span><span class=nb>self</span> <span class=k>class</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=n>NSMutableArray</span> <span class=o>*</span><span class=n>mySubclasses</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSMutableArray</span> <span class=n>array</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=kt>unsigned</span> <span class=kt>int</span> <span class=n>numOfClasses</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>Class</span> <span class=o>*</span><span class=n>classes</span> <span class=o>=</span> <span class=n>objc_copyClassList</span><span class=p>(</span><span class=o>&amp;</span><span class=n>numOfClasses</span><span class=p>;);</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>unsigned</span> <span class=kt>int</span> <span class=n>ci</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>ci</span> <span class=o>&lt;</span> <span class=n>numOfClasses</span><span class=p>;</span> <span class=n>ci</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>Class</span> <span class=n>superClass</span> <span class=o>=</span> <span class=n>classes</span><span class=p>[</span><span class=n>ci</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=k>do</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>superClass</span> <span class=o>=</span> <span class=n>class_getSuperclass</span><span class=p>(</span><span class=n>superClass</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>while</span> <span class=p>(</span><span class=n>superClass</span> <span class=o>&amp;&amp;</span> <span class=n>superClass</span> <span class=o>!=</span> <span class=n>myClass</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>superClass</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=p>[</span><span class=n>mySubclasses</span> <span class=nl>addObject</span><span class=p>:</span> <span class=n>classes</span><span class=p>[</span><span class=n>ci</span><span class=p>]];</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>free</span><span class=p>(</span><span class=n>classes</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>mySubclasses</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=监测ios设备是否设置了代理需要cfnetworkframework>监测IOS设备是否设置了代理，需要CFNetwork.framework </h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>NSDictionary</span> <span class=o>*</span><span class=n>proxySettings</span> <span class=o>=</span> <span class=p>(</span><span class=k>__bridge</span> <span class=n>NSDictionary</span> <span class=o>*</span><span class=p>)(</span><span class=n>CFNetworkCopySystemProxySettings</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=n>NSArray</span> <span class=o>*</span><span class=n>proxies</span> <span class=o>=</span> <span class=p>(</span><span class=k>__bridge</span> <span class=n>NSArray</span> <span class=o>*</span><span class=p>)(</span><span class=n>CFNetworkCopyProxiesForURL</span><span class=p>((</span><span class=k>__bridge</span> <span class=n>CFURLRef</span> <span class=n>_Nonnull</span><span class=p>)([</span><span class=n>NSURL</span> <span class=nl>URLWithString</span><span class=p>:</span><span class=s>@&#34;http://www.baidu.com&#34;</span><span class=p>]),</span> <span class=p>(</span><span class=k>__bridge</span> <span class=n>CFDictionaryRef</span> <span class=n>_Nonnull</span><span class=p>)(</span><span class=n>proxySettings</span><span class=p>)));</span>
</span></span><span class=line><span class=cl><span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;</span><span class=se>\n</span><span class=s>%@&#34;</span><span class=p>,</span><span class=n>proxies</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>NSDictionary</span> <span class=o>*</span><span class=n>settings</span> <span class=o>=</span> <span class=n>proxies</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;%@&#34;</span><span class=p>,[</span><span class=n>settings</span> <span class=nl>objectForKey</span><span class=p>:(</span><span class=n>NSString</span> <span class=o>*</span><span class=p>)</span><span class=n>kCFProxyHostNameKey</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;%@&#34;</span><span class=p>,[</span><span class=n>settings</span> <span class=nl>objectForKey</span><span class=p>:(</span><span class=n>NSString</span> <span class=o>*</span><span class=p>)</span><span class=n>kCFProxyPortNumberKey</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;%@&#34;</span><span class=p>,[</span><span class=n>settings</span> <span class=nl>objectForKey</span><span class=p>:(</span><span class=n>NSString</span> <span class=o>*</span><span class=p>)</span><span class=n>kCFProxyTypeKey</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=err>   </span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>([[</span><span class=n>settings</span> <span class=nl>objectForKey</span><span class=p>:(</span><span class=n>NSString</span> <span class=o>*</span><span class=p>)</span><span class=n>kCFProxyTypeKey</span><span class=p>]</span> <span class=nl>isEqualToString</span><span class=p>:</span><span class=s>@&#34;kCFProxyTypeNone&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err>     </span><span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;没代理&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err>     </span><span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;设置了代理&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=阿拉伯数字转中文格式>阿拉伯数字转中文格式</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>+(</span><span class=n>NSString</span> <span class=o>*</span><span class=p>)</span><span class=nf>translation:</span><span class=p>(</span><span class=n>NSString</span> <span class=o>*</span><span class=p>)</span><span class=nv>arebic</span>
</span></span><span class=line><span class=cl><span class=p>{</span>  
</span></span><span class=line><span class=cl>    <span class=n>NSString</span> <span class=o>*</span><span class=n>str</span> <span class=o>=</span> <span class=n>arebic</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>NSArray</span> <span class=o>*</span><span class=n>arabic_numerals</span> <span class=o>=</span> <span class=l>@[</span><span class=s>@&#34;1&#34;</span><span class=p>,</span><span class=s>@&#34;2&#34;</span><span class=p>,</span><span class=s>@&#34;3&#34;</span><span class=p>,</span><span class=s>@&#34;4&#34;</span><span class=p>,</span><span class=s>@&#34;5&#34;</span><span class=p>,</span><span class=s>@&#34;6&#34;</span><span class=p>,</span><span class=s>@&#34;7&#34;</span><span class=p>,</span><span class=s>@&#34;8&#34;</span><span class=p>,</span><span class=s>@&#34;9&#34;</span><span class=p>,</span><span class=s>@&#34;0&#34;</span><span class=l>]</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>NSArray</span> <span class=o>*</span><span class=n>chinese_numerals</span> <span class=o>=</span> <span class=l>@[</span><span class=s>@&#34;一&#34;</span><span class=p>,</span><span class=s>@&#34;二&#34;</span><span class=p>,</span><span class=s>@&#34;三&#34;</span><span class=p>,</span><span class=s>@&#34;四&#34;</span><span class=p>,</span><span class=s>@&#34;五&#34;</span><span class=p>,</span><span class=s>@&#34;六&#34;</span><span class=p>,</span><span class=s>@&#34;七&#34;</span><span class=p>,</span><span class=s>@&#34;八&#34;</span><span class=p>,</span><span class=s>@&#34;九&#34;</span><span class=p>,</span><span class=s>@&#34;零&#34;</span><span class=l>]</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>NSArray</span> <span class=o>*</span><span class=n>digits</span> <span class=o>=</span> <span class=l>@[</span><span class=s>@&#34;个&#34;</span><span class=p>,</span><span class=s>@&#34;十&#34;</span><span class=p>,</span><span class=s>@&#34;百&#34;</span><span class=p>,</span><span class=s>@&#34;千&#34;</span><span class=p>,</span><span class=s>@&#34;万&#34;</span><span class=p>,</span><span class=s>@&#34;十&#34;</span><span class=p>,</span><span class=s>@&#34;百&#34;</span><span class=p>,</span><span class=s>@&#34;千&#34;</span><span class=p>,</span><span class=s>@&#34;亿&#34;</span><span class=p>,</span><span class=s>@&#34;十&#34;</span><span class=p>,</span><span class=s>@&#34;百&#34;</span><span class=p>,</span><span class=s>@&#34;千&#34;</span><span class=p>,</span><span class=s>@&#34;兆&#34;</span><span class=l>]</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>NSDictionary</span> <span class=o>*</span><span class=n>dictionary</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSDictionary</span> <span class=nl>dictionaryWithObjects</span><span class=p>:</span><span class=n>chinese_numerals</span> <span class=nl>forKeys</span><span class=p>:</span><span class=n>arabic_numerals</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>NSMutableArray</span> <span class=o>*</span><span class=n>sums</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSMutableArray</span> <span class=n>array</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>str</span><span class=p>.</span><span class=n>length</span><span class=p>;</span> <span class=n>i</span> <span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>NSString</span> <span class=o>*</span><span class=n>substr</span> <span class=o>=</span> <span class=p>[</span><span class=n>str</span> <span class=nl>substringWithRange</span><span class=p>:</span><span class=n>NSMakeRange</span><span class=p>(</span><span class=n>i</span><span class=p>,</span> <span class=mi>1</span><span class=p>)];</span>
</span></span><span class=line><span class=cl>        <span class=n>NSString</span> <span class=o>*</span><span class=n>a</span> <span class=o>=</span> <span class=p>[</span><span class=n>dictionary</span> <span class=nl>objectForKey</span><span class=p>:</span><span class=n>substr</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=n>NSString</span> <span class=o>*</span><span class=n>b</span> <span class=o>=</span> <span class=n>digits</span><span class=p>[</span><span class=n>str</span><span class=p>.</span><span class=n>length</span> <span class=o>-</span><span class=n>i</span><span class=o>-</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=n>NSString</span> <span class=o>*</span><span class=n>sum</span> <span class=o>=</span> <span class=p>[</span><span class=n>a</span> <span class=nl>stringByAppendingString</span><span class=p>:</span><span class=n>b</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>([</span><span class=n>a</span> <span class=nl>isEqualToString</span><span class=p>:</span><span class=n>chinese_numerals</span><span class=p>[</span><span class=mi>9</span><span class=p>]])</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>([</span><span class=n>b</span> <span class=nl>isEqualToString</span><span class=p>:</span><span class=n>digits</span><span class=p>[</span><span class=mi>4</span><span class=p>]]</span> <span class=o>||</span> <span class=p>[</span><span class=n>b</span> <span class=nl>isEqualToString</span><span class=p>:</span><span class=n>digits</span><span class=p>[</span><span class=mi>8</span><span class=p>]])</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>sum</span> <span class=o>=</span> <span class=n>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=p>([[</span><span class=n>sums</span> <span class=n>lastObject</span><span class=p>]</span> <span class=nl>isEqualToString</span><span class=p>:</span><span class=n>chinese_numerals</span><span class=p>[</span><span class=mi>9</span><span class=p>]])</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=p>[</span><span class=n>sums</span> <span class=n>removeLastObject</span><span class=p>];</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span><span class=k>else</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>sum</span> <span class=o>=</span> <span class=n>chinese_numerals</span><span class=p>[</span><span class=mi>9</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>([[</span><span class=n>sums</span> <span class=n>lastObject</span><span class=p>]</span> <span class=nl>isEqualToString</span><span class=p>:</span><span class=n>sum</span><span class=p>])</span>
</span></span><span class=line><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=p>[</span><span class=n>sums</span> <span class=nl>addObject</span><span class=p>:</span><span class=n>sum</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>NSString</span> <span class=o>*</span><span class=n>sumStr</span> <span class=o>=</span> <span class=p>[</span><span class=n>sums</span> <span class=nl>componentsJoinedByString</span><span class=p>:</span><span class=s>@&#34;&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=n>NSString</span> <span class=o>*</span><span class=n>chinese</span> <span class=o>=</span> <span class=p>[</span><span class=n>sumStr</span> <span class=nl>substringToIndex</span><span class=p>:</span><span class=n>sumStr</span><span class=p>.</span><span class=n>length</span><span class=o>-</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;%@&#34;</span><span class=p>,</span><span class=n>str</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;%@&#34;</span><span class=p>,</span><span class=n>chinese</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>chinese</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=base64编码与nsstring对象或nsdata对象的转换>Base64编码与NSString对象或NSData对象的转换</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=c1>// Create NSData object
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>NSData</span> <span class=o>*</span><span class=n>nsdata</span> <span class=o>=</span> <span class=p>[</span><span class=s>@&#34;iOS Developer Tips encoded in Base64&#34;</span>
</span></span><span class=line><span class=cl><span class=err>  </span><span class=nl>dataUsingEncoding</span><span class=p>:</span><span class=n>NSUTF8StringEncoding</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span>
</span></span><span class=line><span class=cl><span class=c1>// Get NSString from NSData object in Base64
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>NSString</span> <span class=o>*</span><span class=n>base64Encoded</span> <span class=o>=</span> <span class=p>[</span><span class=n>nsdata</span> <span class=nl>base64EncodedStringWithOptions</span><span class=p>:</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span>
</span></span><span class=line><span class=cl><span class=c1>// Print the Base64 encoded string
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;Encoded: %@&#34;</span><span class=p>,</span> <span class=n>base64Encoded</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span>
</span></span><span class=line><span class=cl><span class=c1>// Let&#39;s go the other way...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span>
</span></span><span class=line><span class=cl><span class=c1>// NSData from the Base64 encoded str
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>NSData</span> <span class=o>*</span><span class=n>nsdataFromBase64String</span> <span class=o>=</span> <span class=p>[[</span><span class=n>NSData</span> <span class=n>alloc</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=err>  </span><span class=nl>initWithBase64EncodedString</span><span class=p>:</span><span class=n>base64Encoded</span> <span class=nl>options</span><span class=p>:</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span>
</span></span><span class=line><span class=cl><span class=c1>// Decoded NSString from the NSData
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>NSString</span> <span class=o>*</span><span class=n>base64Decoded</span> <span class=o>=</span> <span class=p>[[</span><span class=n>NSString</span> <span class=n>alloc</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=err>  </span><span class=nl>initWithData</span><span class=p>:</span><span class=n>nsdataFromBase64String</span> <span class=nl>encoding</span><span class=p>:</span><span class=n>NSUTF8StringEncoding</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;Decoded: %@&#34;</span><span class=p>,</span><span class=err> </span><span class=n>base64Decoded</span><span class=p>);</span>
</span></span></code></pre></div><h1 id=取消uicollectionview的隐式动画>取消UICollectionView的隐式动画</h1><p>UICollectionView在reloadItems的时候，默认会附加一个隐式的fade动画，有时候很讨厌，尤其是当你的cell是复合cell的情况下(比如cell使用到了UIStackView)。
下面几种方法都可以帮你去除这些动画</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=c1>//方法一
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span><span class=n>UIView</span> <span class=nl>performWithoutAnimation</span><span class=p>:</span><span class=o>^</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=n>collectionView</span> <span class=nl>reloadItemsAtIndexPaths</span><span class=p>:</span><span class=l>@[</span><span class=p>[</span><span class=n>NSIndexPath</span> <span class=nl>indexPathForItem</span><span class=p>:</span><span class=n>index</span> <span class=nl>inSection</span><span class=p>:</span><span class=mi>0</span><span class=p>]</span><span class=l>]</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//方法二
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span><span class=n>UIView</span> <span class=nl>animateWithDuration</span><span class=p>:</span><span class=mi>0</span> <span class=nl>animations</span><span class=p>:</span><span class=o>^</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=n>collectionView</span> <span class=nl>performBatchUpdates</span><span class=p>:</span><span class=o>^</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=p>[</span><span class=n>collectionView</span> <span class=nl>reloadItemsAtIndexPaths</span><span class=p>:</span><span class=l>@[</span><span class=p>[</span><span class=n>NSIndexPath</span> <span class=nl>indexPathForItem</span><span class=p>:</span><span class=n>index</span> <span class=nl>inSection</span><span class=p>:</span><span class=mi>0</span><span class=p>]</span><span class=l>]</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=nl>completion</span><span class=p>:</span><span class=nb>nil</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//方法三
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span><span class=n>UIView</span> <span class=nl>setAnimationsEnabled</span><span class=p>:</span><span class=nb>NO</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nb>self</span><span class=p>.</span><span class=n>trackPanel</span> <span class=nl>performBatchUpdates</span><span class=p>:</span><span class=o>^</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=n>collectionView</span> <span class=nl>reloadItemsAtIndexPaths</span><span class=p>:</span><span class=l>@[</span><span class=p>[</span><span class=n>NSIndexPath</span> <span class=nl>indexPathForItem</span><span class=p>:</span><span class=n>index</span> <span class=nl>inSection</span><span class=p>:</span><span class=mi>0</span><span class=p>]</span><span class=l>]</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=nl>completion</span><span class=p>:</span><span class=o>^</span><span class=p>(</span><span class=kt>BOOL</span> <span class=n>finished</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=n>UIView</span> <span class=nl>setAnimationsEnabled</span><span class=p>:</span><span class=nb>YES</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}];</span>
</span></span></code></pre></div><h1 id=让xcode的控制台支持lldb类型的打印>让Xcode的控制台支持LLDB类型的打印</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>打开终端输入三条命令:
</span></span><span class=line><span class=cl>touch ~/.lldbinit
</span></span><span class=line><span class=cl>echo display @import UIKit &gt;&gt; ~/.lldbinit
</span></span><span class=line><span class=cl>echo target stop-hook add -o <span class=se>\&#34;</span>target stop-hook disable<span class=se>\&#34;</span> &gt;&gt; ~/.lldbinit
</span></span></code></pre></div><h1 id=cocoapods-pod-installpod-update更新慢的问题>CocoaPods pod install/pod update更新慢的问题</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>pod install --verbose --no-repo-update 
</span></span><span class=line><span class=cl>pod update --verbose --no-repo-update
</span></span><span class=line><span class=cl>如果不加后面的参数，默认会升级CocoaPods的spec仓库，加一个参数可以省略这一步，然后速度就会提升不少
</span></span></code></pre></div><h1 id=uiimage-占用内存大小>UIImage 占用内存大小</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>UIImage</span> <span class=o>*</span><span class=n>image</span> <span class=o>=</span> <span class=p>[</span><span class=n>UIImage</span> <span class=nl>imageNamed</span><span class=p>:</span><span class=s>@&#34;aa&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>NSUInteger</span><span class=err> </span><span class=n>size</span> <span class=err> </span><span class=o>=</span><span class=err> </span><span class=n>CGImageGetHeight</span><span class=p>(</span><span class=n>image</span><span class=p>.</span><span class=n>CGImage</span><span class=p>)</span><span class=err> </span><span class=o>*</span><span class=err> </span><span class=n>CGImageGetBytesPerRow</span><span class=p>(</span><span class=n>image</span><span class=p>.</span><span class=n>CGImage</span><span class=p>);</span>
</span></span></code></pre></div><h1 id=gcd-timer定时器>GCD timer定时器</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>dispatch_queue_t</span> <span class=n>queue</span> <span class=o>=</span> <span class=n>dispatch_get_global_queue</span><span class=p>(</span><span class=n>DISPATCH_QUEUE_PRIORITY_DEFAULT</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>dispatch_source_t</span> <span class=n>timer</span> <span class=o>=</span> <span class=n>dispatch_source_create</span><span class=p>(</span><span class=n>DISPATCH_SOURCE_TYPE_TIMER</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span><span class=n>queue</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>dispatch_source_set_timer</span><span class=p>(</span><span class=n>timer</span><span class=p>,</span><span class=n>dispatch_walltime</span><span class=p>(</span><span class=nb>NULL</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span><span class=mf>1.0</span><span class=o>*</span><span class=n>NSEC_PER_SEC</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span> <span class=c1>//每秒执行
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>dispatch_source_set_event_handler</span><span class=p>(</span><span class=n>timer</span><span class=p>,</span> <span class=o>^</span><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=c1>//@&#34;倒计时结束，关闭&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=n>dispatch_source_cancel</span><span class=p>(</span><span class=n>timer</span><span class=p>);</span><span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>dispatch_async</span><span class=p>(</span><span class=n>dispatch_get_main_queue</span><span class=p>(),</span> <span class=o>^</span><span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=n>dispatch_resume</span><span class=p>(</span><span class=n>timer</span><span class=p>);</span>
</span></span></code></pre></div><h1 id=图片上绘制文字-写一个uiimage的category>图片上绘制文字 写一个UIImage的category</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=n>UIImage</span> <span class=o>*</span><span class=p>)</span><span class=nf>imageWithTitle:</span><span class=p>(</span><span class=n>NSString</span> <span class=o>*</span><span class=p>)</span><span class=nv>title</span> <span class=nf>fontSize:</span><span class=p>(</span><span class=n>CGFloat</span><span class=p>)</span><span class=nv>fontSize</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=c1>//画布大小
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=n>CGSize</span> <span class=n>size</span><span class=o>=</span><span class=n>CGSizeMake</span><span class=p>(</span><span class=nb>self</span><span class=p>.</span><span class=n>size</span><span class=p>.</span><span class=n>width</span><span class=p>,</span><span class=nb>self</span><span class=p>.</span><span class=n>size</span><span class=p>.</span><span class=n>height</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=c1>//创建一个基于位图的上下文
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=n>UIGraphicsBeginImageContextWithOptions</span><span class=p>(</span><span class=n>size</span><span class=p>,</span><span class=nb>NO</span><span class=p>,</span><span class=mf>0.0</span><span class=p>);</span><span class=c1>//opaque:NO  scale:0.0
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>[</span><span class=nb>self</span> <span class=nl>drawAtPoint</span><span class=p>:</span><span class=n>CGPointMake</span><span class=p>(</span><span class=mf>0.0</span><span class=p>,</span><span class=mf>0.0</span><span class=p>)];</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=c1>//文字居中显示在画布上
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=n>NSMutableParagraphStyle</span><span class=o>*</span> <span class=n>paragraphStyle</span> <span class=o>=</span> <span class=p>[[</span><span class=n>NSParagraphStyle</span> <span class=n>defaultParagraphStyle</span><span class=p>]</span> <span class=n>mutableCopy</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>paragraphStyle</span><span class=p>.</span><span class=n>lineBreakMode</span> <span class=o>=</span> <span class=n>NSLineBreakByCharWrapping</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>paragraphStyle</span><span class=p>.</span><span class=n>alignment</span><span class=o>=</span><span class=n>NSTextAlignmentCenter</span><span class=p>;</span><span class=c1>//文字居中
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=c1>//计算文字所占的size,文字居中显示在画布上
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=n>CGSize</span> <span class=n>sizeText</span><span class=o>=</span><span class=p>[</span><span class=n>title</span> <span class=nl>boundingRectWithSize</span><span class=p>:</span><span class=nb>self</span><span class=p>.</span><span class=n>size</span> <span class=nl>options</span><span class=p>:</span><span class=n>NSStringDrawingUsesLineFragmentOrigin</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=nl>attributes</span><span class=p>:</span><span class=l>@{</span><span class=nl>NSFontAttributeName</span><span class=p>:[</span><span class=n>UIFont</span> <span class=nl>systemFontOfSize</span><span class=p>:</span><span class=n>fontSize</span><span class=p>]</span><span class=l>}</span><span class=nl>context</span><span class=p>:</span><span class=nb>nil</span><span class=p>].</span><span class=n>size</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGFloat</span> <span class=n>width</span> <span class=o>=</span> <span class=nb>self</span><span class=p>.</span><span class=n>size</span><span class=p>.</span><span class=n>width</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGFloat</span> <span class=n>height</span> <span class=o>=</span> <span class=nb>self</span><span class=p>.</span><span class=n>size</span><span class=p>.</span><span class=n>height</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGRect</span> <span class=n>rect</span> <span class=o>=</span> <span class=n>CGRectMake</span><span class=p>((</span><span class=n>width</span><span class=o>-</span><span class=n>sizeText</span><span class=p>.</span><span class=n>width</span><span class=p>)</span><span class=o>/</span><span class=mi>2</span><span class=p>,</span> <span class=p>(</span><span class=n>height</span><span class=o>-</span><span class=n>sizeText</span><span class=p>.</span><span class=n>height</span><span class=p>)</span><span class=o>/</span><span class=mi>2</span><span class=p>,</span> <span class=n>sizeText</span><span class=p>.</span><span class=n>width</span><span class=p>,</span> <span class=n>sizeText</span><span class=p>.</span><span class=n>height</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=c1>//绘制文字
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=p>[</span><span class=n>title</span> <span class=nl>drawInRect</span><span class=p>:</span><span class=n>rect</span> <span class=nl>withAttributes</span><span class=p>:</span><span class=l>@{</span> <span class=nl>NSFontAttributeName</span><span class=p>:[</span><span class=n>UIFont</span> <span class=nl>systemFontOfSize</span><span class=p>:</span><span class=n>fontSize</span><span class=p>],</span><span class=nl>NSForegroundColorAttributeName</span><span class=p>:[</span> <span class=n>UIColor</span> <span class=n>whiteColor</span><span class=p>],</span><span class=nl>NSParagraphStyleAttributeName</span><span class=p>:</span><span class=n>paragraphStyle</span><span class=l>}</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=c1>//返回绘制的新图形
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=n>UIImage</span> <span class=o>*</span><span class=n>newImage</span><span class=o>=</span> <span class=n>UIGraphicsGetImageFromCurrentImageContext</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>UIGraphicsEndImageContext</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>return</span> <span class=n>newImage</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=查找一个视图的所有子视图>查找一个视图的所有子视图</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=n>NSMutableArray</span> <span class=o>*</span><span class=p>)</span><span class=nf>allSubViewsForView:</span><span class=p>(</span><span class=n>UIView</span> <span class=o>*</span><span class=p>)</span><span class=nv>view</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>NSMutableArray</span> <span class=o>*</span><span class=n>array</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSMutableArray</span> <span class=nl>arrayWithCapacity</span><span class=p>:</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>for</span> <span class=p>(</span><span class=n>UIView</span> <span class=o>*</span><span class=n>subView</span> <span class=k>in</span> <span class=n>view</span><span class=p>.</span><span class=n>subviews</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>[</span><span class=n>array</span> <span class=nl>addObject</span><span class=p>:</span><span class=n>subView</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=k>if</span> <span class=p>(</span><span class=n>subView</span><span class=p>.</span><span class=n>subviews</span><span class=p>.</span><span class=n>count</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>[</span><span class=n>array</span> <span class=nl>addObjectsFromArray</span><span class=p>:[</span><span class=nb>self</span> <span class=nl>allSubViewsForView</span><span class=p>:</span><span class=n>subView</span><span class=p>]];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>return</span> <span class=n>array</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=计算文件大小>计算文件大小</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=c1>//文件大小
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>-</span> <span class=p>(</span><span class=kt>long</span> <span class=kt>long</span><span class=p>)</span><span class=nf>fileSizeAtPath:</span><span class=p>(</span><span class=n>NSString</span> <span class=o>*</span><span class=p>)</span><span class=nv>path</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>NSFileManager</span> <span class=o>*</span><span class=n>fileManager</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSFileManager</span> <span class=n>defaultManager</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>if</span> <span class=p>([</span><span class=n>fileManager</span> <span class=nl>fileExistsAtPath</span><span class=p>:</span><span class=n>path</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=kt>long</span> <span class=kt>long</span> <span class=n>size</span> <span class=o>=</span> <span class=p>[</span><span class=n>fileManager</span> <span class=nl>attributesOfItemAtPath</span><span class=p>:</span><span class=n>path</span> <span class=nl>error</span><span class=p>:</span><span class=nb>nil</span><span class=p>].</span><span class=n>fileSize</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=k>return</span> <span class=n>size</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//文件夹大小
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>-</span> <span class=p>(</span><span class=kt>long</span> <span class=kt>long</span><span class=p>)</span><span class=nf>folderSizeAtPath:</span><span class=p>(</span><span class=n>NSString</span> <span class=o>*</span><span class=p>)</span><span class=nv>path</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>NSFileManager</span> <span class=o>*</span><span class=n>fileManager</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSFileManager</span> <span class=n>defaultManager</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=kt>long</span> <span class=kt>long</span> <span class=n>folderSize</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>if</span> <span class=p>([</span><span class=n>fileManager</span> <span class=nl>fileExistsAtPath</span><span class=p>:</span><span class=n>path</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>NSArray</span> <span class=o>*</span><span class=n>childerFiles</span> <span class=o>=</span> <span class=p>[</span><span class=n>fileManager</span> <span class=nl>subpathsAtPath</span><span class=p>:</span><span class=n>path</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=k>for</span> <span class=p>(</span><span class=n>NSString</span> <span class=o>*</span><span class=n>fileName</span> <span class=k>in</span> <span class=n>childerFiles</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>NSString</span> <span class=o>*</span><span class=n>fileAbsolutePath</span> <span class=o>=</span> <span class=p>[</span><span class=n>path</span> <span class=nl>stringByAppendingPathComponent</span><span class=p>:</span><span class=n>fileName</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=k>if</span> <span class=p>([</span><span class=n>fileManager</span> <span class=nl>fileExistsAtPath</span><span class=p>:</span><span class=n>fileAbsolutePath</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=kt>long</span> <span class=kt>long</span> <span class=n>size</span> <span class=o>=</span> <span class=p>[</span><span class=n>fileManager</span> <span class=nl>attributesOfItemAtPath</span><span class=p>:</span><span class=n>fileAbsolutePath</span> <span class=nl>error</span><span class=p>:</span><span class=nb>nil</span><span class=p>].</span><span class=n>fileSize</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>folderSize</span> <span class=o>+=</span> <span class=n>size</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>return</span> <span class=n>folderSize</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=uiview设置部分圆角>UIView设置部分圆角</h1><p>你是不是也遇到过这样的问题，一个button或者label，只要右边的两个角圆角，或者只要一个圆角。该怎么办呢。这就需要图层蒙版来帮助我们了</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>CGRect</span> <span class=n>rect</span> <span class=o>=</span> <span class=n>view</span><span class=p>.</span><span class=n>bounds</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>CGSize</span> <span class=n>radio</span> <span class=o>=</span> <span class=n>CGSizeMake</span><span class=p>(</span><span class=mi>30</span><span class=p>,</span> <span class=mi>30</span><span class=p>);</span><span class=c1>//圆角尺寸
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>UIRectCorner</span> <span class=n>corner</span> <span class=o>=</span> <span class=n>UIRectCornerTopLeft</span><span class=o>|</span><span class=n>UIRectCornerTopRight</span><span class=p>;</span><span class=c1>//这只圆角位置
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>UIBezierPath</span> <span class=o>*</span><span class=n>path</span> <span class=o>=</span> <span class=p>[</span><span class=n>UIBezierPath</span> <span class=nl>bezierPathWithRoundedRect</span><span class=p>:</span><span class=n>rect</span> <span class=nl>byRoundingCorners</span><span class=p>:</span><span class=n>corner</span> <span class=nl>cornerRadii</span><span class=p>:</span><span class=n>radio</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>CAShapeLayer</span> <span class=o>*</span><span class=n>masklayer</span> <span class=o>=</span> <span class=p>[[</span><span class=n>CAShapeLayer</span> <span class=n>alloc</span><span class=p>]</span><span class=n>init</span><span class=p>];</span><span class=c1>//创建shapelayer
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>masklayer</span><span class=p>.</span><span class=n>frame</span> <span class=o>=</span> <span class=n>view</span><span class=p>.</span><span class=n>bounds</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>masklayer</span><span class=p>.</span><span class=n>path</span> <span class=o>=</span> <span class=n>path</span><span class=p>.</span><span class=n>CGPath</span><span class=p>;</span><span class=c1>//设置路径
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>view</span><span class=p>.</span><span class=n>layer</span><span class=p>.</span><span class=n>mask</span> <span class=o>=</span> <span class=n>masklayer</span><span class=p>;</span>
</span></span></code></pre></div><h1 id=取上整与取下整>取上整与取下整</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>floor</span><span class=p>(</span><span class=n>x</span><span class=p>),</span><span class=err>有时候也写做</span><span class=n>Floor</span><span class=p>(</span><span class=n>x</span><span class=p>)</span><span class=err>，其功能是“下取整”，即取不大于</span><span class=n>x</span><span class=err>的最大整数</span> <span class=err>例如：</span>
</span></span><span class=line><span class=cl><span class=n>x</span><span class=o>=</span><span class=mf>3.14</span><span class=err>，</span><span class=n>floor</span><span class=p>(</span><span class=n>x</span><span class=p>)</span><span class=o>=</span><span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=n>y</span><span class=o>=</span><span class=mf>9.99999</span><span class=err>，</span><span class=n>floor</span><span class=p>(</span><span class=n>y</span><span class=p>)</span><span class=o>=</span><span class=mi>9</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>与</span><span class=n>floor</span><span class=err>函数对应的是</span><span class=n>ceil</span><span class=err>函数，即上取整函数。</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ceil</span><span class=err>函数的作用是求不小于给定实数的最小整数。</span>
</span></span><span class=line><span class=cl><span class=n>ceil</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span><span class=o>=</span><span class=n>ceil</span><span class=p>(</span><span class=mf>1.2</span><span class=p>)</span><span class=o>=</span><span class=n>cei</span><span class=p>(</span><span class=mf>1.5</span><span class=p>)</span><span class=o>=</span><span class=mf>2.00</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>floor</span><span class=err>函数与</span><span class=n>ceil</span><span class=err>函数的返回值均为</span><span class=n>double</span><span class=err>型</span>
</span></span></code></pre></div><h1 id=计算字符串字符长度一个汉字算两个字符>计算字符串字符长度，一个汉字算两个字符</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=c1>//方法一：
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>-</span> <span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=nf>convertToInt:</span><span class=p>(</span><span class=n>NSString</span><span class=o>*</span><span class=p>)</span><span class=nv>strtemp</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=kt>int</span> <span class=n>strlength</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=kt>char</span><span class=o>*</span> <span class=n>p</span> <span class=o>=</span> <span class=p>(</span><span class=kt>char</span><span class=o>*</span><span class=p>)[</span><span class=n>strtemp</span> <span class=nl>cStringUsingEncoding</span><span class=p>:</span><span class=n>NSUnicodeStringEncoding</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span> <span class=p>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=p>[</span><span class=n>strtemp</span> <span class=nl>lengthOfBytesUsingEncoding</span><span class=p>:</span><span class=n>NSUnicodeStringEncoding</span><span class=p>]</span> <span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=k>if</span> <span class=p>(</span><span class=o>*</span><span class=n>p</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>p</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>strlength</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=k>else</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>p</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span> <span class=err> </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>return</span> <span class=n>strlength</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//方法二：
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>-(</span><span class=n>NSUInteger</span><span class=p>)</span> <span class=nf>unicodeLengthOfString:</span> <span class=p>(</span><span class=n>NSString</span> <span class=o>*</span><span class=p>)</span> <span class=nv>text</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>NSUInteger</span> <span class=n>asciiLength</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>for</span> <span class=p>(</span><span class=n>NSUInteger</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>text</span><span class=p>.</span><span class=n>length</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=kt>unichar</span> <span class=n>uc</span> <span class=o>=</span> <span class=p>[</span><span class=n>text</span> <span class=nl>characterAtIndex</span><span class=p>:</span> <span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>asciiLength</span> <span class=o>+=</span> <span class=n>isascii</span><span class=p>(</span><span class=n>uc</span><span class=p>)</span> <span class=o>?</span> <span class=mi>1</span> <span class=o>:</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>return</span> <span class=n>asciiLength</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=给uiview设置图片>给UIView设置图片</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>UIImage</span> <span class=o>*</span><span class=n>image</span> <span class=o>=</span> <span class=p>[</span><span class=n>UIImage</span> <span class=nl>imageNamed</span><span class=p>:</span><span class=s>@&#34;image&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=nb>self</span><span class=p>.</span><span class=n>MYView</span><span class=p>.</span><span class=n>layer</span><span class=p>.</span><span class=n>contents</span> <span class=o>=</span> <span class=p>(</span><span class=k>__bridge</span> <span class=kt>id</span> <span class=n>_Nullable</span><span class=p>)(</span><span class=n>image</span><span class=p>.</span><span class=n>CGImage</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nb>self</span><span class=p>.</span><span class=n>MYView</span><span class=p>.</span><span class=n>layer</span><span class=p>.</span><span class=n>contentsRect</span> <span class=o>=</span> <span class=n>CGRectMake</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>);</span>
</span></span></code></pre></div><h1 id=防止scrollview手势覆盖侧滑手势>防止scrollView手势覆盖侧滑手势</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>[</span><span class=n>scrollView</span><span class=p>.</span><span class=nl>panGestureRecognizerrequireGestureRecognizerToFail</span><span class=p>:</span><span class=nb>self</span><span class=p>.</span><span class=n>navigationController</span><span class=p>.</span><span class=n>interactivePopGestureRecognizer</span><span class=p>];</span>
</span></span></code></pre></div><h1 id=去掉导航栏返回的back标题>去掉导航栏返回的back标题</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>[[</span><span class=n>UIBarButtonItemappearance</span><span class=p>]</span><span class=nl>setBackButtonTitlePositionAdjustment</span><span class=p>:</span><span class=n>UIOffsetMake</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=o>-</span><span class=mi>60</span><span class=p>)</span><span class=nl>forBarMetrics</span><span class=p>:</span><span class=n>UIBarMetricsDefault</span><span class=p>];</span>
</span></span></code></pre></div><h1 id=字符串中是否含有中文>字符串中是否含有中文</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>+</span> <span class=p>(</span><span class=kt>BOOL</span><span class=p>)</span><span class=nf>checkIsChinese:</span><span class=p>(</span><span class=n>NSString</span> <span class=o>*</span><span class=p>)</span><span class=nv>string</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>&lt;</span><span class=n>string</span><span class=p>.</span><span class=n>length</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=kt>unichar</span> <span class=n>ch</span> <span class=o>=</span> <span class=p>[</span><span class=n>string</span> <span class=nl>characterAtIndex</span><span class=p>:</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=k>if</span> <span class=p>(</span><span class=mh>0x4E00</span> <span class=o>&lt;=</span> <span class=n>ch</span><span class=err> </span> <span class=o>&amp;&amp;</span> <span class=n>ch</span> <span class=o>&lt;=</span> <span class=mh>0x9FA5</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=k>return</span> <span class=nb>YES</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>return</span> <span class=nb>NO</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=dispatch_group的使用>dispatch_group的使用</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=err> </span><span class=n>dispatch_group_t</span> <span class=n>dispatchGroup</span> <span class=o>=</span> <span class=n>dispatch_group_create</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>dispatch_group_enter</span><span class=p>(</span><span class=n>dispatchGroup</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>dispatch_after</span><span class=p>(</span><span class=n>dispatch_time</span><span class=p>(</span><span class=n>DISPATCH_TIME_NOW</span><span class=p>,</span> <span class=p>(</span><span class=n>int64_t</span><span class=p>)(</span><span class=mi>1</span> <span class=o>*</span> <span class=n>NSEC_PER_SEC</span><span class=p>)),</span> <span class=n>dispatch_get_main_queue</span><span class=p>(),</span> <span class=o>^</span><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;第一个请求完成&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>dispatch_group_leave</span><span class=p>(</span><span class=n>dispatchGroup</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>dispatch_group_enter</span><span class=p>(</span><span class=n>dispatchGroup</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>dispatch_after</span><span class=p>(</span><span class=n>dispatch_time</span><span class=p>(</span><span class=n>DISPATCH_TIME_NOW</span><span class=p>,</span> <span class=p>(</span><span class=n>int64_t</span><span class=p>)(</span><span class=mi>10</span> <span class=o>*</span> <span class=n>NSEC_PER_SEC</span><span class=p>)),</span> <span class=n>dispatch_get_main_queue</span><span class=p>(),</span> <span class=o>^</span><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;第二个请求完成&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>dispatch_group_leave</span><span class=p>(</span><span class=n>dispatchGroup</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>dispatch_group_notify</span><span class=p>(</span><span class=n>dispatchGroup</span><span class=p>,</span> <span class=n>dispatch_get_main_queue</span><span class=p>(),</span> <span class=o>^</span><span class=p>(){</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;请求完成&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>});</span>
</span></span></code></pre></div><h1 id=uitextfield每四位加一个空格实现代理>UITextField每四位加一个空格,实现代理</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=kt>BOOL</span><span class=p>)</span><span class=nf>textField:</span><span class=p>(</span><span class=n>UITextField</span> <span class=o>*</span><span class=p>)</span><span class=nv>textField</span> <span class=nf>shouldChangeCharactersInRange:</span><span class=p>(</span><span class=n>NSRange</span><span class=p>)</span><span class=nv>range</span> <span class=nf>replacementString:</span><span class=p>(</span><span class=n>NSString</span> <span class=o>*</span><span class=p>)</span><span class=nv>string</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=c1>// 四位加一个空格
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=k>if</span> <span class=p>([</span><span class=n>string</span> <span class=nl>isEqualToString</span><span class=p>:</span><span class=s>@&#34;&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=c1>// 删除字符
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=k>if</span> <span class=p>((</span><span class=n>textField</span><span class=p>.</span><span class=n>text</span><span class=p>.</span><span class=n>length</span> <span class=o>-</span> <span class=mi>2</span><span class=p>)</span> <span class=o>%</span> <span class=mi>5</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>textField</span><span class=p>.</span><span class=n>text</span> <span class=o>=</span> <span class=p>[</span><span class=n>textField</span><span class=p>.</span><span class=n>text</span> <span class=nl>substringToIndex</span><span class=p>:</span><span class=n>textField</span><span class=p>.</span><span class=n>text</span><span class=p>.</span><span class=n>length</span> <span class=o>-</span> <span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=k>return</span> <span class=nb>YES</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>else</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=k>if</span> <span class=p>(</span><span class=n>textField</span><span class=p>.</span><span class=n>text</span><span class=p>.</span><span class=n>length</span> <span class=o>%</span> <span class=mi>5</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>textField</span><span class=p>.</span><span class=n>text</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSString</span> <span class=nl>stringWithFormat</span><span class=p>:</span><span class=s>@&#34;%@ &#34;</span><span class=p>,</span> <span class=n>textField</span><span class=p>.</span><span class=n>text</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>return</span> <span class=nb>YES</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=获取私有属性和成员变量-import-objcruntimeh>获取私有属性和成员变量 #import &lt;objc/runtime.h></h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=c1>//获取私有属性 比如设置UIDatePicker的字体颜色
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>setTextColor</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=c1>//获取所有的属性，去查看有没有对应的属性
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=kt>unsigned</span> <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>objc_property_t</span> <span class=o>*</span><span class=n>propertys</span> <span class=o>=</span> <span class=n>class_copyPropertyList</span><span class=p>([</span><span class=n>UIDatePicker</span> <span class=k>class</span><span class=p>],</span> <span class=o>&amp;</span><span class=n>count</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span><span class=n>i</span> <span class=o>&lt;</span> <span class=n>count</span><span class=p>;</span><span class=n>i</span> <span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=c1>//获得每一个属性
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>objc_property_t</span> <span class=n>property</span> <span class=o>=</span> <span class=n>propertys</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=c1>//获得属性对应的nsstring
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>NSString</span> <span class=o>*</span><span class=n>propertyName</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSString</span> <span class=nl>stringWithCString</span><span class=p>:</span><span class=n>property_getName</span><span class=p>(</span><span class=n>property</span><span class=p>)</span> <span class=nl>encoding</span><span class=p>:</span><span class=n>NSUTF8StringEncoding</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=c1>//输出打印看对应的属性
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;propertyname = %@&#34;</span><span class=p>,</span><span class=n>propertyName</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=k>if</span> <span class=p>([</span><span class=n>propertyName</span> <span class=nl>isEqualToString</span><span class=p>:</span><span class=s>@&#34;textColor&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>[</span><span class=n>datePicker</span> <span class=nl>setValue</span><span class=p>:[</span><span class=n>UIColor</span> <span class=n>whiteColor</span><span class=p>]</span> <span class=nl>forKey</span><span class=p>:</span><span class=n>propertyName</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=c1>//获得成员变量 比如修改UIAlertAction的按钮字体颜色
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=kt>unsigned</span> <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>Ivar</span> <span class=o>*</span><span class=n>ivars</span> <span class=o>=</span> <span class=n>class_copyIvarList</span><span class=p>([</span><span class=n>UIAlertAction</span> <span class=k>class</span><span class=p>],</span> <span class=o>&amp;</span><span class=n>count</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span> <span class=o>&lt;</span> <span class=n>count</span><span class=p>;</span><span class=n>i</span> <span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>Ivar</span> <span class=n>ivar</span> <span class=o>=</span> <span class=n>ivars</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>NSString</span> <span class=o>*</span><span class=n>ivarName</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSString</span> <span class=nl>stringWithCString</span><span class=p>:</span><span class=n>ivar_getName</span><span class=p>(</span><span class=n>ivar</span><span class=p>)</span> <span class=nl>encoding</span><span class=p>:</span><span class=n>NSUTF8StringEncoding</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;uialertion.ivarName = %@&#34;</span><span class=p>,</span><span class=n>ivarName</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=k>if</span> <span class=p>([</span><span class=n>ivarName</span> <span class=nl>isEqualToString</span><span class=p>:</span><span class=s>@&#34;_titleTextColor&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>[</span><span class=n>alertOk</span> <span class=nl>setValue</span><span class=p>:[</span><span class=n>UIColor</span> <span class=n>blueColor</span><span class=p>]</span> <span class=nl>forKey</span><span class=p>:</span><span class=s>@&#34;titleTextColor&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>[</span><span class=n>alertCancel</span> <span class=nl>setValue</span><span class=p>:[</span><span class=n>UIColor</span> <span class=n>purpleColor</span><span class=p>]</span> <span class=nl>forKey</span><span class=p>:</span><span class=s>@&#34;titleTextColor&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span></code></pre></div><h1 id=获取手机安装的应用>获取手机安装的应用</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=kt>Class</span> <span class=n>c</span> <span class=o>=</span><span class=n>NSClassFromString</span><span class=p>(</span><span class=s>@&#34;LSApplicationWorkspace&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>id</span> <span class=n>s</span> <span class=o>=</span> <span class=p>[(</span><span class=kt>id</span><span class=p>)</span><span class=n>c</span> <span class=nl>performSelector</span><span class=p>:</span><span class=n>NSSelectorFromString</span><span class=p>(</span><span class=s>@&#34;defaultWorkspace&#34;</span><span class=p>)];</span>
</span></span><span class=line><span class=cl><span class=n>NSArray</span> <span class=o>*</span><span class=n>array</span> <span class=o>=</span> <span class=p>[</span><span class=n>s</span> <span class=nl>performSelector</span><span class=p>:</span><span class=n>NSSelectorFromString</span><span class=p>(</span><span class=s>@&#34;allInstalledApplications&#34;</span><span class=p>)];</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kt>id</span> <span class=n>item</span> <span class=k>in</span> <span class=n>array</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;%@&#34;</span><span class=p>,[</span><span class=n>item</span> <span class=nl>performSelector</span><span class=p>:</span><span class=n>NSSelectorFromString</span><span class=p>(</span><span class=s>@&#34;applicationIdentifier&#34;</span><span class=p>)]);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=c1>//NSLog(@&#34;%@&#34;,[item performSelector:NSSelectorFromString(@&#34;bundleIdentifier&#34;)]);
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;%@&#34;</span><span class=p>,[</span><span class=n>item</span> <span class=nl>performSelector</span><span class=p>:</span><span class=n>NSSelectorFromString</span><span class=p>(</span><span class=s>@&#34;bundleVersion&#34;</span><span class=p>)]);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;%@&#34;</span><span class=p>,[</span><span class=n>item</span> <span class=nl>performSelector</span><span class=p>:</span><span class=n>NSSelectorFromString</span><span class=p>(</span><span class=s>@&#34;shortVersionString&#34;</span><span class=p>)]);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=判断两个日期是否在同一周-写在nsdate的category里面>判断两个日期是否在同一周 写在NSDate的category里面</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=kt>BOOL</span><span class=p>)</span><span class=nf>isSameDateWithDate:</span><span class=p>(</span><span class=n>NSDate</span> <span class=o>*</span><span class=p>)</span><span class=nv>date</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=c1>//日期间隔大于七天之间返回NO
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=k>if</span> <span class=p>(</span><span class=n>fabs</span><span class=p>([</span><span class=nb>self</span> <span class=nl>timeIntervalSinceDate</span><span class=p>:</span><span class=n>date</span><span class=p>])</span> <span class=o>&gt;=</span> <span class=mi>7</span> <span class=o>*</span> <span class=mi>24</span> <span class=o>*</span><span class=mi>3600</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=k>return</span> <span class=nb>NO</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>NSCalendar</span> <span class=o>*</span><span class=n>calender</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSCalendar</span> <span class=n>currentCalendar</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>calender</span><span class=p>.</span><span class=n>firstWeekday</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span><span class=c1>//设置每周第一天从周一开始
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=c1>//计算两个日期分别为这年第几周
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=n>NSUInteger</span> <span class=n>countSelf</span> <span class=o>=</span> <span class=p>[</span><span class=n>calender</span> <span class=nl>ordinalityOfUnit</span><span class=p>:</span><span class=n>NSCalendarUnitWeekday</span> <span class=nl>inUnit</span><span class=p>:</span><span class=n>NSCalendarUnitYear</span> <span class=nl>forDate</span><span class=p>:</span><span class=nb>self</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>NSUInteger</span> <span class=n>countDate</span> <span class=o>=</span> <span class=p>[</span><span class=n>calender</span> <span class=nl>ordinalityOfUnit</span><span class=p>:</span><span class=n>NSCalendarUnitWeekday</span> <span class=nl>inUnit</span><span class=p>:</span><span class=n>NSCalendarUnitYear</span> <span class=nl>forDate</span><span class=p>:</span><span class=n>date</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=c1>//相等就在同一周，不相等就不在同一周
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=k>return</span> <span class=n>countSelf</span> <span class=o>==</span> <span class=n>countDate</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=应用内打开系统设置界面>应用内打开系统设置界面</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=c1>//iOS8之后
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[[</span><span class=n>UIApplication</span> <span class=n>sharedApplication</span><span class=p>]</span> <span class=nl>openURL</span><span class=p>:[</span><span class=n>NSURL</span> <span class=nl>URLWithString</span><span class=p>:</span><span class=n>UIApplicationOpenSettingsURLString</span><span class=p>]];</span>
</span></span><span class=line><span class=cl><span class=c1>//如果App没有添加权限，显示的是设定界面。如果App有添加权限（例如通知），显示的是App的设定界面。
</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>//iOS8之前
</span></span><span class=line><span class=cl>//先添加一个url type如下图，在代码中调用如下代码,即可跳转到设置页面的对应项
</span></span><span class=line><span class=cl>[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@&#34;prefs:root=WIFI&#34;]];
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>可选值如下：
</span></span><span class=line><span class=cl>About — prefs:root=General&amp;path=About
</span></span><span class=line><span class=cl>Accessibility — prefs:root=General&amp;path=ACCESSIBILITY
</span></span><span class=line><span class=cl>Airplane Mode On — prefs:root=AIRPLANE_MODE
</span></span><span class=line><span class=cl>Auto-Lock — prefs:root=General&amp;path=AUTOLOCK
</span></span><span class=line><span class=cl>Brightness — prefs:root=Brightness
</span></span><span class=line><span class=cl>Bluetooth — prefs:root=General&amp;path=Bluetooth
</span></span><span class=line><span class=cl>Date &amp; Time — prefs:root=General&amp;path=DATE_AND_TIME
</span></span><span class=line><span class=cl>FaceTime — prefs:root=FACETIME
</span></span><span class=line><span class=cl>General — prefs:root=General
</span></span><span class=line><span class=cl>Keyboard — prefs:root=General&amp;path=Keyboard
</span></span><span class=line><span class=cl>iCloud — prefs:root=CASTLE
</span></span><span class=line><span class=cl>iCloud Storage &amp; Backup — prefs:root=CASTLE&amp;path=STORAGE_AND_BACKUP
</span></span><span class=line><span class=cl>International — prefs:root=General&amp;path=INTERNATIONAL
</span></span><span class=line><span class=cl>Location Services — prefs:root=LOCATION_SERVICES
</span></span><span class=line><span class=cl>Music — prefs:root=MUSIC
</span></span><span class=line><span class=cl>Music Equalizer — prefs:root=MUSIC&amp;path=EQ
</span></span><span class=line><span class=cl>Music Volume Limit — prefs:root=MUSIC&amp;path=VolumeLimit
</span></span><span class=line><span class=cl>Network — prefs:root=General&amp;path=Network
</span></span><span class=line><span class=cl>Nike + iPod — prefs:root=NIKE_PLUS_IPOD
</span></span><span class=line><span class=cl>Notes — prefs:root=NOTES
</span></span><span class=line><span class=cl>Notification — prefs:root=NOTIFICATI*****_ID
</span></span><span class=line><span class=cl>Phone — prefs:root=Phone
</span></span><span class=line><span class=cl>Photos — prefs:root=Photos
</span></span><span class=line><span class=cl>Profile — prefs:root=General&amp;path=ManagedConfigurationList
</span></span><span class=line><span class=cl>Reset — prefs:root=General&amp;path=Reset
</span></span><span class=line><span class=cl>Safari — prefs:root=Safari
</span></span><span class=line><span class=cl>Siri — prefs:root=General&amp;path=Assistant
</span></span><span class=line><span class=cl>Sounds — prefs:root=Sounds
</span></span><span class=line><span class=cl>Software Update — prefs:root=General&amp;path=SOFTWARE_UPDATE_LINK
</span></span><span class=line><span class=cl>Store — prefs:root=STORE
</span></span><span class=line><span class=cl>Twitter — prefs:root=TWITTER
</span></span><span class=line><span class=cl>Usage — prefs:root=General&amp;path=USAGE
</span></span><span class=line><span class=cl>VPN — prefs:root=General&amp;path=Network/VPN
</span></span><span class=line><span class=cl>Wallpaper — prefs:root=Wallpaper
</span></span><span class=line><span class=cl>Wi-Fi — prefs:root=WIFI
</span></span></code></pre></div><p><img src=http://upload-images.jianshu.io/upload_images/1608265-0336b1d206210cf1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240 loading=lazy alt=Image.png></p><h1 id=屏蔽触发事件2秒后取消屏蔽>屏蔽触发事件，2秒后取消屏蔽</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>[[</span><span class=n>UIApplication</span> <span class=n>sharedApplication</span><span class=p>]</span> <span class=n>beginIgnoringInteractionEvents</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>dispatch_after</span><span class=p>(</span><span class=n>dispatch_time</span><span class=p>(</span><span class=n>DISPATCH_TIME_NOW</span><span class=p>,</span> <span class=p>(</span><span class=n>int64_t</span><span class=p>)(</span><span class=mi>2</span> <span class=o>*</span> <span class=n>NSEC_PER_SEC</span><span class=p>)),</span> <span class=n>dispatch_get_main_queue</span><span class=p>(),</span> <span class=o>^</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>[[</span><span class=n>UIApplication</span> <span class=n>sharedApplication</span><span class=p>]</span> <span class=n>endIgnoringInteractionEvents</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><h1 id=动画暂停再开始>动画暂停再开始</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>-(</span><span class=kt>void</span><span class=p>)</span><span class=nf>pauseLayer:</span><span class=p>(</span><span class=n>CALayer</span> <span class=o>*</span><span class=p>)</span><span class=nv>layer</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CFTimeInterval</span> <span class=n>pausedTime</span> <span class=o>=</span> <span class=p>[</span><span class=n>layer</span> <span class=nl>convertTime</span><span class=p>:</span><span class=n>CACurrentMediaTime</span><span class=p>()</span> <span class=nl>fromLayer</span><span class=p>:</span><span class=nb>nil</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>layer</span><span class=p>.</span><span class=n>speed</span> <span class=o>=</span> <span class=mf>0.0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>layer</span><span class=p>.</span><span class=n>timeOffset</span> <span class=o>=</span> <span class=n>pausedTime</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>-(</span><span class=kt>void</span><span class=p>)</span><span class=nf>resumeLayer:</span><span class=p>(</span><span class=n>CALayer</span> <span class=o>*</span><span class=p>)</span><span class=nv>layer</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CFTimeInterval</span> <span class=n>pausedTime</span> <span class=o>=</span> <span class=p>[</span><span class=n>layer</span> <span class=n>timeOffset</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>layer</span><span class=p>.</span><span class=n>speed</span> <span class=o>=</span> <span class=mf>1.0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>layer</span><span class=p>.</span><span class=n>timeOffset</span> <span class=o>=</span> <span class=mf>0.0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>layer</span><span class=p>.</span><span class=n>beginTime</span> <span class=o>=</span> <span class=mf>0.0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CFTimeInterval</span> <span class=n>timeSincePause</span> <span class=o>=</span> <span class=p>[</span><span class=n>layer</span> <span class=nl>convertTime</span><span class=p>:</span><span class=n>CACurrentMediaTime</span><span class=p>()</span> <span class=nl>fromLayer</span><span class=p>:</span><span class=nb>nil</span><span class=p>]</span> <span class=o>-</span> <span class=n>pausedTime</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>layer</span><span class=p>.</span><span class=n>beginTime</span> <span class=o>=</span> <span class=n>timeSincePause</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=fillrule原理>fillRule原理</h1><p><img src=http://upload-images.jianshu.io/upload_images/1608265-102c8b228637e659.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240 loading=lazy alt=Image.png></p><h1 id=ios中数字的格式化>iOS中数字的格式化</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=c1>//通过NSNumberFormatter，同样可以设置NSNumber输出的格式。例如如下代码：
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>NSNumberFormatter</span> <span class=o>*</span><span class=n>formatter</span> <span class=o>=</span> <span class=p>[[</span><span class=n>NSNumberFormatter</span> <span class=n>alloc</span><span class=p>]</span> <span class=n>init</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>formatter</span><span class=p>.</span><span class=n>numberStyle</span> <span class=o>=</span> <span class=n>NSNumberFormatterDecimalStyle</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>NSString</span> <span class=o>*</span><span class=n>string</span> <span class=o>=</span> <span class=p>[</span><span class=n>formatter</span> <span class=nl>stringFromNumber</span><span class=p>:[</span><span class=n>NSNumber</span> <span class=nl>numberWithInt</span><span class=p>:</span><span class=mi>123456789</span><span class=p>]];</span>
</span></span><span class=line><span class=cl><span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;Formatted number string:%@&#34;</span><span class=p>,</span><span class=n>string</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>//输出结果为：[1223:403] Formatted number string:123,456,789
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>//其中NSNumberFormatter类有个属性numberStyle，它是一个枚举型，设置不同的值可以输出不同的数字格式。该枚举包括：
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>typedef</span> <span class=nf>NS_ENUM</span><span class=p>(</span><span class=n>NSUInteger</span><span class=p>,</span> <span class=n>NSNumberFormatterStyle</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>NSNumberFormatterNoStyle</span> <span class=o>=</span> <span class=n>kCFNumberFormatterNoStyle</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>NSNumberFormatterDecimalStyle</span> <span class=o>=</span> <span class=n>kCFNumberFormatterDecimalStyle</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>NSNumberFormatterCurrencyStyle</span> <span class=o>=</span> <span class=n>kCFNumberFormatterCurrencyStyle</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>NSNumberFormatterPercentStyle</span> <span class=o>=</span> <span class=n>kCFNumberFormatterPercentStyle</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>NSNumberFormatterScientificStyle</span> <span class=o>=</span> <span class=n>kCFNumberFormatterScientificStyle</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>NSNumberFormatterSpellOutStyle</span> <span class=o>=</span> <span class=n>kCFNumberFormatterSpellOutStyle</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=c1>//各个枚举对应输出数字格式的效果如下：其中第三项和最后一项的输出会根据系统设置的语言区域的不同而不同。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span><span class=mi>1243</span><span class=o>:</span><span class=mi>403</span><span class=p>]</span> <span class=n>Formatted</span> <span class=n>number</span> <span class=nl>string</span><span class=p>:</span><span class=mi>123456789</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1243</span><span class=o>:</span><span class=mi>403</span><span class=p>]</span> <span class=n>Formatted</span> <span class=n>number</span> <span class=nl>string</span><span class=p>:</span><span class=mi>123</span><span class=p>,</span><span class=mi>456</span><span class=p>,</span><span class=mi>789</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1243</span><span class=o>:</span><span class=mi>403</span><span class=p>]</span> <span class=n>Formatted</span> <span class=n>number</span> <span class=nl>string</span><span class=p>:</span><span class=err>￥</span><span class=mi>123</span><span class=p>,</span><span class=mi>456</span><span class=p>,</span><span class=mf>789.00</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1243</span><span class=o>:</span><span class=mi>403</span><span class=p>]</span> <span class=n>Formatted</span> <span class=n>number</span> <span class=nl>string</span><span class=p>:</span><span class=o>-</span><span class=mi>539</span><span class=p>,</span><span class=mi>222</span><span class=p>,</span><span class=mi>988</span><span class=o>%</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1243</span><span class=o>:</span><span class=mi>403</span><span class=p>]</span> <span class=n>Formatted</span> <span class=n>number</span> <span class=nl>string</span><span class=p>:</span><span class=mf>1.23456789E8</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1243</span><span class=o>:</span><span class=mi>403</span><span class=p>]</span> <span class=n>Formatted</span> <span class=n>number</span> <span class=nl>string</span><span class=p>:</span><span class=err>一亿二千三百四十五万六千七百八十九</span>
</span></span></code></pre></div><h1 id=如何获取webview所有的图片地址>如何获取WebView所有的图片地址，</h1><p>在网页加载完成时，通过js获取图片和添加点击的识别方式</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=c1>//UIWebView
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>webViewDidFinishLoad:</span><span class=p>(</span><span class=n>UIWebView</span> <span class=o>*</span><span class=p>)</span><span class=nv>webView</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=c1>//这里是js，主要目的实现对url的获取
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=k>static</span><span class=err> </span> <span class=n>NSString</span> <span class=o>*</span> <span class=k>const</span> <span class=n>jsGetImages</span> <span class=o>=</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=s>@&#34;function getImages(){\
</span></span></span><span class=line><span class=cl><span class=s>    var objs = document.getElementsByTagName(</span><span class=se>\&#34;</span><span class=s>img</span><span class=se>\&#34;</span><span class=s>);\
</span></span></span><span class=line><span class=cl><span class=s>    var imgScr = &#39;&#39;;\
</span></span></span><span class=line><span class=cl><span class=s>    for(var i=0;i&lt;objs.length;i++){\
</span></span></span><span class=line><span class=cl><span class=s>    imgScr = imgScr + objs[i].src + &#39;+&#39;;\
</span></span></span><span class=line><span class=cl><span class=s>    };\
</span></span></span><span class=line><span class=cl><span class=s>    return imgScr;\
</span></span></span><span class=line><span class=cl><span class=s>    };&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>[</span><span class=n>webView</span> <span class=nl>stringByEvaluatingJavaScriptFromString</span><span class=p>:</span><span class=n>jsGetImages</span><span class=p>];</span><span class=c1>//注入js方法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=n>NSString</span> <span class=o>*</span><span class=n>urlResult</span> <span class=o>=</span> <span class=p>[</span><span class=n>webView</span> <span class=nl>stringByEvaluatingJavaScriptFromString</span><span class=p>:</span><span class=s>@&#34;getImages()&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>NSArray</span> <span class=o>*</span><span class=n>urlArray</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSMutableArray</span> <span class=nl>arrayWithArray</span><span class=p>:[</span><span class=n>urlResult</span> <span class=nl>componentsSeparatedByString</span><span class=p>:</span><span class=s>@&#34;+&#34;</span><span class=p>]];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=c1>//urlResurlt 就是获取到得所有图片的url的拼接；mUrlArray就是所有Url的数组
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=c1>//WKWebView
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>webView:</span><span class=p>(</span><span class=n>WKWebView</span> <span class=o>*</span><span class=p>)</span><span class=nv>webView</span> <span class=nf>didFinishNavigation:</span><span class=p>(</span><span class=n>null_unspecified</span> <span class=n>WKNavigation</span> <span class=o>*</span><span class=p>)</span><span class=nv>navigation</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>static</span><span class=err> </span> <span class=n>NSString</span> <span class=o>*</span> <span class=k>const</span> <span class=n>jsGetImages</span> <span class=o>=</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=s>@&#34;function getImages(){\
</span></span></span><span class=line><span class=cl><span class=s>    var objs = document.getElementsByTagName(</span><span class=se>\&#34;</span><span class=s>img</span><span class=se>\&#34;</span><span class=s>);\
</span></span></span><span class=line><span class=cl><span class=s>    var imgScr = &#39;&#39;;\
</span></span></span><span class=line><span class=cl><span class=s>    for(var i=0;i&lt;objs.length;i++){\
</span></span></span><span class=line><span class=cl><span class=s>    imgScr = imgScr + objs[i].src + &#39;+&#39;;\
</span></span></span><span class=line><span class=cl><span class=s>    };\
</span></span></span><span class=line><span class=cl><span class=s>    return imgScr;\
</span></span></span><span class=line><span class=cl><span class=s>    };&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>[</span><span class=n>webView</span> <span class=nl>evaluateJavaScript</span><span class=p>:</span><span class=n>jsGetImages</span> <span class=nl>completionHandler</span><span class=p>:</span><span class=nb>nil</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>[</span><span class=n>webView</span> <span class=nl>evaluateJavaScript</span><span class=p>:</span><span class=s>@&#34;getImages()&#34;</span> <span class=nl>completionHandler</span><span class=p>:</span><span class=o>^</span><span class=p>(</span><span class=kt>id</span> <span class=n>_Nullable</span> <span class=n>result</span><span class=p>,</span> <span class=n>NSError</span> <span class=o>*</span> <span class=n>_Nullable</span> <span class=n>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=err> </span> <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;%@&#34;</span><span class=p>,</span><span class=n>result</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>}];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=获取到webview的高度>获取到webview的高度</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>CGFloat</span><span class=err> </span><span class=n>height</span><span class=err> </span><span class=o>=</span><span class=err> </span><span class=p>[[</span><span class=nb>self</span><span class=p>.</span><span class=n>webView</span><span class=err> </span><span class=nl>stringByEvaluatingJavaScriptFromString</span><span class=p>:</span><span class=s>@&#34;document.body.offsetHeight&#34;</span><span class=p>]</span><span class=err> </span><span class=n>floatValue</span><span class=p>];</span>
</span></span></code></pre></div><h1 id=navigationbar变为纯透明>navigationBar变为纯透明</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=c1>//第一种方法
</span></span></span><span class=line><span class=cl><span class=c1>//导航栏纯透明
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span><span class=nb>self</span><span class=p>.</span><span class=n>navigationBar</span> <span class=nl>setBackgroundImage</span><span class=p>:[</span><span class=n>UIImage</span> <span class=n>new</span><span class=p>]</span> <span class=nl>forBarMetrics</span><span class=p>:</span><span class=n>UIBarMetricsDefault</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=c1>//去掉导航栏底部的黑线
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>self</span><span class=p>.</span><span class=n>navigationBar</span><span class=p>.</span><span class=n>shadowImage</span> <span class=o>=</span> <span class=p>[</span><span class=n>UIImage</span> <span class=n>new</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//第二种方法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[[</span><span class=nb>self</span><span class=p>.</span><span class=n>navigationBar</span> <span class=n>subviews</span><span class=p>]</span> <span class=nl>objectAtIndex</span><span class=p>:</span><span class=mi>0</span><span class=p>].</span><span class=n>alpha</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span></code></pre></div><h1 id=tabbar同理>tabBar同理</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>[</span><span class=nb>self</span><span class=p>.</span><span class=n>tabBar</span> <span class=nl>setBackgroundImage</span><span class=p>:[</span><span class=n>UIImage</span> <span class=n>new</span><span class=p>]];</span>
</span></span><span class=line><span class=cl><span class=nb>self</span><span class=p>.</span><span class=n>tabBar</span><span class=p>.</span><span class=n>shadowImage</span> <span class=o>=</span> <span class=p>[</span><span class=n>UIImage</span> <span class=n>new</span><span class=p>];</span>
</span></span></code></pre></div><h1 id=navigationbar根据滑动距离的渐变色实现>navigationBar根据滑动距离的渐变色实现</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=c1>//第一种
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>scrollViewDidScroll:</span><span class=p>(</span><span class=n>UIScrollView</span> <span class=o>*</span><span class=p>)</span><span class=nv>scrollView</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGFloat</span> <span class=n>offsetToShow</span> <span class=o>=</span> <span class=mf>200.0</span><span class=p>;</span><span class=c1>//滑动多少就完全显示
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err> </span> <span class=err> </span> <span class=n>CGFloat</span> <span class=n>alpha</span> <span class=o>=</span> <span class=mi>1</span> <span class=o>-</span> <span class=p>(</span><span class=n>offsetToShow</span> <span class=o>-</span> <span class=n>scrollView</span><span class=p>.</span><span class=n>contentOffset</span><span class=p>.</span><span class=n>y</span><span class=p>)</span> <span class=o>/</span> <span class=n>offsetToShow</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>[[</span><span class=nb>self</span><span class=p>.</span><span class=n>navigationController</span><span class=p>.</span><span class=n>navigationBar</span> <span class=n>subviews</span><span class=p>]</span> <span class=nl>objectAtIndex</span><span class=p>:</span><span class=mi>0</span><span class=p>].</span><span class=n>alpha</span> <span class=o>=</span> <span class=n>alpha</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=c1>//第二种
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>scrollViewDidScroll:</span><span class=p>(</span><span class=n>UIScrollView</span> <span class=o>*</span><span class=p>)</span><span class=nv>scrollView</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGFloat</span> <span class=n>offsetToShow</span> <span class=o>=</span> <span class=mf>200.0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGFloat</span> <span class=n>alpha</span> <span class=o>=</span> <span class=mi>1</span> <span class=o>-</span> <span class=p>(</span><span class=n>offsetToShow</span> <span class=o>-</span> <span class=n>scrollView</span><span class=p>.</span><span class=n>contentOffset</span><span class=p>.</span><span class=n>y</span><span class=p>)</span> <span class=o>/</span> <span class=n>offsetToShow</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>[</span><span class=nb>self</span><span class=p>.</span><span class=n>navigationController</span><span class=p>.</span><span class=n>navigationBar</span> <span class=nl>setShadowImage</span><span class=p>:[</span><span class=n>UIImage</span> <span class=n>new</span><span class=p>]];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>[</span><span class=nb>self</span><span class=p>.</span><span class=n>navigationController</span><span class=p>.</span><span class=n>navigationBar</span> <span class=nl>setBackgroundImage</span><span class=p>:[</span><span class=nb>self</span> <span class=nl>imageWithColor</span><span class=p>:[[</span><span class=n>UIColor</span> <span class=n>orangeColor</span><span class=p>]</span><span class=nl>colorWithAlphaComponent</span><span class=p>:</span><span class=n>alpha</span><span class=p>]]</span> <span class=nl>forBarMetrics</span><span class=p>:</span><span class=n>UIBarMetricsDefault</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//生成一张纯色的图片
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>-</span> <span class=p>(</span><span class=n>UIImage</span> <span class=o>*</span><span class=p>)</span><span class=nf>imageWithColor:</span><span class=p>(</span><span class=n>UIColor</span> <span class=o>*</span><span class=p>)</span><span class=nv>color</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGRect</span> <span class=n>rect</span> <span class=o>=</span> <span class=n>CGRectMake</span><span class=p>(</span><span class=mf>0.0f</span><span class=p>,</span> <span class=mf>0.0f</span><span class=p>,</span> <span class=mf>1.0f</span><span class=p>,</span> <span class=mf>1.0f</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>UIGraphicsBeginImageContext</span><span class=p>(</span><span class=n>rect</span><span class=p>.</span><span class=n>size</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGContextRef</span> <span class=n>context</span> <span class=o>=</span> <span class=n>UIGraphicsGetCurrentContext</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGContextSetFillColorWithColor</span><span class=p>(</span><span class=n>context</span><span class=p>,</span> <span class=p>[</span><span class=n>color</span> <span class=n>CGColor</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>CGContextFillRect</span><span class=p>(</span><span class=n>context</span><span class=p>,</span> <span class=n>rect</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>UIImage</span> <span class=o>*</span><span class=n>theImage</span> <span class=o>=</span> <span class=n>UIGraphicsGetImageFromCurrentImageContext</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>UIGraphicsEndImageContext</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=k>return</span> <span class=n>theImage</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=ios-开发中一些相关的路径>iOS 开发中一些相关的路径</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>模拟器的位置:
</span></span><span class=line><span class=cl>/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>文档安装位置:
</span></span><span class=line><span class=cl>/Applications/Xcode.app/Contents/Developer/Documentation/DocSets
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>插件保存路径:
</span></span><span class=line><span class=cl>~/Library/ApplicationSupport/Developer/Shared/Xcode/Plug-ins
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>自定义代码段的保存路径:
</span></span><span class=line><span class=cl>~/Library/Developer/Xcode/UserData/CodeSnippets/ 
</span></span><span class=line><span class=cl>如果找不到CodeSnippets文件夹，可以自己新建一个CodeSnippets文件夹。
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>描述文件路径
</span></span><span class=line><span class=cl>~/Library/MobileDevice/Provisioning Profiles
</span></span></code></pre></div><h1 id=navigationitem的barbuttonitem如何紧靠屏幕右边界或者左边界>navigationItem的BarButtonItem如何紧靠屏幕右边界或者左边界？</h1><p>一般情况下，右边的item会和屏幕右侧保持一段距离：
<img src=http://upload-images.jianshu.io/upload_images/1608265-2b25556ad97436ad.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240 loading=lazy alt=image.png>
下面是通过添加一个负值宽度的固定间距的item来解决，也可以改变宽度实现不同的间隔：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>UIImage</span> <span class=o>*</span><span class=n>img</span> <span class=o>=</span> <span class=p>[[</span><span class=n>UIImage</span> <span class=nl>imageNamed</span><span class=p>:</span><span class=s>@&#34;icon_cog&#34;</span><span class=p>]</span> <span class=nl>imageWithRenderingMode</span><span class=p>:</span><span class=n>UIImageRenderingModeAlwaysOriginal</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=c1>//宽度为负数的固定间距的系统item
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>UIBarButtonItem</span> <span class=o>*</span><span class=n>rightNegativeSpacer</span> <span class=o>=</span> <span class=p>[[</span><span class=n>UIBarButtonItem</span> <span class=n>alloc</span><span class=p>]</span> <span class=nl>initWithBarButtonSystemItem</span><span class=p>:</span><span class=n>UIBarButtonSystemItemFixedSpace</span> <span class=nl>target</span><span class=p>:</span><span class=nb>nil</span> <span class=nl>action</span><span class=p>:</span><span class=nb>nil</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=n>rightNegativeSpacer</span> <span class=nl>setWidth</span><span class=p>:</span><span class=o>-</span><span class=mi>15</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>UIBarButtonItem</span> <span class=o>*</span><span class=n>rightBtnItem1</span> <span class=o>=</span> <span class=p>[[</span><span class=n>UIBarButtonItem</span> <span class=n>alloc</span><span class=p>]</span><span class=nl>initWithImage</span><span class=p>:</span><span class=n>img</span> <span class=nl>style</span><span class=p>:</span><span class=n>UIBarButtonItemStylePlain</span> <span class=nl>target</span><span class=p>:</span><span class=nb>self</span> <span class=nl>action</span><span class=p>:</span><span class=k>@selector</span><span class=p>(</span><span class=nl>rightButtonItemClicked</span><span class=p>:)];</span>
</span></span><span class=line><span class=cl><span class=n>UIBarButtonItem</span> <span class=o>*</span><span class=n>rightBtnItem2</span> <span class=o>=</span> <span class=p>[[</span><span class=n>UIBarButtonItem</span> <span class=n>alloc</span><span class=p>]</span><span class=nl>initWithImage</span><span class=p>:</span><span class=n>img</span> <span class=nl>style</span><span class=p>:</span><span class=n>UIBarButtonItemStylePlain</span> <span class=nl>target</span><span class=p>:</span><span class=nb>self</span> <span class=nl>action</span><span class=p>:</span><span class=k>@selector</span><span class=p>(</span><span class=nl>rightButtonItemClicked</span><span class=p>:)];</span>
</span></span><span class=line><span class=cl><span class=nb>self</span><span class=p>.</span><span class=n>navigationItem</span><span class=p>.</span><span class=n>rightBarButtonItems</span> <span class=o>=</span> <span class=l>@[</span><span class=n>rightNegativeSpacer</span><span class=p>,</span><span class=n>rightBtnItem1</span><span class=p>,</span><span class=n>rightBtnItem2</span><span class=l>]</span><span class=p>;</span>
</span></span></code></pre></div><p><img src=http://upload-images.jianshu.io/upload_images/1608265-649770861a945c45.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240 loading=lazy alt=image.png></p><h1 id=nsstring进行url编码和解码>NSString进行URL编码和解码</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>NSString</span> <span class=o>*</span><span class=n>string</span> <span class=o>=</span> <span class=s>@&#34;http://abc.com?aaa=你好&amp;bbb=tttee&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//编码 打印：http://abc.com?aaa=%E4%BD%A0%E5%A5%BD&amp;bbb=tttee
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>string</span> <span class=o>=</span> <span class=p>[</span><span class=n>string</span> <span class=nl>stringByAddingPercentEncodingWithAllowedCharacters</span><span class=p>:[</span><span class=n>NSCharacterSet</span> <span class=n>URLQueryAllowedCharacterSet</span><span class=p>]];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//解码 打印：http://abc.com?aaa=你好&amp;bbb=tttee
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>string</span> <span class=o>=</span> <span class=p>[</span><span class=n>string</span> <span class=n>stringByRemovingPercentEncoding</span><span class=p>];</span>
</span></span></code></pre></div><h1 id=uiwebview设置user-agent>UIWebView设置User-Agent。</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=c1>//设置
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>NSDictionary</span> <span class=o>*</span><span class=n>dic</span> <span class=o>=</span> <span class=l>@{</span><span class=s>@&#34;UserAgent&#34;</span><span class=o>:</span><span class=s>@&#34;your UserAgent&#34;</span><span class=l>}</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=n>NSUserDefaults</span> <span class=n>standardUserDefaults</span><span class=p>]</span> <span class=nl>registerDefaults</span><span class=p>:</span><span class=n>dic</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=c1>//获取
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>NSString</span> <span class=o>*</span><span class=n>agent</span> <span class=o>=</span> <span class=p>[</span><span class=nb>self</span><span class=p>.</span><span class=n>WebView</span> <span class=nl>stringByEvaluatingJavaScriptFromString</span><span class=p>:</span><span class=s>@&#34;navigator.userAgent&#34;</span><span class=p>];</span>
</span></span></code></pre></div><h1 id=获取硬盘总容量与可用容量>获取硬盘总容量与可用容量:</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>NSFileManager</span> <span class=o>*</span><span class=n>fileManager</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSFileManager</span> <span class=n>defaultManager</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>NSDictionary</span> <span class=o>*</span><span class=n>attributes</span> <span class=o>=</span> <span class=p>[</span><span class=n>fileManager</span> <span class=nl>attributesOfFileSystemForPath</span><span class=p>:</span><span class=n>NSHomeDirectory</span><span class=p>()</span> <span class=nl>error</span><span class=p>:</span><span class=nb>nil</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;容量%.2fG&#34;</span><span class=p>,[</span><span class=n>attributes</span><span class=p>[</span><span class=n>NSFileSystemSize</span><span class=p>]</span> <span class=n>doubleValue</span><span class=p>]</span> <span class=o>/</span> <span class=p>(</span><span class=n>powf</span><span class=p>(</span><span class=mi>1024</span><span class=p>,</span> <span class=mi>3</span><span class=p>)));</span>
</span></span><span class=line><span class=cl><span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;可用%.2fG&#34;</span><span class=p>,[</span><span class=n>attributes</span><span class=p>[</span><span class=n>NSFileSystemFreeSize</span><span class=p>]</span> <span class=n>doubleValue</span><span class=p>]</span> <span class=o>/</span> <span class=n>powf</span><span class=p>(</span><span class=mi>1024</span><span class=p>,</span> <span class=mi>3</span><span class=p>));</span>
</span></span></code></pre></div><h1 id=获取uicolor的rgba值>获取UIColor的RGBA值</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>UIColor</span> <span class=o>*</span><span class=n>color</span> <span class=o>=</span> <span class=p>[</span><span class=n>UIColor</span> <span class=nl>colorWithRed</span><span class=p>:</span><span class=mf>0.2</span> <span class=nl>green</span><span class=p>:</span><span class=mf>0.3</span> <span class=nl>blue</span><span class=p>:</span><span class=mf>0.9</span> <span class=nl>alpha</span><span class=p>:</span><span class=mf>1.0</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>CGFloat</span> <span class=o>*</span><span class=n>components</span> <span class=o>=</span> <span class=n>CGColorGetComponents</span><span class=p>(</span><span class=n>color</span><span class=p>.</span><span class=n>CGColor</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;Red: %.1f&#34;</span><span class=p>,</span> <span class=n>components</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;Green: %.1f&#34;</span><span class=p>,</span> <span class=n>components</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;Blue: %.1f&#34;</span><span class=p>,</span> <span class=n>components</span><span class=p>[</span><span class=mi>2</span><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;Alpha: %.1f&#34;</span><span class=p>,</span> <span class=n>components</span><span class=p>[</span><span class=mi>3</span><span class=p>]);</span>
</span></span></code></pre></div><h1 id=修改textfield的placeholder的字体颜色大小>修改textField的placeholder的字体颜色、大小</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>[</span><span class=nb>self</span><span class=p>.</span><span class=n>textField</span> <span class=nl>setValue</span><span class=p>:[</span><span class=n>UIColor</span> <span class=n>redColor</span><span class=p>]</span> <span class=nl>forKeyPath</span><span class=p>:</span><span class=s>@&#34;_placeholderLabel.textColor&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nb>self</span><span class=p>.</span><span class=n>textField</span> <span class=nl>setValue</span><span class=p>:[</span><span class=n>UIFont</span> <span class=nl>boldSystemFontOfSize</span><span class=p>:</span><span class=mi>16</span><span class=p>]</span> <span class=nl>forKeyPath</span><span class=p>:</span><span class=s>@&#34;_placeholderLabel.font&#34;</span><span class=p>];</span>
</span></span></code></pre></div><h1 id=afn移除json中的nsnull>AFN移除JSON中的NSNull</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>AFJSONResponseSerializer</span> <span class=o>*</span><span class=n>response</span> <span class=o>=</span> <span class=p>[</span><span class=n>AFJSONResponseSerializer</span> <span class=n>serializer</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>response</span><span class=p>.</span><span class=n>removesKeysWithNullValues</span> <span class=o>=</span> <span class=nb>YES</span><span class=p>;</span>
</span></span></code></pre></div><h1 id=ceil和floor>ceil()和floor()</h1><p><code>ceil()</code>功 能：返回大于或者等于指定表达式的最小整数
<code>floor()</code>功 能：返回小于或者等于指定表达式的最大整数</p><h1 id=uiwebview里面的图片自适应屏幕>UIWebView里面的图片自适应屏幕</h1><p>在webView加载完的代理方法里面这样写：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>webViewDidFinishLoad:</span><span class=p>(</span><span class=n>UIWebView</span> <span class=o>*</span><span class=p>)</span><span class=nv>webView</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>NSString</span> <span class=o>*</span><span class=n>js</span> <span class=o>=</span> <span class=s>@&#34;function imgAutoFit() { \
</span></span></span><span class=line><span class=cl><span class=s>    var imgs = document.getElementsByTagName(&#39;img&#39;); \
</span></span></span><span class=line><span class=cl><span class=s>    for (var i = 0; i &lt; imgs.length; ++i) { \
</span></span></span><span class=line><span class=cl><span class=s>    var img = imgs[i]; \
</span></span></span><span class=line><span class=cl><span class=s>    img.style.maxWidth = %f; \
</span></span></span><span class=line><span class=cl><span class=s>    } \
</span></span></span><span class=line><span class=cl><span class=s>    }&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=n>js</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSString</span> <span class=nl>stringWithFormat</span><span class=p>:</span><span class=n>js</span><span class=p>,</span> <span class=p>[</span><span class=n>UIScreen</span> <span class=n>mainScreen</span><span class=p>].</span><span class=n>bounds</span><span class=p>.</span><span class=n>size</span><span class=p>.</span><span class=n>width</span> <span class=o>-</span> <span class=mi>20</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err>  </span> <span class=err> </span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>[</span><span class=n>webView</span> <span class=nl>stringByEvaluatingJavaScriptFromString</span><span class=p>:</span><span class=n>js</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=err> </span> <span class=err> </span> <span class=p>[</span><span class=n>webView</span> <span class=nl>stringByEvaluatingJavaScriptFromString</span><span class=p>:</span><span class=s>@&#34;imgAutoFit()&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=uilabel显示html>UILabel显示Html</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl>    <span class=n>NSString</span> <span class=o>*</span><span class=n>htmlString</span> <span class=o>=</span> <span class=s>@&#34;Some html string&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>NSAttributedString</span> <span class=o>*</span><span class=n>attrStr</span> <span class=o>=</span> <span class=p>[[</span><span class=n>NSAttributedString</span> <span class=n>alloc</span><span class=p>]</span> <span class=nl>initWithData</span><span class=p>:[</span><span class=n>htmlString</span> <span class=nl>dataUsingEncoding</span><span class=p>:</span><span class=n>NSUnicodeStringEncoding</span><span class=p>]</span> <span class=nl>options</span><span class=p>:</span><span class=l>@{</span><span class=nl>NSDocumentTypeDocumentAttribute</span><span class=p>:</span><span class=n>NSHTMLTextDocumentType</span><span class=l>}</span> <span class=nl>documentAttributes</span><span class=p>:</span><span class=nb>nil</span> <span class=nl>error</span><span class=p>:</span><span class=nb>nil</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=n>UILabel</span> <span class=o>*</span><span class=n>label</span> <span class=o>=</span> <span class=p>[[</span><span class=n>UILabel</span> <span class=n>alloc</span><span class=p>]</span> <span class=nl>initWithFrame</span><span class=p>:</span><span class=nb>self</span><span class=p>.</span><span class=n>view</span><span class=p>.</span><span class=n>bounds</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=n>label</span><span class=p>.</span><span class=n>attributedText</span> <span class=o>=</span> <span class=n>attrStr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nb>self</span><span class=p>.</span><span class=n>view</span> <span class=nl>addSubview</span><span class=p>:</span><span class=n>label</span><span class=p>];</span>
</span></span></code></pre></div><h1 id=模拟器语言切换>模拟器语言切换</h1><p>xode&mdash;>Product&mdash;>Scheme&mdash;>Edit Scheme&mdash;>Run&mdash;>Application Language&amp;Region
在这里选择所需要的语言，这样再运行的时候，模拟器语言就变成了所选的。
<img src=https://upload-images.jianshu.io/upload_images/1608265-691609ca39a4e069.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240 loading=lazy alt=image.png></p><h1 id=汉字转拼音>汉字转拼音</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>NSString</span> <span class=o>*</span><span class=n>chineseText</span> <span class=o>=</span> <span class=s>@&#34;啦啦啦德玛西亚&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=n>chineseText</span><span class=p>.</span><span class=n>length</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>NSMutableString</span> <span class=o>*</span><span class=n>ms</span> <span class=o>=</span> <span class=p>[[</span><span class=n>NSMutableString</span> <span class=n>alloc</span><span class=p>]</span> <span class=nl>initWithString</span><span class=p>:</span><span class=n>chineseText</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//带声标
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=n>CFStringTransform</span><span class=p>((</span><span class=k>__bridge</span> <span class=n>CFMutableStringRef</span><span class=p>)</span><span class=n>ms</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>kCFStringTransformMandarinLatin</span><span class=p>,</span> <span class=nb>NO</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;pinyin: %@&#34;</span><span class=p>,</span> <span class=n>ms</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//不带声标
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=n>CFStringTransform</span><span class=p>((</span><span class=k>__bridge</span> <span class=n>CFMutableStringRef</span><span class=p>)</span><span class=n>ms</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>kCFStringTransformStripDiacritics</span><span class=p>,</span> <span class=nb>NO</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;pinyin: %@&#34;</span><span class=p>,</span> <span class=n>ms</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>NSString</span> <span class=o>*</span><span class=n>name</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSString</span> <span class=nl>stringWithString</span><span class=p>:</span><span class=n>ms</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;%@&#34;</span><span class=p>,</span><span class=n>name</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h1 id=使用uiinterpolatingmotioneffect可以使页面随着设备在空间的移动而发生微移具体的效果可以查看ios7系统的解锁界面>使用UIInterpolatingMotionEffect可以使页面随着设备在空间的移动而发生微移。具体的效果可以查看IOS7系统的解锁界面</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>UIInterpolatingMotionEffect</span> <span class=o>*</span><span class=n>interpolationHorizontal</span> <span class=o>=</span> <span class=p>[[</span><span class=n>UIInterpolatingMotionEffect</span> <span class=n>alloc</span><span class=p>]</span> <span class=nl>initWithKeyPath</span><span class=p>:</span><span class=s>@&#34;center.x&#34;</span> <span class=nl>type</span><span class=p>:</span><span class=n>UIInterpolatingMotionEffectTypeTiltAlongHorizontalAxis</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>interpolationHorizontal</span><span class=p>.</span><span class=n>minimumRelativeValue</span> <span class=o>=</span> <span class=l>@(</span><span class=o>-</span><span class=mi>20</span><span class=l>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>interpolationHorizontal</span><span class=p>.</span><span class=n>maximumRelativeValue</span> <span class=o>=</span> <span class=l>@(</span><span class=mi>20</span><span class=l>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>UIInterpolatingMotionEffect</span> <span class=o>*</span><span class=n>interpolationVertical</span> <span class=o>=</span> <span class=p>[[</span><span class=n>UIInterpolatingMotionEffect</span> <span class=n>alloc</span><span class=p>]</span> <span class=nl>initWithKeyPath</span><span class=p>:</span><span class=s>@&#34;center.y&#34;</span> <span class=nl>type</span><span class=p>:</span><span class=n>UIInterpolatingMotionEffectTypeTiltAlongVerticalAxis</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>interpolationVertical</span><span class=p>.</span><span class=n>minimumRelativeValue</span> <span class=o>=</span> <span class=l>@(</span><span class=o>-</span><span class=mi>20</span><span class=l>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>interpolationVertical</span><span class=p>.</span><span class=n>maximumRelativeValue</span> <span class=o>=</span> <span class=l>@(</span><span class=mi>20</span><span class=l>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nb>self</span><span class=p>.</span><span class=n>view</span> <span class=nl>addMotionEffect</span><span class=p>:</span><span class=n>interpolationHorizontal</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nb>self</span><span class=p>.</span><span class=n>view</span> <span class=nl>addMotionEffect</span><span class=p>:</span><span class=n>interpolationVertical</span><span class=p>];</span>
</span></span></code></pre></div><h1 id=ns_requires_super>NS_REQUIRES_SUPER</h1><p>要求子类重写父类的方法必须先调用super，子类重写这个方法就会自动警告提示要调用这个super方法。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>prepare</span> <span class=n>NS_REQUIRES_SUPER</span><span class=p>;</span>
</span></span></code></pre></div><h1 id=webview长按保存图片>WebView长按保存图片</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=err>加一个长按手势，在响应里：</span>
</span></span><span class=line><span class=cl><span class=n>NSString</span> <span class=o>*</span><span class=n>imgURL</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSString</span> <span class=nl>stringWithFormat</span><span class=p>:</span><span class=s>@&#34;document.elementFromPoint(%f, %f).src&#34;</span><span class=p>,</span> <span class=n>touchPoint</span><span class=p>.</span><span class=n>x</span><span class=p>,</span> <span class=n>touchPoint</span><span class=p>.</span><span class=n>y</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>NSString</span> <span class=o>*</span><span class=n>urlToSave</span> <span class=o>=</span> <span class=p>[</span><span class=nb>self</span><span class=p>.</span><span class=n>webView</span> <span class=nl>stringByEvaluatingJavaScriptFromString</span><span class=p>:</span><span class=n>imgURL</span><span class=p>];</span>
</span></span></code></pre></div><h1 id=文字转语音播放>文字转语音播放</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=cp>#import &lt;AVFoundation/AVFoundation.h&gt;
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>@property</span> <span class=p>(</span><span class=k>nonatomic</span><span class=p>,</span> <span class=k>strong</span><span class=p>)</span> <span class=n>AVSpeechSynthesizer</span> <span class=o>*</span><span class=n>av</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//开始或暂停
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>start:</span><span class=p>(</span><span class=n>UIButton</span> <span class=o>*</span><span class=p>)</span><span class=nv>sender</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>sender</span><span class=p>.</span><span class=n>selected</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nb>self</span><span class=p>.</span><span class=n>av</span><span class=p>.</span><span class=n>isPaused</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=p>[</span><span class=nb>self</span><span class=p>.</span><span class=n>av</span> <span class=n>continueSpeaking</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=n>sender</span><span class=p>.</span><span class=n>selected</span> <span class=o>=</span> <span class=o>!</span><span class=n>sender</span><span class=p>.</span><span class=n>selected</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>AVSpeechUtterance</span><span class=o>*</span><span class=n>utterance</span> <span class=o>=</span> <span class=p>[[</span><span class=n>AVSpeechUtterance</span> <span class=n>alloc</span><span class=p>]</span><span class=nl>initWithString</span><span class=p>:</span><span class=s>@&#34;大渣好 我系渣渣辉&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=n>utterance</span><span class=p>.</span><span class=n>rate</span><span class=o>=</span><span class=mf>0.5</span><span class=p>;</span><span class=c1>// 设置语速，范围0-1，注意0最慢，1最快；AVSpeechUtteranceMinimumSpeechRate最慢，AVSpeechUtteranceMaximumSpeechRate最快
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=n>utterance</span><span class=p>.</span><span class=n>voice</span> <span class=o>=</span> <span class=p>[</span><span class=n>AVSpeechSynthesisVoice</span> <span class=nl>voiceWithLanguage</span><span class=p>:</span><span class=s>@&#34;en-GB&#34;</span><span class=p>];</span><span class=c1>//设置发音，这是中文普通话;
</span></span></span><span class=line><span class=cl><span class=c1></span>            
</span></span><span class=line><span class=cl>            <span class=nb>self</span><span class=p>.</span><span class=n>av</span> <span class=o>=</span> <span class=p>[[</span><span class=n>AVSpeechSynthesizer</span> <span class=n>alloc</span><span class=p>]</span> <span class=n>init</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=nb>self</span><span class=p>.</span><span class=n>av</span><span class=p>.</span><span class=n>delegate</span> <span class=o>=</span> <span class=nb>self</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>[</span><span class=nb>self</span><span class=p>.</span><span class=n>av</span> <span class=nl>speakUtterance</span><span class=p>:</span><span class=n>utterance</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=n>sender</span><span class=p>.</span><span class=n>selected</span> <span class=o>=</span> <span class=o>!</span><span class=n>sender</span><span class=p>.</span><span class=n>selected</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>//[av stopSpeakingAtBoundary:AVSpeechBoundaryWord];//感觉效果一样，对应代理&gt;&gt;&gt;取消
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=p>[</span><span class=nb>self</span><span class=p>.</span><span class=n>av</span> <span class=nl>pauseSpeakingAtBoundary</span><span class=p>:</span><span class=n>AVSpeechBoundaryWord</span><span class=p>];</span><span class=c1>//暂停
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>sender</span><span class=p>.</span><span class=n>selected</span> <span class=o>=</span> <span class=o>!</span><span class=n>sender</span><span class=p>.</span><span class=n>selected</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>@protocol</span> <span class=nc>AVSpeechSynthesizerDelegate</span> <span class=o>&lt;</span><span class=n>NSObject</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>@optional</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nl>speechSynthesizer</span><span class=p>:(</span><span class=n>AVSpeechSynthesizer</span> <span class=o>*</span><span class=p>)</span><span class=n>synthesizer</span> <span class=nl>didStartSpeechUtterance</span><span class=p>:(</span><span class=n>AVSpeechUtterance</span> <span class=o>*</span><span class=p>)</span><span class=n>utterance</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>speechSynthesizer:</span><span class=p>(</span><span class=n>AVSpeechSynthesizer</span> <span class=o>*</span><span class=p>)</span><span class=nv>synthesizer</span> <span class=nf>didFinishSpeechUtterance:</span><span class=p>(</span><span class=n>AVSpeechUtterance</span> <span class=o>*</span><span class=p>)</span><span class=nv>utterance</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>speechSynthesizer:</span><span class=p>(</span><span class=n>AVSpeechSynthesizer</span> <span class=o>*</span><span class=p>)</span><span class=nv>synthesizer</span> <span class=nf>didPauseSpeechUtterance:</span><span class=p>(</span><span class=n>AVSpeechUtterance</span> <span class=o>*</span><span class=p>)</span><span class=nv>utterance</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>speechSynthesizer:</span><span class=p>(</span><span class=n>AVSpeechSynthesizer</span> <span class=o>*</span><span class=p>)</span><span class=nv>synthesizer</span> <span class=nf>didContinueSpeechUtterance:</span><span class=p>(</span><span class=n>AVSpeechUtterance</span> <span class=o>*</span><span class=p>)</span><span class=nv>utterance</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>speechSynthesizer:</span><span class=p>(</span><span class=n>AVSpeechSynthesizer</span> <span class=o>*</span><span class=p>)</span><span class=nv>synthesizer</span> <span class=nf>didCancelSpeechUtterance:</span><span class=p>(</span><span class=n>AVSpeechUtterance</span> <span class=o>*</span><span class=p>)</span><span class=nv>utterance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=kt>void</span><span class=p>)</span><span class=nf>speechSynthesizer:</span><span class=p>(</span><span class=n>AVSpeechSynthesizer</span> <span class=o>*</span><span class=p>)</span><span class=nv>synthesizer</span> <span class=nf>willSpeakRangeOfSpeechString:</span><span class=p>(</span><span class=n>NSRange</span><span class=p>)</span><span class=nv>characterRange</span> <span class=nf>utterance:</span><span class=p>(</span><span class=n>AVSpeechUtterance</span> <span class=o>*</span><span class=p>)</span><span class=nv>utterance</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>@end</span>
</span></span></code></pre></div><h1 id=在dock上添加空白区格>在Dock上添加空白区格</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>终端运行两条命令：
</span></span><span class=line><span class=cl>defaults write com.apple.dock persistent-apps -array-add <span class=s1>&#39;{&#34;tile-type&#34;=&#34;spacer-tile&#34;;}&#39;</span>
</span></span><span class=line><span class=cl>killall Dock
</span></span></code></pre></div><h1 id=改变截屏文件的类型>改变截屏文件的类型</h1><p>默认的，MacOS把截屏存成PNG格式，通常这都没什么问题。但是如果你想要其他的格式，例如jpg？则使用以下命令：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>defaults write com.apple.screencapture <span class=nb>type</span> jpg
</span></span></code></pre></div><p>只需要把jpg替换成你想要的扩展格式，无论是JPEG，TIFF或者是PDF，然后键入如下命令：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>killall SystemUIServer
</span></span></code></pre></div><h1 id=将数字转成字节单位>将数字转成字节单位</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=n>NSString</span> <span class=o>*</span><span class=n>folderSizeStr</span> <span class=o>=</span> <span class=p>[</span><span class=n>NSByteCountFormatter</span> <span class=nl>stringFromByteCount</span><span class=p>:</span><span class=mi>12334</span> <span class=nl>countStyle</span><span class=p>:</span><span class=n>NSByteCountFormatterCountStyleBinary</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>NSLog</span><span class=p>(</span><span class=s>@&#34;%@&#34;</span><span class=p>,</span><span class=n>folderSizeStr</span><span class=p>);</span>
</span></span></code></pre></div><h1 id=检查有没有使用idfa>检查有没有使用idfa</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>终端运行:
</span></span><span class=line><span class=cl>grep -r advertisingIdentifier .
</span></span></code></pre></div><h1 id=查看app启动耗时>查看app启动耗时</h1><p>在 Xcode 中 Edit scheme -> Run -> Auguments 添加环境变量DYLD_PRINT_STATISTICS 设为 1。启动app控制台输出的内容如下：
<img src=https://upload-images.jianshu.io/upload_images/1608265-1315e7704c009305.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240 loading=lazy alt=查看app启动耗时></p><h1 id=获取图片类型>获取图片类型</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-objc data-lang=objc><span class=line><span class=cl><span class=p>-</span> <span class=p>(</span><span class=n>NSString</span> <span class=o>*</span><span class=p>)</span><span class=nf>contentTypeForImageData:</span><span class=p>(</span><span class=n>NSData</span> <span class=o>*</span><span class=p>)</span><span class=nv>data</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>uint8_t</span> <span class=n>c</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=n>data</span> <span class=nl>getBytes</span><span class=p>:</span><span class=o>&amp;</span><span class=n>c</span> <span class=nl>length</span><span class=p>:</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=k>switch</span> <span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=mh>0xFF</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=s>@&#34;jpeg&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=mh>0x89</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=s>@&#34;png&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=mh>0x47</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=s>@&#34;gif&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=mh>0x49</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=mh>0x4D</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=s>@&#34;tiff&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=mh>0x52</span><span class=o>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>([</span><span class=n>data</span> <span class=n>length</span><span class=p>]</span> <span class=o>&lt;</span> <span class=mi>12</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=nb>nil</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=n>NSString</span> <span class=o>*</span><span class=n>testString</span> <span class=o>=</span> <span class=p>[[</span><span class=n>NSString</span> <span class=n>alloc</span><span class=p>]</span> <span class=nl>initWithData</span><span class=p>:[</span><span class=n>data</span> <span class=nl>subdataWithRange</span><span class=p>:</span><span class=n>NSMakeRange</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>12</span><span class=p>)]</span> <span class=nl>encoding</span><span class=p>:</span><span class=n>NSASCIIStringEncoding</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>([</span><span class=n>testString</span> <span class=nl>hasPrefix</span><span class=p>:</span><span class=s>@&#34;RIFF&#34;</span><span class=p>]</span> <span class=o>&amp;&amp;</span> <span class=p>[</span><span class=n>testString</span> <span class=nl>hasSuffix</span><span class=p>:</span><span class=s>@&#34;WEBP&#34;</span><span class=p>])</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=s>@&#34;webp&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=nb>nil</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>nil</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>持续更新中……。</p></section><footer class=article-footer></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/202202sublime%E5%8E%BB%E9%99%A4%E9%87%8D%E5%A4%8D%E8%A1%8C/><div class=article-details><h2 class=article-title>sublime去除重复行</h2></div></a></article><article><a href=/p/202104mac%E4%B8%8A%E5%A5%BD%E7%94%A8%E7%9A%84%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/><div class=article-details><h2 class=article-title>Mac上好用的软件推荐，持续更新</h2></div></a></article><article><a href=/p/202103linux%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3%E7%9A%84%E4%B8%80%E4%BA%9B%E4%B8%9C%E8%A5%BF/><div class=article-details><h2 class=article-title>Linux使用相关的一些东西</h2></div></a></article><article><a href=/p/201903ioser%E9%83%BD%E8%A6%81%E7%9F%A5%E9%81%93%E7%9A%84lldb%E4%BB%8B%E7%BB%8D%E4%B8%8Echisel%E8%BF%9B%E9%98%B6/><div class=article-details><h2 class=article-title>iOSer都要知道的LLDB介绍与Chisel进阶</h2></div></a></article><article><a href=/p/201805ios%E4%B8%AD@%E5%8A%9F%E8%83%BD%E7%9A%84%E5%AE%8C%E6%95%B4%E5%AE%9E%E7%8E%B0/><div class=article-details><h2 class=article-title>iOS中@功能的完整实现</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2016 -
2023 小松哥的博客</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.16.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>