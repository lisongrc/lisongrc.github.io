<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="什么是正则表达式 正则表达式就是用事先定义好的一些特定字符、及这些特定字符的组合，组成一个“规则字符串”，用来表达对字符串的一种过滤逻辑。 通过"><title>系统地学习正则表达式(一)：基础篇</title><link rel=canonical href=https://lisongrc.github.io/p/201609835121d0/><link rel=stylesheet href=/scss/style.min.8191399262444ab68b72a18c97392f5349be20a1615d77445be51e974c144cff.css><meta property="og:title" content="系统地学习正则表达式(一)：基础篇"><meta property="og:description" content="什么是正则表达式 正则表达式就是用事先定义好的一些特定字符、及这些特定字符的组合，组成一个“规则字符串”，用来表达对字符串的一种过滤逻辑。 通过"><meta property="og:url" content="https://lisongrc.github.io/p/201609835121d0/"><meta property="og:site_name" content="小松哥的博客"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="regular"><meta property="article:published_time" content="2016-09-13T19:13:44+00:00"><meta property="article:modified_time" content="2016-09-13T19:13:44+00:00"><meta name=twitter:title content="系统地学习正则表达式(一)：基础篇"><meta name=twitter:description content="什么是正则表达式 正则表达式就是用事先定义好的一些特定字符、及这些特定字符的组合，组成一个“规则字符串”，用来表达对字符串的一种过滤逻辑。 通过"><meta name=referrer content="no-referrer"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu66761f67689d09650ff2d1e3069c4103_356268_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a>
<span class=emoji>😎</span></figure><div class=site-meta><h1 class=site-name><a href=/>小松哥的博客</a></h1><h2 class=site-description>是缘是情是童真还是意外</h2></div></header><ol class=social-menu><li><a href=https://github.com/lisongrc target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>主页</span></a></li><li><a href=/%E5%85%B3%E4%BA%8E/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>关于</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><li><a href=/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg><span>Links</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>暗色模式</span></li></div></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/ios/>iOS</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/201609835121d0/>系统地学习正则表达式(一)：基础篇</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Sep 13, 2016</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>阅读时长: 10 分钟</time></div></footer></div></header><section class=article-content><meta name=referrer content="no-referrer"><h1 id=什么是正则表达式>什么是正则表达式</h1><p>正则表达式就是用事先定义好的一些特定字符、及这些特定字符的组合，组成一个“规则字符串”，用来表达对字符串的一种过滤逻辑。</p><p>通过正则表达式可以达到如下的目的：</p><blockquote><ol><li>给定的字符串是否符合正则表达式的过滤逻辑（称作“匹配”）；</li><li>可以通过正则表达式，从字符串中获取我们想要的特定部分。</li></ol></blockquote><p>为了让大家更方便地学习，先推荐一个验证正则表达式的软件<code>Regextor</code>，具体可以看我的<a class=link href=http://www.jianshu.com/p/b304515d225b target=_blank rel=noopener>这篇文章</a>，里面还推荐了很多Mac上的好软件。</p><p><img src=http://upload-images.jianshu.io/upload_images/1608265-2387f6323fd09a53.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240 loading=lazy alt=Regextor></p><p>下面开始讲解正则表达式各种规则：</p><h1 id=匹配普通文本字符>匹配普通文本字符</h1><p>正则表达式可以只包含普通的文本，代表去精确匹配这个文本。例如:</p><blockquote><p>正则表达式：<code>song</code>
待匹配文本：xiaosongge，xiaoSongge
匹配后结果：xiao<code>song</code>ge，xiaoSongge</p></blockquote><p>正则表达式默认是区分大小写的，所以<code>song</code>不会匹配 &ldquo;Song&rdquo; 。但是大部分的正则表达式实现都提供了一个选项表示不区分大小写。</p><h1 id=匹配任意字符>匹配任意字符</h1><p><code>.</code>用来匹配一个任意字符，例如：</p><blockquote><p>正则表达式：<code>c.t</code>
待匹配文本：cat cet caaat dog
匹配后结果：<code>cat</code> <code>cet</code> caaat dog</p></blockquote><p>分析：<code>c.t</code>会匹配以" c &ldquo;开头，以&rdquo; t &ldquo;结尾，中间为任意字符的字符串。</p><p>同理，多个连续的<code>.</code>可以匹配多个连续的任意字符：</p><blockquote><p>正则表达式：<code>c..t</code>
待匹配文本：cat cet caat dog
匹配后结果：cat cet <code>caat</code> dog</p></blockquote><h1 id=匹配特殊字符>匹配特殊字符</h1><p><code>.</code>在正则表达式中含有特殊的意义，是一个特殊的字符。<code>\ </code>也是特殊字符，可以对特殊字符起到转义作用。如果你想匹配的是一个真正的&rdquo; . &ldquo;字符，需要在<code>.</code>前面加上<code>\ </code>对字符进行转义。所以，<code>\.</code>表示真正的&rdquo; . &ldquo;字符。</p><blockquote><p>正则表达式：<code>c\.t</code>
待匹配文本：cat c.t dog
匹配后结果：cat <code>c.t</code> dog</p></blockquote><p>注意：因为<code>\ </code>也是特殊字符，所以想要匹配一个真正的&rdquo; \ &ldquo;字符，需要使用两个反斜线<code>\\\\ </code>：</p><blockquote><p>正则表达式：<code>c\\\t</code>
待匹配文本：cat c\t dog
匹配后结果：cat <code>c\t</code> dog</p></blockquote><h1 id=使用字符集合>使用字符集合</h1><p>上面说到<code>.</code>能匹配一个任意字符，但是如果我想匹配几个特定字符怎么办？匹配一组特定的字符可以使用<code>[</code>和<code>]</code>元字符。</p><blockquote><p>正则表达式：<code>c[ab]t</code>
待匹配文本：cat cbt cet
匹配后结果：<code>cat</code> <code>cbt</code> cet</p></blockquote><p>分析：<code>[ab]</code>会匹配&rdquo; a &ldquo;或者&rdquo; b &ldquo;。所以<code>c[ab]t</code>会匹配&rdquo; cat &ldquo;和&rdquo; cbt &ldquo;而不会匹配&rdquo; cet &ldquo;。</p><h1 id=使用字符组区间>使用字符组区间</h1><p>在上面的例子中，假如我想匹配<code>cet</code>怎么办，在<code>[]</code>里面多加一个吗？那如果我想匹配任意小写字母呢，往里面写几十个吗？虽然是可以的，但是太长了。这里我们可以用到<code>[a-z]</code>：</p><blockquote><p>正则表达式：<code>c[a-z]t</code>
待匹配文本：cat cbt czt c2t
匹配后结果：<code>cat</code> <code>cbt</code> <code>czt</code> c2t</p></blockquote><p>分析：<code>c[a-z]t</code>表示以&rdquo; c &ldquo;开头，&rdquo; t &ldquo;结尾，中间为字母 " a " - " z " 的任意一个字母。</p><p>类似的区间还有：</p><blockquote><ul><li>[0-9] 和[0123456789]的功能一样。匹配所有的数字。</li><li>[A-F] 匹配A到F的大写字符。</li><li>[A-Z] 匹配所有的 A 到 Z 的大写字符。</li><li>[a-z] 匹配所有的 a 到 z 的小写字符。</li><li>[A-z] 匹配从 ASCII A 到 ASCII z 的所有字符（不仅仅匹配所有字母，还匹配在 ASCII 表中 A 到 z 中的字符，如 [ 和 ^ 等）。</li><li>[A-Za-z0-9] 匹配所有的大小写字母和数字。</li></ul></blockquote><h1 id=非字符集的匹配>非字符集的匹配</h1><p>字符集合一般用于指定一组需要匹配的字符。但是有些时候，你想要排除一组你不想匹配的字符。可以通过对于字符集合的否定来实现。例如：</p><blockquote><p>正则表达式：<code>c[^a-z]t</code>
待匹配文本：cat cbt czt c2t cAt
匹配后结果：cat cbt czt <code>c2t</code> <code>cAt</code></p></blockquote><p>分析：这个和前面一个例子完全相反。<code>[a-z]</code> 匹配所有的小写字母，而 <code>[^a-z]</code> 匹配所有的不是小写字母的字符。</p><p>注意，<code>^</code>字符是将字符集合中的所有字符都取消匹配。</p><h1 id=元字符>元字符</h1><p>元字符在正则表达式中有特殊的意义，上面我们已经说了几个元字符，比如<code>.</code>、<code>[</code>和<code>]</code>。这些字符不能直接表示自己的含义，例如，不能直接使用<code>[</code>来匹配&rdquo; [ &ldquo;，使用<code>.</code>来匹配&rdquo; . &ldquo;。</p><p>所有的元字符都可以在前面加上反斜线转义，当转义后，字符将匹配自身而不是其特殊含义。例如，<code>\[</code>将匹配&rdquo; [ &ldquo;:</p><blockquote><p>正则表达式：<code>a\[b</code>
待匹配文本：a[b ab a[[b
匹配后结果：<code>a[b</code> ab a[[b</p></blockquote><p>注意：<code>\ </code>用来转义元字符，这也意味着<code>\ </code>也是一个元字符。所以如果需要匹配真正的&rdquo; \ &ldquo;，可以使用<code>\\\ </code>：</p><blockquote><p>正则表达式：<code>a\\\b</code>
待匹配文本：a\b a\b a[[b
匹配后结果：a\b <code>a\b</code> a[[b</p></blockquote><p><strong>空白字符</strong>
有时候你可能需要匹配文本中不能打印的空白字符。例如，你希望能够找到所有的 Tab 字符，或者是所有的换行符。你可以使用下表中的特殊元字符：</p><div class=table-wrapper><table><thead><tr><th>元字符</th><th>描述</th></tr></thead><tbody><tr><td>[\b]</td><td>退格符</td></tr><tr><td>\f</td><td>换页符</td></tr><tr><td>\n</td><td>换行</td></tr><tr><td>\r</td><td>回车</td></tr><tr><td>\t</td><td>制表符</td></tr><tr><td>\v</td><td>垂直制表符</td></tr></tbody></table></div><p>例如<code>\r\n</code>将匹配一个回车换行组合，在 Windows 中表示一个文件换行。在 Linux 和 Unix 系统中，只需要使用<code>\n</code>即可。</p><h1 id=匹配特定的字符类型>匹配特定的字符类型</h1><p>有一些特殊的元字符可以用来匹配常用的字符集合。这些元字符被称为匹配字符类。你会发现使用它们是很方便的。</p><p><strong>匹配数字或者非数字</strong>
上面说到，[0-9] 可以匹配所有的数字。如果不想匹配任何数字，则可以使用[^0-9]。下表中列出了数字和非数字的类元字符：</p><p>元字符 | 描述</p><ul><li>| -
\d | 任何数字 (同 [0-9])
\D | 任何非数字 (同 [^0-9])</li></ul><blockquote><p>正则表达式：<code>c\dt</code>
待匹配文本：cat c2t czt c9t
匹配后结果：cat <code>c2t</code> czt <code>c9t</code></p><p>正则表达式：<code>c\Dt</code>
待匹配文本：cat c2t czt c9t
匹配后结果：<code>cat</code> c2t <code>czt</code> c9t</p></blockquote><p><strong>匹配字母字符和非字母字符</strong>
另外一个常用的类元字符是\w和\W：</p><div class=table-wrapper><table><thead><tr><th>元字符</th><th>描述</th></tr></thead><tbody><tr><td>\w</td><td>所有的文字数字式字符：大小写字母、数字和下划线 (同 [a-zA-Z0-9_])</td></tr><tr><td>\W</td><td>(同 [^a-zA-Z0-9_])</td></tr></tbody></table></div><blockquote><p>正则表达式：<code>c\wt</code>
待匹配文本：cat c2t czt c-t c\t
匹配后结果：<code>cat</code> <code>c2t</code> c-t c\t</p><p>正则表达式：<code>c\Wt</code>
待匹配文本：cat c2t c-t c\t
匹配后结果：cat c2t <code>c-t</code> <code>c\t</code></p></blockquote><p><strong>匹配空白和非空白</strong>
最后一个将要遇到的匹配类是空白类：</p><p> 元字符 | 描述</p><ul><li>| -
\s | 所有的空白字符 (同 [\f\n\r\t\v])
\S | 所有的非空白字符 (同 [^\f\n\r\t\v])</li></ul><blockquote><p>正则表达式：<code>c\st</code>
待匹配文本：cat c t c2t c\t
匹配后结果：cat <code>c t</code> c2t c\t</p><p>正则表达式：<code>c\St</code>
待匹配文本：cat c t c2t c\t
匹配后结果：<code>cat</code> c t <code>c2t</code> <code>c\t</code></p></blockquote><h1 id=匹配一个或者更多字符>匹配一个或者更多字符</h1><p><code>+</code>元字符表示匹配一个或者多个字符。例如，<code>a</code>将匹配"a&rdquo;，而<code>a+</code>则匹配一个或者多个"a"。</p><blockquote><p>正则表达式：<code>cat</code>
待匹配文本：ct cat caat caaat
匹配后结果：ct <code>cat</code> caat caaat</p><p>正则表达式：<code>ca+t</code>
待匹配文本：ct cat caat caaat
匹配后结果：ct <code>cat</code> <code>caat</code> <code>caaat</code></p></blockquote><p>当在字符集合上使用<code>+</code>的时候，需要将<code>+</code>符号放在集合外面：</p><blockquote><p>正则表达式：<code>c[0-9]+t</code>
待匹配文本：ct c0t cat c123t
匹配后结果：ct <code>c0t</code> cat <code>c123t</code></p></blockquote><p>分析：<code>c[0-9]+t</code>表示以" c &ldquo;开头，以&rdquo; t &ldquo;结尾，中间为一个或多个数字的字符串。</p><p>当然，<code>[0-9+]</code>也是一个合法的正则表达式，但它表示一个包含 " 0 " - " 9 " 和 " + " 符号的字符集合。</p><p>一般的，元字符如<code>.</code>和<code>+</code>等用于字符集合的时候是作为字面含义使用的，因此没有必要转义。但是对其进行转义也没错，所以，<code>[0-9+]</code>和<code>[0-9\+]</code>的功能是一样的。</p><p>注意：<code>+</code>是一个元字符，匹配&rdquo;+&ldquo;需要使用转义<code>\+</code>。</p><h1 id=匹配零个或者更多字符>匹配零个或者更多字符</h1><p>如果希望匹配零个或更多字符的时候，可以使用<code>*</code>元字符。</p><blockquote><p>正则表达式：<code>ca*t</code>
待匹配文本：ct cat caat cbt
匹配后结果：<code>ct</code> <code>cat</code> <code>caat</code> cbt</p></blockquote><p>注意：<code>*</code>符号是元字符。为了能够匹配&rdquo; * &ldquo;，需要进行转义<code>\*</code>。</p><h1 id=匹配零个或者一个字符>匹配零个或者一个字符</h1><p><code>?</code>匹配零个或者一个字符。所以，<code>?</code>非常适合于在文本中匹配一个可选的字符。</p><blockquote><p>正则表达式：<code>ca?t</code>
待匹配文本：ct cat caat cbt
匹配后结果：<code>ct</code> <code>cat</code> caat cbt</p></blockquote><p>注意：<code>?</code>符号是元字符。为了能够匹配&rdquo; ? &ldquo;，需要进行转义<code>\?</code>。</p><h1 id=使用匹配次数>使用匹配次数</h1><p>正则表达式允许指定匹配的次数。次数可以在“ { ”和“ } ”之间指定。
注意：<code>{</code>和<code>}</code>也是元字符，在使用字面含义的时候需要转义。</p><p><strong>精确次数匹配</strong>
为了指定匹配的次数，你可以在<code>{</code>和<code>}</code>之间输入数字。例如，<code>{3}</code>将匹配 3 次前面出现的字符或集合：</p><blockquote><p>正则表达式：<code>ca{3}t</code>
待匹配文本：ct cat caaat cbt
匹配后结果：ct cat <code>caaat</code> cbt</p></blockquote><p><strong>至少次数匹配</strong>
我们也可以只指定匹配的最小值。例如，<code> {2,}</code>意味着匹配 2次或者更多次：</p><blockquote><p>正则表达式：<code>ca{1,}t</code>
待匹配文本：ct cat caaat cbt
匹配后结果：ct <code>cat</code> <code>caaat</code> cbt</p></blockquote><p><strong>次数区间匹配</strong>
我们还可以使用最小值和最大值来确定匹配的数量。例如，<code>{2,3}</code>意味着最少匹配 2次，最多匹配3次。 </p><blockquote><p>正则表达式：<code>ca{2,3}t</code>
待匹配文本：ct cat caaat cbt
匹配后结果：ct cat <code>caaat</code> cbt</p></blockquote><p>所以<code>?</code>和<code>{0,1}</code>的功能是一样的，<code>+</code>和 <code>{1,}</code>的作用是一样的。</p><h1 id=非贪婪匹配>非贪婪匹配</h1><p>先看看下面的例子：</p><blockquote><p>正则表达式：<code>s.*g</code>
待匹配文本：xiao song xiao song
匹配后结果：xiao <code>song xiao song</code></p></blockquote><p>分析：<code>s.*g</code>并没像预想中的匹配两个&rdquo; song &ldquo;，而是匹配了第一个&rdquo; s &ldquo;和最后一个 " g &ldquo;之间的所有文本。</p><p>这是因为<code>*</code>和<code>+</code>都是贪婪匹配。也就是说，正则表达式总是寻找最大的匹配，而不是最小的，这是故意设计的。</p><p>但是如果你不希望贪婪匹配的时候就要使用这些量词的非贪婪匹配（匹配尽可能少的字符）。非贪婪量词是在量词后面加上<code>?</code>：</p><p>贪婪量词 | 非贪婪量词</p><ul><li>| -</li></ul><ul><li>| *?</li></ul><ul><li>|+?
{n,} | {n,}?</li></ul><p><code>*?</code>是<code>*</code>的非贪婪版本，所以可以使用<code>*?</code>来修改上面的例子：</p><blockquote><p>正则表达式：<code>s.*?g</code>
待匹配文本：xiao song xiao song
匹配后结果：xiao <code>song</code> xiao <code>song</code></p></blockquote><p>分析：可以看到<code>s.*?g</code>匹配到了两个&rdquo; song &ldquo;。</p><h1 id=定义字符串边界>定义字符串边界</h1><p>字符串边界匹配的元字符是<code>^</code>和<code>$</code>，分别用于字符串的开始和结束。</p><p><code>^</code>用法如下：</p><blockquote><p>正则表达式：<code>^xiao</code></p><p>待匹配文本：xiaosong
匹配后结果：<code>xiao</code>song</p><p>待匹配文本：axiaosong
匹配后结果：axiaosong</p></blockquote><p>分析：<code>^xiao</code>匹配以&rdquo; xiao &ldquo;开头的字符串。</p><p><code>$</code>用法如下：</p><blockquote><p>正则表达式：<code>song$</code></p><p>待匹配文本：xiaosong
匹配后结果：xiao<code>song</code></p><p>待匹配文本：xiaosonga
匹配后结果：xiaosonga</p></blockquote><p>分析：<code>song$</code>匹配以"song &ldquo;结尾的字符串。</p><p>共同使用：</p><blockquote><p>正则表达式：<code>^[0-9a-zA-Z]{4,}$</code></p><p>待匹配文本：a1b234ABC
匹配后结果：<code>a1b234ABC</code></p><p>待匹配文本：+a1b23=4ABC
匹配后结果：+a1b23=4ABC</p></blockquote><p>分析：<code>^[0-9a-zA-Z]{4,}$</code>匹配用数字或者字母组成的，并且位数大于等于四位的字符串。</p><p>注意：<code>^</code>如果位于集合开始处的话，则表示否定；如果在集合外面，则将匹配字符串的开始位置。大家可以试试<code>[^0-9]</code>和<code>^[0-9]</code>的区别。</p><h1 id=使用多行模式>使用多行模式</h1><p>但是<code>(?m)</code>可以启用多行模式。在多行模式下，正则表达式引擎将换行符作为字符串的分隔符，<code>^</code>将匹配文本的开始或者一行的开始，而<code>$</code>则可以匹配文本的结束或者是一行的结尾处。</p><p>修改下上个例子：</p><blockquote><p>正则表达式：<code>(?m)^[0-9a-zA-Z]{4,}$</code></p><p>待匹配文本：a1b234ABC
+a1b23=4ABC
ABC123456</p><p>匹配后结果：<code>a1b234ABC</code>
+a1b23=4ABC
<code>ABC123456</code></p></blockquote><p>分析：<code>(?m)^[0-9a-zA-Z]{4,}$</code>会去匹配每行<code>用数字或者字母组成的，并且位数大于等于四位</code>的字符串。</p><p>注意：如果使用多行模式的话，<code>(?m)</code>必须放置在正则表达式的开始。
<code>(?m)</code>在大部分的正则表达式实现中并不支持。有些正则表达式实现还支持使用<code>\A</code>匹配字符串的开始，<code>\Z</code>匹配字符串的结束。如果支持的话，则这些元字符的功能和<code>^</code>、<code>$</code>是一样的。但是这些元字符不能使用<code>(?m)</code>修饰，所以也不能用于多行模式。</p></section><footer class=article-footer><section class=article-tags><a href=/tags/regular/>regular</a></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/20160923aaaabf/><div class=article-details><h2 class=article-title>系统地学习正则表达式(二)：进阶篇</h2></div></a></article><article><a href=/p/202202sublime%E5%8E%BB%E9%99%A4%E9%87%8D%E5%A4%8D%E8%A1%8C/><div class=article-details><h2 class=article-title>sublime去除重复行</h2></div></a></article><article><a href=/p/202104mac%E4%B8%8A%E5%A5%BD%E7%94%A8%E7%9A%84%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/><div class=article-details><h2 class=article-title>Mac上好用的软件推荐，持续更新</h2></div></a></article><article><a href=/p/202103linux%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3%E7%9A%84%E4%B8%80%E4%BA%9B%E4%B8%9C%E8%A5%BF/><div class=article-details><h2 class=article-title>Linux使用相关的一些东西</h2></div></a></article><article><a href=/p/2021034535997/><div class=article-details><h2 class=article-title>Xcode好用的快捷键</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2016 -
2023 小松哥的博客</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.16.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>