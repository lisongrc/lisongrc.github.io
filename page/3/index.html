<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"blog.lisong.pro","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="是缘是情是童真还是意外">
<meta property="og:type" content="website">
<meta property="og:title" content="小松哥的博客">
<meta property="og:url" content="https://blog.lisong.pro/page/3/index.html">
<meta property="og:site_name" content="小松哥的博客">
<meta property="og:description" content="是缘是情是童真还是意外">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="小松哥">
<meta property="article:tag" content="iOS, Python, OC, Swift">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://blog.lisong.pro/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>小松哥的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">小松哥的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.lisong.pro/2016/08/23/iOS%E5%B0%8F%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93%EF%BC%8C%E7%BB%9D%E5%AF%B9%E6%9C%89%E4%BD%A0%E6%83%B3%E8%A6%81%E7%9A%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="小松哥">
      <meta itemprop="description" content="是缘是情是童真还是意外">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小松哥的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/08/23/iOS%E5%B0%8F%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93%EF%BC%8C%E7%BB%9D%E5%AF%B9%E6%9C%89%E4%BD%A0%E6%83%B3%E8%A6%81%E7%9A%84/" class="post-title-link" itemprop="url">iOS小技巧总结，绝对有你想要的</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2016-08-23 17:37:54" itemprop="dateCreated datePublished" datetime="2016-08-23T17:37:54+08:00">2016-08-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-03-02 21:35:39" itemprop="dateModified" datetime="2021-03-02T21:35:39+08:00">2021-03-02</time>
              </span>

          
            <span id="/2016/08/23/iOS%E5%B0%8F%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93%EF%BC%8C%E7%BB%9D%E5%AF%B9%E6%9C%89%E4%BD%A0%E6%83%B3%E8%A6%81%E7%9A%84/" class="post-meta-item leancloud_visitors" data-flag-title="iOS小技巧总结，绝对有你想要的" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2016/08/23/iOS%E5%B0%8F%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93%EF%BC%8C%E7%BB%9D%E5%AF%B9%E6%9C%89%E4%BD%A0%E6%83%B3%E8%A6%81%E7%9A%84/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2016/08/23/iOS%E5%B0%8F%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93%EF%BC%8C%E7%BB%9D%E5%AF%B9%E6%9C%89%E4%BD%A0%E6%83%B3%E8%A6%81%E7%9A%84/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在这里总结一些iOS开发中的小技巧，能大大方便我们的开发，持续更新。</p>
<p>#####UITableView的Group样式下顶部空白处理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;分组列表头部空白处理</span><br><span class="line">UIView *view &#x3D; [[UIView alloc] initWithFrame:CGRectMake(0, 0, 0, 0.1)];</span><br><span class="line">self.tableView.tableHeaderView &#x3D; view;</span><br></pre></td></tr></table></figure>

<p>#####UITableView的plain样式下，取消区头停滞效果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- (void)scrollViewDidScroll:(UIScrollView *)scrollView</span><br><span class="line">&#123;</span><br><span class="line">    CGFloat sectionHeaderHeight &#x3D; sectionHead.height;</span><br><span class="line">    if (scrollView.contentOffset.y&lt;&#x3D;sectionHeaderHeight&amp;&amp;scrollView;.contentOffset.y&gt;&#x3D;0)</span><br><span class="line">    &#123;</span><br><span class="line">        scrollView.contentInset &#x3D; UIEdgeInsetsMake(-scrollView.contentOffset.y, 0, 0, 0);</span><br><span class="line">    &#125;</span><br><span class="line">    else if(scrollView.contentOffset.y&gt;&#x3D;sectionHeaderHeight)</span><br><span class="line">    &#123;</span><br><span class="line">        scrollView.contentInset &#x3D; UIEdgeInsetsMake(-sectionHeaderHeight, 0, 0, 0);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>那个，其实，还是用Group样式吧哈哈。</p>
<p>#####获取某个view所在的控制器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">- (UIViewController *)viewController</span><br><span class="line">&#123;</span><br><span class="line">  UIViewController *viewController &#x3D; nil;  </span><br><span class="line">  UIResponder *next &#x3D; self.nextResponder;</span><br><span class="line">  while (next)</span><br><span class="line">  &#123;</span><br><span class="line">    if ([next isKindOfClass:[UIViewController class]])</span><br><span class="line">    &#123;</span><br><span class="line">      viewController &#x3D; (UIViewController *)next;      </span><br><span class="line">      break;    </span><br><span class="line">    &#125;    </span><br><span class="line">    next &#x3D; next.nextResponder;  </span><br><span class="line">  &#125; </span><br><span class="line">    return viewController;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####两种方法删除NSUserDefaults所有记录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;方法一</span><br><span class="line">NSString *appDomain &#x3D; [[NSBundle mainBundle] bundleIdentifier];</span><br><span class="line">[[NSUserDefaults standardUserDefaults] removePersistentDomainForName:appDomain];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;方法二</span><br><span class="line">- (void)resetDefaults</span><br><span class="line">&#123;</span><br><span class="line">    NSUserDefaults * defs &#x3D; [NSUserDefaults standardUserDefaults];</span><br><span class="line">    NSDictionary * dict &#x3D; [defs dictionaryRepresentation];</span><br><span class="line">    for (id key in dict)</span><br><span class="line">    &#123;</span><br><span class="line">        [defs removeObjectForKey:key];</span><br><span class="line">    &#125;</span><br><span class="line">    [defs synchronize];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####打印系统所有已注册的字体名称</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#pragma mark - 打印系统所有已注册的字体名称</span><br><span class="line">void enumerateFonts()</span><br><span class="line">&#123;</span><br><span class="line">    for(NSString *familyName in [UIFont familyNames])</span><br><span class="line">   &#123;</span><br><span class="line">        NSLog(@&quot;%@&quot;,familyName);               </span><br><span class="line">        NSArray *fontNames &#x3D; [UIFont fontNamesForFamilyName:familyName];       </span><br><span class="line">        for(NSString *fontName in fontNames)</span><br><span class="line">       &#123;</span><br><span class="line">            NSLog(@&quot;\t|- %@&quot;,fontName);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>#####取图片某一像素点的颜色  在UIImage的分类中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">- (UIColor *)colorAtPixel:(CGPoint)point</span><br><span class="line">&#123;</span><br><span class="line">    if (!CGRectContainsPoint(CGRectMake(0.0f, 0.0f, self.size.width, self.size.height), point))</span><br><span class="line">    &#123;</span><br><span class="line">        return nil;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    CGColorSpaceRef colorSpace &#x3D; CGColorSpaceCreateDeviceRGB();</span><br><span class="line">    int bytesPerPixel &#x3D; 4;</span><br><span class="line">    int bytesPerRow &#x3D; bytesPerPixel * 1;</span><br><span class="line">    NSUInteger bitsPerComponent &#x3D; 8;</span><br><span class="line">    unsigned char pixelData[4] &#x3D; &#123;0, 0, 0, 0&#125;;</span><br><span class="line">    </span><br><span class="line">    CGContextRef context &#x3D; CGBitmapContextCreate(pixelData,</span><br><span class="line">                                                 1,</span><br><span class="line">                                                 1,</span><br><span class="line">                                                 bitsPerComponent,</span><br><span class="line">                                                 bytesPerRow,</span><br><span class="line">                                                 colorSpace,</span><br><span class="line">                                                 kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);</span><br><span class="line">    CGColorSpaceRelease(colorSpace);</span><br><span class="line">    CGContextSetBlendMode(context, kCGBlendModeCopy);</span><br><span class="line">    </span><br><span class="line">    CGContextTranslateCTM(context, -point.x, point.y - self.size.height);</span><br><span class="line">    CGContextDrawImage(context, CGRectMake(0.0f, 0.0f, self.size.width, self.size.height), self.CGImage);</span><br><span class="line">    CGContextRelease(context);</span><br><span class="line">    </span><br><span class="line">    CGFloat red   &#x3D; (CGFloat)pixelData[0] &#x2F; 255.0f;</span><br><span class="line">    CGFloat green &#x3D; (CGFloat)pixelData[1] &#x2F; 255.0f;</span><br><span class="line">    CGFloat blue  &#x3D; (CGFloat)pixelData[2] &#x2F; 255.0f;</span><br><span class="line">    CGFloat alpha &#x3D; (CGFloat)pixelData[3] &#x2F; 255.0f;</span><br><span class="line">    </span><br><span class="line">    return [UIColor colorWithRed:red green:green blue:blue alpha:alpha];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####字符串反转</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">第一种：</span><br><span class="line">- (NSString *)reverseWordsInString:(NSString *)str</span><br><span class="line">&#123;    </span><br><span class="line">    NSMutableString *newString &#x3D; [[NSMutableString alloc] initWithCapacity:str.length];</span><br><span class="line">    for (NSInteger i &#x3D; str.length - 1; i &gt;&#x3D; 0 ; i --)</span><br><span class="line">    &#123;</span><br><span class="line">        unichar ch &#x3D; [str characterAtIndex:i];       </span><br><span class="line">        [newString appendFormat:@&quot;%c&quot;, ch];    </span><br><span class="line">    &#125;    </span><br><span class="line">     return newString;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;第二种：</span><br><span class="line">- (NSString*)reverseWordsInString:(NSString*)str</span><br><span class="line">&#123;    </span><br><span class="line">     NSMutableString *reverString &#x3D; [NSMutableString stringWithCapacity:str.length];    </span><br><span class="line">     [str enumerateSubstringsInRange:NSMakeRange(0, str.length) options:NSStringEnumerationReverse | NSStringEnumerationByComposedCharacterSequences  usingBlock:^(NSString *substring, NSRange substringRange, NSRange enclosingRange, BOOL *stop) &#123; </span><br><span class="line">          [reverString appendString:substring];                         </span><br><span class="line">      &#125;];    </span><br><span class="line">     return reverString;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####禁止锁屏，<br>默认情况下，当设备一段时间没有触控动作时，iOS会锁住屏幕。但有一些应用是不需要锁屏的，比如视频播放器。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[UIApplication sharedApplication].idleTimerDisabled &#x3D; YES;</span><br><span class="line">或</span><br><span class="line">[[UIApplication sharedApplication] setIdleTimerDisabled:YES];</span><br></pre></td></tr></table></figure>

<p>#####模态推出透明界面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">UIViewController *vc &#x3D; [[UIViewController alloc] init];</span><br><span class="line">UINavigationController *na &#x3D; [[UINavigationController alloc] initWithRootViewController:vc];</span><br><span class="line"></span><br><span class="line">if ([[[UIDevice currentDevice] systemVersion] floatValue] &gt;&#x3D; 8.0)</span><br><span class="line">&#123;</span><br><span class="line">     na.modalPresentationStyle &#x3D; UIModalPresentationOverCurrentContext;</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">     self.modalPresentationStyle&#x3D;UIModalPresentationCurrentContext;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[self presentViewController:na animated:YES completion:nil];</span><br></pre></td></tr></table></figure>

<p>#####Xcode调试不显示内存占用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">editSCheme  里面有个选项叫叫做enable zoombie Objects  取消选中</span><br></pre></td></tr></table></figure>

<p>#####显示隐藏文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;显示</span><br><span class="line">defaults write com.apple.finder AppleShowAllFiles -bool true</span><br><span class="line">killall Finder</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;隐藏</span><br><span class="line">defaults write com.apple.finder AppleShowAllFiles -bool false</span><br><span class="line">killall Finder</span><br></pre></td></tr></table></figure>

<p>#####字符串按多个符号分割<br><img src="http://upload-images.jianshu.io/upload_images/1608265-59de354dc6972272.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>#####iOS跳转到App Store下载应用评分</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@&quot;itms-apps:&#x2F;&#x2F;itunes.apple.com&#x2F;WebObjects&#x2F;MZStore.woa&#x2F;wa&#x2F;viewContentsUserReviews?type&#x3D;Purple+Software&amp;id&#x3D;APPID&quot;]];</span><br></pre></td></tr></table></figure>

<p>#####iOS 获取汉字的拼音</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">+ (NSString *)transform:(NSString *)chinese</span><br><span class="line">&#123;    </span><br><span class="line">    &#x2F;&#x2F;将NSString装换成NSMutableString </span><br><span class="line">    NSMutableString *pinyin &#x3D; [chinese mutableCopy];    </span><br><span class="line">    &#x2F;&#x2F;将汉字转换为拼音(带音标)    </span><br><span class="line">    CFStringTransform((__bridge CFMutableStringRef)pinyin, NULL, kCFStringTransformMandarinLatin, NO);    </span><br><span class="line">    NSLog(@&quot;%@&quot;, pinyin);    </span><br><span class="line">    &#x2F;&#x2F;去掉拼音的音标    </span><br><span class="line">    CFStringTransform((__bridge CFMutableStringRef)pinyin, NULL, kCFStringTransformStripCombiningMarks, NO);    </span><br><span class="line">    NSLog(@&quot;%@&quot;, pinyin);    </span><br><span class="line">    &#x2F;&#x2F;返回最近结果    </span><br><span class="line">    return pinyin;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>#####手动更改iOS状态栏的颜色</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (void)setStatusBarBackgroundColor:(UIColor *)color</span><br><span class="line">&#123;</span><br><span class="line">    UIView *statusBar &#x3D; [[[UIApplication sharedApplication] valueForKey:@&quot;statusBarWindow&quot;] valueForKey:@&quot;statusBar&quot;];</span><br><span class="line"></span><br><span class="line">    if ([statusBar respondsToSelector:@selector(setBackgroundColor:)])</span><br><span class="line">    &#123;</span><br><span class="line">        statusBar.backgroundColor &#x3D; color;    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####判断当前ViewController是push还是present的方式显示的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">NSArray *viewcontrollers&#x3D;self.navigationController.viewControllers;</span><br><span class="line"></span><br><span class="line">if (viewcontrollers.count &gt; 1)</span><br><span class="line">&#123;</span><br><span class="line">    if ([viewcontrollers objectAtIndex:viewcontrollers.count - 1] &#x3D;&#x3D; self)</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F;push方式</span><br><span class="line">       [self.navigationController popViewControllerAnimated:YES];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;present方式</span><br><span class="line">    [self dismissViewControllerAnimated:YES completion:nil];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####获取实际使用的LaunchImage图片</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">- (NSString *)getLaunchImageName</span><br><span class="line">&#123;</span><br><span class="line">    CGSize viewSize &#x3D; self.window.bounds.size;</span><br><span class="line">    &#x2F;&#x2F; 竖屏    </span><br><span class="line">    NSString *viewOrientation &#x3D; @&quot;Portrait&quot;;  </span><br><span class="line">    NSString *launchImageName &#x3D; nil;    </span><br><span class="line">    NSArray* imagesDict &#x3D; [[[NSBundle mainBundle] infoDictionary] valueForKey:@&quot;UILaunchImages&quot;];</span><br><span class="line">    for (NSDictionary* dict in imagesDict)</span><br><span class="line">    &#123;</span><br><span class="line">        CGSize imageSize &#x3D; CGSizeFromString(dict[@&quot;UILaunchImageSize&quot;]);</span><br><span class="line">        if (CGSizeEqualToSize(imageSize, viewSize) &amp;&amp; [viewOrientation isEqualToString:dict[@&quot;UILaunchImageOrientation&quot;]])</span><br><span class="line">        &#123;</span><br><span class="line">            launchImageName &#x3D; dict[@&quot;UILaunchImageName&quot;];        </span><br><span class="line">        &#125;    </span><br><span class="line">    &#125;    </span><br><span class="line">    return launchImageName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####iOS在当前屏幕获取第一响应</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UIWindow * keyWindow &#x3D; [[UIApplication sharedApplication] keyWindow];</span><br><span class="line">UIView * firstResponder &#x3D; [keyWindow performSelector:@selector(firstResponder)];</span><br></pre></td></tr></table></figure>

<p>#####判断对象是否遵循了某协议</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if ([self.selectedController conformsToProtocol:@protocol(RefreshPtotocol)])</span><br><span class="line">&#123;</span><br><span class="line">     [self.selectedController performSelector:@selector(onTriggerRefresh)];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####判断view是不是指定视图的子视图</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BOOL isView &#x3D; [textView isDescendantOfView:self.view];</span><br></pre></td></tr></table></figure>

<p>#####NSArray 快速求总和 最大值 最小值 和 平均值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">NSArray *array &#x3D; [NSArray arrayWithObjects:@&quot;2.0&quot;, @&quot;2.3&quot;, @&quot;3.0&quot;, @&quot;4.0&quot;, @&quot;10&quot;, nil];</span><br><span class="line">CGFloat sum &#x3D; [[array valueForKeyPath:@&quot;@sum.floatValue&quot;] floatValue];</span><br><span class="line">CGFloat avg &#x3D; [[array valueForKeyPath:@&quot;@avg.floatValue&quot;] floatValue];</span><br><span class="line">CGFloat max &#x3D;[[array valueForKeyPath:@&quot;@max.floatValue&quot;] floatValue];</span><br><span class="line">CGFloat min &#x3D;[[array valueForKeyPath:@&quot;@min.floatValue&quot;] floatValue];</span><br><span class="line">NSLog(@&quot;%f\n%f\n%f\n%f&quot;,sum,avg,max,min);</span><br></pre></td></tr></table></figure>

<p>#####修改UITextField中Placeholder的文字颜色</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[textField setValue:[UIColor redColor] forKeyPath:@&quot;_placeholderLabel.textColor&quot;];</span><br></pre></td></tr></table></figure>

<p>#####关于NSDateFormatter的格式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">G: 公元时代，例如AD公元</span><br><span class="line">yy: 年的后2位</span><br><span class="line">yyyy: 完整年</span><br><span class="line">MM: 月，显示为1-12</span><br><span class="line">MMM: 月，显示为英文月份简写,如 Jan</span><br><span class="line">MMMM: 月，显示为英文月份全称，如 Janualy</span><br><span class="line">dd: 日，2位数表示，如02</span><br><span class="line">d: 日，1-2位显示，如 2</span><br><span class="line">EEE: 简写星期几，如Sun</span><br><span class="line">EEEE: 全写星期几，如Sunday</span><br><span class="line">aa: 上下午，AM&#x2F;PM</span><br><span class="line">H: 时，24小时制，0-23</span><br><span class="line">K：时，12小时制，0-11</span><br><span class="line">m: 分，1-2位</span><br><span class="line">mm: 分，2位</span><br><span class="line">s: 秒，1-2位</span><br><span class="line">ss: 秒，2位</span><br><span class="line">S: 毫秒</span><br></pre></td></tr></table></figure>

<p>#####获取一个类的所有子类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">+ (NSArray *) allSubclasses</span><br><span class="line">&#123;</span><br><span class="line">    Class myClass &#x3D; [self class];</span><br><span class="line">    NSMutableArray *mySubclasses &#x3D; [NSMutableArray array];</span><br><span class="line">    unsigned int numOfClasses;</span><br><span class="line">    Class *classes &#x3D; objc_copyClassList(&amp;numOfClasses;);</span><br><span class="line">    for (unsigned int ci &#x3D; 0; ci &lt; numOfClasses; ci++)</span><br><span class="line">    &#123;</span><br><span class="line">        Class superClass &#x3D; classes[ci];</span><br><span class="line">        do&#123;</span><br><span class="line">            superClass &#x3D; class_getSuperclass(superClass);</span><br><span class="line">        &#125; while (superClass &amp;&amp; superClass !&#x3D; myClass);</span><br><span class="line"></span><br><span class="line">        if (superClass)</span><br><span class="line">        &#123;</span><br><span class="line">            [mySubclasses addObject: classes[ci]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    free(classes);</span><br><span class="line">    return mySubclasses;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####监测IOS设备是否设置了代理，需要CFNetwork.framework </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">NSDictionary *proxySettings &#x3D; (__bridge NSDictionary *)(CFNetworkCopySystemProxySettings());</span><br><span class="line">NSArray *proxies &#x3D; (__bridge NSArray *)(CFNetworkCopyProxiesForURL((__bridge CFURLRef _Nonnull)([NSURL URLWithString:@&quot;http:&#x2F;&#x2F;www.baidu.com&quot;]), (__bridge CFDictionaryRef _Nonnull)(proxySettings)));</span><br><span class="line">NSLog(@&quot;\n%@&quot;,proxies);</span><br><span class="line"></span><br><span class="line">NSDictionary *settings &#x3D; proxies[0];</span><br><span class="line">NSLog(@&quot;%@&quot;,[settings objectForKey:(NSString *)kCFProxyHostNameKey]);</span><br><span class="line">NSLog(@&quot;%@&quot;,[settings objectForKey:(NSString *)kCFProxyPortNumberKey]);</span><br><span class="line">NSLog(@&quot;%@&quot;,[settings objectForKey:(NSString *)kCFProxyTypeKey]);</span><br><span class="line">   </span><br><span class="line">if ([[settings objectForKey:(NSString *)kCFProxyTypeKey] isEqualToString:@&quot;kCFProxyTypeNone&quot;])</span><br><span class="line">&#123;</span><br><span class="line">     NSLog(@&quot;没代理&quot;);</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">     NSLog(@&quot;设置了代理&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####阿拉伯数字转中文格式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">+(NSString *)translation:(NSString *)arebic</span><br><span class="line">&#123;  </span><br><span class="line">    NSString *str &#x3D; arebic;</span><br><span class="line">    NSArray *arabic_numerals &#x3D; @[@&quot;1&quot;,@&quot;2&quot;,@&quot;3&quot;,@&quot;4&quot;,@&quot;5&quot;,@&quot;6&quot;,@&quot;7&quot;,@&quot;8&quot;,@&quot;9&quot;,@&quot;0&quot;];</span><br><span class="line">    NSArray *chinese_numerals &#x3D; @[@&quot;一&quot;,@&quot;二&quot;,@&quot;三&quot;,@&quot;四&quot;,@&quot;五&quot;,@&quot;六&quot;,@&quot;七&quot;,@&quot;八&quot;,@&quot;九&quot;,@&quot;零&quot;];</span><br><span class="line">    NSArray *digits &#x3D; @[@&quot;个&quot;,@&quot;十&quot;,@&quot;百&quot;,@&quot;千&quot;,@&quot;万&quot;,@&quot;十&quot;,@&quot;百&quot;,@&quot;千&quot;,@&quot;亿&quot;,@&quot;十&quot;,@&quot;百&quot;,@&quot;千&quot;,@&quot;兆&quot;];</span><br><span class="line">    NSDictionary *dictionary &#x3D; [NSDictionary dictionaryWithObjects:chinese_numerals forKeys:arabic_numerals];</span><br><span class="line"></span><br><span class="line">    NSMutableArray *sums &#x3D; [NSMutableArray array];</span><br><span class="line">    for (int i &#x3D; 0; i &lt; str.length; i ++) &#123;</span><br><span class="line">        NSString *substr &#x3D; [str substringWithRange:NSMakeRange(i, 1)];</span><br><span class="line">        NSString *a &#x3D; [dictionary objectForKey:substr];</span><br><span class="line">        NSString *b &#x3D; digits[str.length -i-1];</span><br><span class="line">        NSString *sum &#x3D; [a stringByAppendingString:b];</span><br><span class="line">        if ([a isEqualToString:chinese_numerals[9]])</span><br><span class="line">        &#123;</span><br><span class="line">            if([b isEqualToString:digits[4]] || [b isEqualToString:digits[8]])</span><br><span class="line">            &#123;</span><br><span class="line">                sum &#x3D; b;</span><br><span class="line">                if ([[sums lastObject] isEqualToString:chinese_numerals[9]])</span><br><span class="line">                &#123;</span><br><span class="line">                    [sums removeLastObject];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;else</span><br><span class="line">            &#123;</span><br><span class="line">                sum &#x3D; chinese_numerals[9];</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if ([[sums lastObject] isEqualToString:sum])</span><br><span class="line">            &#123;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        [sums addObject:sum];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    NSString *sumStr &#x3D; [sums componentsJoinedByString:@&quot;&quot;];</span><br><span class="line">    NSString *chinese &#x3D; [sumStr substringToIndex:sumStr.length-1];</span><br><span class="line">    NSLog(@&quot;%@&quot;,str);</span><br><span class="line">    NSLog(@&quot;%@&quot;,chinese);</span><br><span class="line">    return chinese;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####Base64编码与NSString对象或NSData对象的转换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Create NSData object</span><br><span class="line">NSData *nsdata &#x3D; [@&quot;iOS Developer Tips encoded in Base64&quot;</span><br><span class="line">  dataUsingEncoding:NSUTF8StringEncoding];</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; Get NSString from NSData object in Base64</span><br><span class="line">NSString *base64Encoded &#x3D; [nsdata base64EncodedStringWithOptions:0];</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; Print the Base64 encoded string</span><br><span class="line">NSLog(@&quot;Encoded: %@&quot;, base64Encoded);</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; Let&#39;s go the other way...</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; NSData from the Base64 encoded str</span><br><span class="line">NSData *nsdataFromBase64String &#x3D; [[NSData alloc]</span><br><span class="line">  initWithBase64EncodedString:base64Encoded options:0];</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; Decoded NSString from the NSData</span><br><span class="line">NSString *base64Decoded &#x3D; [[NSString alloc]</span><br><span class="line">  initWithData:nsdataFromBase64String encoding:NSUTF8StringEncoding];</span><br><span class="line">NSLog(@&quot;Decoded: %@&quot;, base64Decoded);</span><br></pre></td></tr></table></figure>

<p>#####取消UICollectionView的隐式动画<br>UICollectionView在reloadItems的时候，默认会附加一个隐式的fade动画，有时候很讨厌，尤其是当你的cell是复合cell的情况下(比如cell使用到了UIStackView)。<br>下面几种方法都可以帮你去除这些动画</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;方法一</span><br><span class="line">[UIView performWithoutAnimation:^&#123;</span><br><span class="line">    [collectionView reloadItemsAtIndexPaths:@[[NSIndexPath indexPathForItem:index inSection:0]]];</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;方法二</span><br><span class="line">[UIView animateWithDuration:0 animations:^&#123;</span><br><span class="line">    [collectionView performBatchUpdates:^&#123;</span><br><span class="line">        [collectionView reloadItemsAtIndexPaths:@[[NSIndexPath indexPathForItem:index inSection:0]]];</span><br><span class="line">    &#125; completion:nil];</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;方法三</span><br><span class="line">[UIView setAnimationsEnabled:NO];</span><br><span class="line">[self.trackPanel performBatchUpdates:^&#123;</span><br><span class="line">    [collectionView reloadItemsAtIndexPaths:@[[NSIndexPath indexPathForItem:index inSection:0]]];</span><br><span class="line">&#125; completion:^(BOOL finished) &#123;</span><br><span class="line">    [UIView setAnimationsEnabled:YES];</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>

<p>#####让Xcode的控制台支持LLDB类型的打印</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">打开终端输入三条命令:</span><br><span class="line">touch ~&#x2F;.lldbinit</span><br><span class="line">echo display @import UIKit &gt;&gt; ~&#x2F;.lldbinit</span><br><span class="line">echo target stop-hook add -o \&quot;target stop-hook disable\&quot; &gt;&gt; ~&#x2F;.lldbinit</span><br></pre></td></tr></table></figure>

<p>#####CocoaPods pod install/pod update更新慢的问题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pod install --verbose --no-repo-update </span><br><span class="line">pod update --verbose --no-repo-update</span><br><span class="line">如果不加后面的参数，默认会升级CocoaPods的spec仓库，加一个参数可以省略这一步，然后速度就会提升不少</span><br></pre></td></tr></table></figure>

<p>#####UIImage 占用内存大小</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UIImage *image &#x3D; [UIImage imageNamed:@&quot;aa&quot;];</span><br><span class="line">NSUInteger size  &#x3D; CGImageGetHeight(image.CGImage) * CGImageGetBytesPerRow(image.CGImage);</span><br></pre></td></tr></table></figure>

<p>#####GCD timer定时器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">dispatch_queue_t queue &#x3D; dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);</span><br><span class="line">dispatch_source_t timer &#x3D; dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, 0, 0,queue);</span><br><span class="line">dispatch_source_set_timer(timer,dispatch_walltime(NULL, 0),1.0*NSEC_PER_SEC, 0); &#x2F;&#x2F;每秒执行</span><br><span class="line">dispatch_source_set_event_handler(timer, ^&#123;</span><br><span class="line">    &#x2F;&#x2F;@&quot;倒计时结束，关闭&quot;</span><br><span class="line">    dispatch_source_cancel(timer); </span><br><span class="line">    dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">dispatch_resume(timer);</span><br></pre></td></tr></table></figure>

<p>#####图片上绘制文字 写一个UIImage的category</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">- (UIImage *)imageWithTitle:(NSString *)title fontSize:(CGFloat)fontSize</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;画布大小</span><br><span class="line">    CGSize size&#x3D;CGSizeMake(self.size.width,self.size.height);</span><br><span class="line">    &#x2F;&#x2F;创建一个基于位图的上下文</span><br><span class="line">    UIGraphicsBeginImageContextWithOptions(size,NO,0.0);&#x2F;&#x2F;opaque:NO  scale:0.0</span><br><span class="line">    </span><br><span class="line">    [self drawAtPoint:CGPointMake(0.0,0.0)];</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;文字居中显示在画布上</span><br><span class="line">    NSMutableParagraphStyle* paragraphStyle &#x3D; [[NSParagraphStyle defaultParagraphStyle] mutableCopy];</span><br><span class="line">    paragraphStyle.lineBreakMode &#x3D; NSLineBreakByCharWrapping;</span><br><span class="line">    paragraphStyle.alignment&#x3D;NSTextAlignmentCenter;&#x2F;&#x2F;文字居中</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;计算文字所占的size,文字居中显示在画布上</span><br><span class="line">    CGSize sizeText&#x3D;[title boundingRectWithSize:self.size options:NSStringDrawingUsesLineFragmentOrigin</span><br><span class="line">                                     attributes:@&#123;NSFontAttributeName:[UIFont systemFontOfSize:fontSize]&#125;context:nil].size;</span><br><span class="line">    CGFloat width &#x3D; self.size.width;</span><br><span class="line">    CGFloat height &#x3D; self.size.height;</span><br><span class="line">    </span><br><span class="line">    CGRect rect &#x3D; CGRectMake((width-sizeText.width)&#x2F;2, (height-sizeText.height)&#x2F;2, sizeText.width, sizeText.height);</span><br><span class="line">    &#x2F;&#x2F;绘制文字</span><br><span class="line">    [title drawInRect:rect withAttributes:@&#123; NSFontAttributeName:[UIFont systemFontOfSize:fontSize],NSForegroundColorAttributeName:[ UIColor whiteColor],NSParagraphStyleAttributeName:paragraphStyle&#125;];</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;返回绘制的新图形</span><br><span class="line">    UIImage *newImage&#x3D; UIGraphicsGetImageFromCurrentImageContext();</span><br><span class="line">    UIGraphicsEndImageContext();</span><br><span class="line">    return newImage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####查找一个视图的所有子视图</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">- (NSMutableArray *)allSubViewsForView:(UIView *)view</span><br><span class="line">&#123;</span><br><span class="line">    NSMutableArray *array &#x3D; [NSMutableArray arrayWithCapacity:0];</span><br><span class="line">    for (UIView *subView in view.subviews)</span><br><span class="line">    &#123;</span><br><span class="line">        [array addObject:subView];</span><br><span class="line">        if (subView.subviews.count &gt; 0)</span><br><span class="line">        &#123;</span><br><span class="line">            [array addObjectsFromArray:[self allSubViewsForView:subView]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return array;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>#####计算文件大小</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;文件大小</span><br><span class="line">- (long long)fileSizeAtPath:(NSString *)path</span><br><span class="line">&#123;</span><br><span class="line">    NSFileManager *fileManager &#x3D; [NSFileManager defaultManager];</span><br><span class="line">    </span><br><span class="line">    if ([fileManager fileExistsAtPath:path])</span><br><span class="line">    &#123;</span><br><span class="line">        long long size &#x3D; [fileManager attributesOfItemAtPath:path error:nil].fileSize;</span><br><span class="line">        return size;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;文件夹大小</span><br><span class="line">- (long long)folderSizeAtPath:(NSString *)path</span><br><span class="line">&#123;</span><br><span class="line">    NSFileManager *fileManager &#x3D; [NSFileManager defaultManager];</span><br><span class="line">    </span><br><span class="line">    long long folderSize &#x3D; 0;</span><br><span class="line">    </span><br><span class="line">    if ([fileManager fileExistsAtPath:path])</span><br><span class="line">    &#123;</span><br><span class="line">        NSArray *childerFiles &#x3D; [fileManager subpathsAtPath:path];</span><br><span class="line">        for (NSString *fileName in childerFiles)</span><br><span class="line">        &#123;</span><br><span class="line">            NSString *fileAbsolutePath &#x3D; [path stringByAppendingPathComponent:fileName];</span><br><span class="line">            if ([fileManager fileExistsAtPath:fileAbsolutePath])</span><br><span class="line">            &#123;</span><br><span class="line">                long long size &#x3D; [fileManager attributesOfItemAtPath:fileAbsolutePath error:nil].fileSize;</span><br><span class="line">                folderSize +&#x3D; size;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return folderSize;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####UIView设置部分圆角<br>你是不是也遇到过这样的问题，一个button或者label，只要右边的两个角圆角，或者只要一个圆角。该怎么办呢。这就需要图层蒙版来帮助我们了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">CGRect rect &#x3D; view.bounds;</span><br><span class="line">CGSize radio &#x3D; CGSizeMake(30, 30);&#x2F;&#x2F;圆角尺寸</span><br><span class="line">UIRectCorner corner &#x3D; UIRectCornerTopLeft|UIRectCornerTopRight;&#x2F;&#x2F;这只圆角位置</span><br><span class="line">UIBezierPath *path &#x3D; [UIBezierPath bezierPathWithRoundedRect:rect byRoundingCorners:corner cornerRadii:radio];</span><br><span class="line">CAShapeLayer *masklayer &#x3D; [[CAShapeLayer alloc]init];&#x2F;&#x2F;创建shapelayer</span><br><span class="line">masklayer.frame &#x3D; view.bounds;</span><br><span class="line">masklayer.path &#x3D; path.CGPath;&#x2F;&#x2F;设置路径</span><br><span class="line">view.layer.mask &#x3D; masklayer;</span><br></pre></td></tr></table></figure>

<p>#####取上整与取下整</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">floor(x),有时候也写做Floor(x)，其功能是“下取整”，即取不大于x的最大整数 例如：</span><br><span class="line">x&#x3D;3.14，floor(x)&#x3D;3</span><br><span class="line">y&#x3D;9.99999，floor(y)&#x3D;9</span><br><span class="line"></span><br><span class="line">与floor函数对应的是ceil函数，即上取整函数。</span><br><span class="line"></span><br><span class="line">ceil函数的作用是求不小于给定实数的最小整数。</span><br><span class="line">ceil(2)&#x3D;ceil(1.2)&#x3D;cei(1.5)&#x3D;2.00</span><br><span class="line"></span><br><span class="line">floor函数与ceil函数的返回值均为double型</span><br></pre></td></tr></table></figure>

<p>#####计算字符串字符长度，一个汉字算两个字符</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;方法一：</span><br><span class="line">- (int)convertToInt:(NSString*)strtemp</span><br><span class="line">&#123;</span><br><span class="line">    int strlength &#x3D; 0;</span><br><span class="line">    char* p &#x3D; (char*)[strtemp cStringUsingEncoding:NSUnicodeStringEncoding];</span><br><span class="line">    for (int i&#x3D;0 ; i&lt;[strtemp lengthOfBytesUsingEncoding:NSUnicodeStringEncoding] ;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        if (*p)</span><br><span class="line">        &#123;</span><br><span class="line">            p++;</span><br><span class="line">            strlength++;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            p++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    return strlength;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;方法二：</span><br><span class="line">-(NSUInteger) unicodeLengthOfString: (NSString *) text</span><br><span class="line">&#123;</span><br><span class="line">    NSUInteger asciiLength &#x3D; 0;</span><br><span class="line">    for (NSUInteger i &#x3D; 0; i &lt; text.length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        unichar uc &#x3D; [text characterAtIndex: i];</span><br><span class="line">        asciiLength +&#x3D; isascii(uc) ? 1 : 2;</span><br><span class="line">    &#125;</span><br><span class="line">    return asciiLength;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####给UIView设置图片</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UIImage *image &#x3D; [UIImage imageNamed:@&quot;image&quot;];</span><br><span class="line">self.MYView.layer.contents &#x3D; (__bridge id _Nullable)(image.CGImage);</span><br><span class="line">self.MYView.layer.contentsRect &#x3D; CGRectMake(0, 0, 0.5, 0.5);</span><br></pre></td></tr></table></figure>

<p>#####防止scrollView手势覆盖侧滑手势</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[scrollView.panGestureRecognizerrequireGestureRecognizerToFail:self.navigationController.interactivePopGestureRecognizer];</span><br></pre></td></tr></table></figure>
<p>#####去掉导航栏返回的back标题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[UIBarButtonItemappearance]setBackButtonTitlePositionAdjustment:UIOffsetMake(0, -60)forBarMetrics:UIBarMetricsDefault];</span><br></pre></td></tr></table></figure>

<p>#####字符串中是否含有中文</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">+ (BOOL)checkIsChinese:(NSString *)string</span><br><span class="line">&#123;</span><br><span class="line">    for (int i&#x3D;0; i&lt;string.length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        unichar ch &#x3D; [string characterAtIndex:i];</span><br><span class="line">        if (0x4E00 &lt;&#x3D; ch  &amp;&amp; ch &lt;&#x3D; 0x9FA5)</span><br><span class="line">        &#123;</span><br><span class="line">            return YES;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return NO;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####dispatch_group的使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> dispatch_group_t dispatchGroup &#x3D; dispatch_group_create();</span><br><span class="line">    dispatch_group_enter(dispatchGroup);</span><br><span class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(1 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        NSLog(@&quot;第一个请求完成&quot;);</span><br><span class="line">        dispatch_group_leave(dispatchGroup);</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    dispatch_group_enter(dispatchGroup);</span><br><span class="line">    </span><br><span class="line">    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(10 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        NSLog(@&quot;第二个请求完成&quot;);</span><br><span class="line">        dispatch_group_leave(dispatchGroup);</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    dispatch_group_notify(dispatchGroup, dispatch_get_main_queue(), ^()&#123;</span><br><span class="line">        NSLog(@&quot;请求完成&quot;);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<p>#####UITextField每四位加一个空格,实现代理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F; 四位加一个空格</span><br><span class="line">    if ([string isEqualToString:@&quot;&quot;])</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F; 删除字符</span><br><span class="line">        if ((textField.text.length - 2) % 5 &#x3D;&#x3D; 0)</span><br><span class="line">        &#123;</span><br><span class="line">            textField.text &#x3D; [textField.text substringToIndex:textField.text.length - 1];</span><br><span class="line">        &#125;</span><br><span class="line">        return YES;</span><br><span class="line">    &#125;</span><br><span class="line">    else</span><br><span class="line">    &#123;</span><br><span class="line">        if (textField.text.length % 5 &#x3D;&#x3D; 0)</span><br><span class="line">        &#123;</span><br><span class="line">            textField.text &#x3D; [NSString stringWithFormat:@&quot;%@ &quot;, textField.text];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return YES;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####获取私有属性和成员变量 #import &lt;objc/runtime.h&gt;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;获取私有属性 比如设置UIDatePicker的字体颜色</span><br><span class="line">- (void)setTextColor</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;获取所有的属性，去查看有没有对应的属性</span><br><span class="line">    unsigned int count &#x3D; 0;</span><br><span class="line">    objc_property_t *propertys &#x3D; class_copyPropertyList([UIDatePicker class], &amp;count);</span><br><span class="line">    for(int i &#x3D; 0;i &lt; count;i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F;获得每一个属性</span><br><span class="line">        objc_property_t property &#x3D; propertys[i];</span><br><span class="line">        &#x2F;&#x2F;获得属性对应的nsstring</span><br><span class="line">        NSString *propertyName &#x3D; [NSString stringWithCString:property_getName(property) encoding:NSUTF8StringEncoding];</span><br><span class="line">        &#x2F;&#x2F;输出打印看对应的属性</span><br><span class="line">        NSLog(@&quot;propertyname &#x3D; %@&quot;,propertyName);</span><br><span class="line">        if ([propertyName isEqualToString:@&quot;textColor&quot;])</span><br><span class="line">        &#123;</span><br><span class="line">            [datePicker setValue:[UIColor whiteColor] forKey:propertyName];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;获得成员变量 比如修改UIAlertAction的按钮字体颜色</span><br><span class="line">    unsigned int count &#x3D; 0;</span><br><span class="line">    Ivar *ivars &#x3D; class_copyIvarList([UIAlertAction class], &amp;count);</span><br><span class="line">    for(int i &#x3D;0;i &lt; count;i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        Ivar ivar &#x3D; ivars[i];</span><br><span class="line">        NSString *ivarName &#x3D; [NSString stringWithCString:ivar_getName(ivar) encoding:NSUTF8StringEncoding];</span><br><span class="line">        NSLog(@&quot;uialertion.ivarName &#x3D; %@&quot;,ivarName);</span><br><span class="line">        if ([ivarName isEqualToString:@&quot;_titleTextColor&quot;])</span><br><span class="line">        &#123;</span><br><span class="line">            [alertOk setValue:[UIColor blueColor] forKey:@&quot;titleTextColor&quot;];</span><br><span class="line">            [alertCancel setValue:[UIColor purpleColor] forKey:@&quot;titleTextColor&quot;];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>#####获取手机安装的应用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Class c &#x3D;NSClassFromString(@&quot;LSApplicationWorkspace&quot;);</span><br><span class="line">id s &#x3D; [(id)c performSelector:NSSelectorFromString(@&quot;defaultWorkspace&quot;)];</span><br><span class="line">NSArray *array &#x3D; [s performSelector:NSSelectorFromString(@&quot;allInstalledApplications&quot;)];</span><br><span class="line">for (id item in array)</span><br><span class="line">&#123;</span><br><span class="line">    NSLog(@&quot;%@&quot;,[item performSelector:NSSelectorFromString(@&quot;applicationIdentifier&quot;)]);</span><br><span class="line">    &#x2F;&#x2F;NSLog(@&quot;%@&quot;,[item performSelector:NSSelectorFromString(@&quot;bundleIdentifier&quot;)]);</span><br><span class="line">    NSLog(@&quot;%@&quot;,[item performSelector:NSSelectorFromString(@&quot;bundleVersion&quot;)]);</span><br><span class="line">    NSLog(@&quot;%@&quot;,[item performSelector:NSSelectorFromString(@&quot;shortVersionString&quot;)]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>#####判断两个日期是否在同一周 写在NSDate的category里面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)isSameDateWithDate:(NSDate *)date</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;日期间隔大于七天之间返回NO</span><br><span class="line">    if (fabs([self timeIntervalSinceDate:date]) &gt;&#x3D; 7 * 24 *3600)</span><br><span class="line">    &#123;</span><br><span class="line">        return NO;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    NSCalendar *calender &#x3D; [NSCalendar currentCalendar];</span><br><span class="line">    calender.firstWeekday &#x3D; 2;&#x2F;&#x2F;设置每周第一天从周一开始</span><br><span class="line">    &#x2F;&#x2F;计算两个日期分别为这年第几周</span><br><span class="line">    NSUInteger countSelf &#x3D; [calender ordinalityOfUnit:NSCalendarUnitWeekday inUnit:NSCalendarUnitYear forDate:self];</span><br><span class="line">    NSUInteger countDate &#x3D; [calender ordinalityOfUnit:NSCalendarUnitWeekday inUnit:NSCalendarUnitYear forDate:date];</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;相等就在同一周，不相等就不在同一周</span><br><span class="line">    return countSelf &#x3D;&#x3D; countDate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####应用内打开系统设置界面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;iOS8之后</span><br><span class="line">[[UIApplication sharedApplication] openURL:[NSURL URLWithString:UIApplicationOpenSettingsURLString]];</span><br><span class="line">&#x2F;&#x2F;如果App没有添加权限，显示的是设定界面。如果App有添加权限（例如通知），显示的是App的设定界面。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;iOS8之前</span><br><span class="line">&#x2F;&#x2F;先添加一个url type如下图，在代码中调用如下代码,即可跳转到设置页面的对应项</span><br><span class="line">[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@&quot;prefs:root&#x3D;WIFI&quot;]];</span><br><span class="line"></span><br><span class="line">可选值如下：</span><br><span class="line">About — prefs:root&#x3D;General&amp;path&#x3D;About</span><br><span class="line">Accessibility — prefs:root&#x3D;General&amp;path&#x3D;ACCESSIBILITY</span><br><span class="line">Airplane Mode On — prefs:root&#x3D;AIRPLANE_MODE</span><br><span class="line">Auto-Lock — prefs:root&#x3D;General&amp;path&#x3D;AUTOLOCK</span><br><span class="line">Brightness — prefs:root&#x3D;Brightness</span><br><span class="line">Bluetooth — prefs:root&#x3D;General&amp;path&#x3D;Bluetooth</span><br><span class="line">Date &amp; Time — prefs:root&#x3D;General&amp;path&#x3D;DATE_AND_TIME</span><br><span class="line">FaceTime — prefs:root&#x3D;FACETIME</span><br><span class="line">General — prefs:root&#x3D;General</span><br><span class="line">Keyboard — prefs:root&#x3D;General&amp;path&#x3D;Keyboard</span><br><span class="line">iCloud — prefs:root&#x3D;CASTLE</span><br><span class="line">iCloud Storage &amp; Backup — prefs:root&#x3D;CASTLE&amp;path&#x3D;STORAGE_AND_BACKUP</span><br><span class="line">International — prefs:root&#x3D;General&amp;path&#x3D;INTERNATIONAL</span><br><span class="line">Location Services — prefs:root&#x3D;LOCATION_SERVICES</span><br><span class="line">Music — prefs:root&#x3D;MUSIC</span><br><span class="line">Music Equalizer — prefs:root&#x3D;MUSIC&amp;path&#x3D;EQ</span><br><span class="line">Music Volume Limit — prefs:root&#x3D;MUSIC&amp;path&#x3D;VolumeLimit</span><br><span class="line">Network — prefs:root&#x3D;General&amp;path&#x3D;Network</span><br><span class="line">Nike + iPod — prefs:root&#x3D;NIKE_PLUS_IPOD</span><br><span class="line">Notes — prefs:root&#x3D;NOTES</span><br><span class="line">Notification — prefs:root&#x3D;NOTIFICATI*****_ID</span><br><span class="line">Phone — prefs:root&#x3D;Phone</span><br><span class="line">Photos — prefs:root&#x3D;Photos</span><br><span class="line">Profile — prefs:root&#x3D;General&amp;path&#x3D;ManagedConfigurationList</span><br><span class="line">Reset — prefs:root&#x3D;General&amp;path&#x3D;Reset</span><br><span class="line">Safari — prefs:root&#x3D;Safari</span><br><span class="line">Siri — prefs:root&#x3D;General&amp;path&#x3D;Assistant</span><br><span class="line">Sounds — prefs:root&#x3D;Sounds</span><br><span class="line">Software Update — prefs:root&#x3D;General&amp;path&#x3D;SOFTWARE_UPDATE_LINK</span><br><span class="line">Store — prefs:root&#x3D;STORE</span><br><span class="line">Twitter — prefs:root&#x3D;TWITTER</span><br><span class="line">Usage — prefs:root&#x3D;General&amp;path&#x3D;USAGE</span><br><span class="line">VPN — prefs:root&#x3D;General&amp;path&#x3D;Network&#x2F;VPN</span><br><span class="line">Wallpaper — prefs:root&#x3D;Wallpaper</span><br><span class="line">Wi-Fi — prefs:root&#x3D;WIFI</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/1608265-0336b1d206210cf1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Image.png"></p>
<p>#####屏蔽触发事件，2秒后取消屏蔽</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[[UIApplication sharedApplication] beginIgnoringInteractionEvents];</span><br><span class="line">dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(2 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">    [[UIApplication sharedApplication] endIgnoringInteractionEvents]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>#####动画暂停再开始</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">-(void)pauseLayer:(CALayer *)layer</span><br><span class="line">&#123;</span><br><span class="line">    CFTimeInterval pausedTime &#x3D; [layer convertTime:CACurrentMediaTime() fromLayer:nil];</span><br><span class="line">    layer.speed &#x3D; 0.0;</span><br><span class="line">    layer.timeOffset &#x3D; pausedTime;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(void)resumeLayer:(CALayer *)layer</span><br><span class="line">&#123;</span><br><span class="line">    CFTimeInterval pausedTime &#x3D; [layer timeOffset];</span><br><span class="line">    layer.speed &#x3D; 1.0;</span><br><span class="line">    layer.timeOffset &#x3D; 0.0;</span><br><span class="line">    layer.beginTime &#x3D; 0.0;</span><br><span class="line">    CFTimeInterval timeSincePause &#x3D; [layer convertTime:CACurrentMediaTime() fromLayer:nil] - pausedTime;</span><br><span class="line">    layer.beginTime &#x3D; timeSincePause;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####fillRule原理<br><img src="http://upload-images.jianshu.io/upload_images/1608265-102c8b228637e659.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Image.png"></p>
<p>#####iOS中数字的格式化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;通过NSNumberFormatter，同样可以设置NSNumber输出的格式。例如如下代码：</span><br><span class="line">NSNumberFormatter *formatter &#x3D; [[NSNumberFormatter alloc] init];</span><br><span class="line">formatter.numberStyle &#x3D; NSNumberFormatterDecimalStyle;</span><br><span class="line">NSString *string &#x3D; [formatter stringFromNumber:[NSNumber numberWithInt:123456789]];</span><br><span class="line">NSLog(@&quot;Formatted number string:%@&quot;,string);</span><br><span class="line">&#x2F;&#x2F;输出结果为：[1223:403] Formatted number string:123,456,789</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;其中NSNumberFormatter类有个属性numberStyle，它是一个枚举型，设置不同的值可以输出不同的数字格式。该枚举包括：</span><br><span class="line">typedef NS_ENUM(NSUInteger, NSNumberFormatterStyle) &#123;</span><br><span class="line">    NSNumberFormatterNoStyle &#x3D; kCFNumberFormatterNoStyle,</span><br><span class="line">    NSNumberFormatterDecimalStyle &#x3D; kCFNumberFormatterDecimalStyle,</span><br><span class="line">    NSNumberFormatterCurrencyStyle &#x3D; kCFNumberFormatterCurrencyStyle,</span><br><span class="line">    NSNumberFormatterPercentStyle &#x3D; kCFNumberFormatterPercentStyle,</span><br><span class="line">    NSNumberFormatterScientificStyle &#x3D; kCFNumberFormatterScientificStyle,</span><br><span class="line">    NSNumberFormatterSpellOutStyle &#x3D; kCFNumberFormatterSpellOutStyle</span><br><span class="line">&#125;;</span><br><span class="line">&#x2F;&#x2F;各个枚举对应输出数字格式的效果如下：其中第三项和最后一项的输出会根据系统设置的语言区域的不同而不同。</span><br><span class="line">[1243:403] Formatted number string:123456789</span><br><span class="line">[1243:403] Formatted number string:123,456,789</span><br><span class="line">[1243:403] Formatted number string:￥123,456,789.00</span><br><span class="line">[1243:403] Formatted number string:-539,222,988%</span><br><span class="line">[1243:403] Formatted number string:1.23456789E8</span><br><span class="line">[1243:403] Formatted number string:一亿二千三百四十五万六千七百八十九</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>#####如何获取WebView所有的图片地址，<br>在网页加载完成时，通过js获取图片和添加点击的识别方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;UIWebView</span><br><span class="line">- (void)webViewDidFinishLoad:(UIWebView *)webView</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;这里是js，主要目的实现对url的获取</span><br><span class="line">    static  NSString * const jsGetImages &#x3D;</span><br><span class="line">    @&quot;function getImages()&#123;\</span><br><span class="line">    var objs &#x3D; document.getElementsByTagName(\&quot;img\&quot;);\</span><br><span class="line">    var imgScr &#x3D; &#39;&#39;;\</span><br><span class="line">    for(var i&#x3D;0;i&lt;objs.length;i++)&#123;\</span><br><span class="line">    imgScr &#x3D; imgScr + objs[i].src + &#39;+&#39;;\</span><br><span class="line">    &#125;;\</span><br><span class="line">    return imgScr;\</span><br><span class="line">    &#125;;&quot;;</span><br><span class="line">    </span><br><span class="line">    [webView stringByEvaluatingJavaScriptFromString:jsGetImages];&#x2F;&#x2F;注入js方法</span><br><span class="line">    NSString *urlResult &#x3D; [webView stringByEvaluatingJavaScriptFromString:@&quot;getImages()&quot;];</span><br><span class="line">    NSArray *urlArray &#x3D; [NSMutableArray arrayWithArray:[urlResult componentsSeparatedByString:@&quot;+&quot;]];</span><br><span class="line">    &#x2F;&#x2F;urlResurlt 就是获取到得所有图片的url的拼接；mUrlArray就是所有Url的数组</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;WKWebView</span><br><span class="line">- (void)webView:(WKWebView *)webView didFinishNavigation:(null_unspecified WKNavigation *)navigation</span><br><span class="line">&#123;</span><br><span class="line">    static  NSString * const jsGetImages &#x3D;</span><br><span class="line">    @&quot;function getImages()&#123;\</span><br><span class="line">    var objs &#x3D; document.getElementsByTagName(\&quot;img\&quot;);\</span><br><span class="line">    var imgScr &#x3D; &#39;&#39;;\</span><br><span class="line">    for(var i&#x3D;0;i&lt;objs.length;i++)&#123;\</span><br><span class="line">    imgScr &#x3D; imgScr + objs[i].src + &#39;+&#39;;\</span><br><span class="line">    &#125;;\</span><br><span class="line">    return imgScr;\</span><br><span class="line">    &#125;;&quot;;</span><br><span class="line">    </span><br><span class="line">    [webView evaluateJavaScript:jsGetImages completionHandler:nil];</span><br><span class="line">    [webView evaluateJavaScript:@&quot;getImages()&quot; completionHandler:^(id _Nullable result, NSError * _Nullable error) &#123;</span><br><span class="line">        NSLog(@&quot;%@&quot;,result);</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>#####获取到webview的高度</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CGFloat height &#x3D; [[self.webView stringByEvaluatingJavaScriptFromString:@&quot;document.body.offsetHeight&quot;] floatValue];</span><br></pre></td></tr></table></figure>

<p>#####navigationBar变为纯透明</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;第一种方法</span><br><span class="line">&#x2F;&#x2F;导航栏纯透明</span><br><span class="line">[self.navigationBar setBackgroundImage:[UIImage new] forBarMetrics:UIBarMetricsDefault];</span><br><span class="line">&#x2F;&#x2F;去掉导航栏底部的黑线</span><br><span class="line">self.navigationBar.shadowImage &#x3D; [UIImage new];</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;第二种方法</span><br><span class="line">[[self.navigationBar subviews] objectAtIndex:0].alpha &#x3D; 0;</span><br></pre></td></tr></table></figure>
<p>#####tabBar同理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[self.tabBar setBackgroundImage:[UIImage new]];</span><br><span class="line">self.tabBar.shadowImage &#x3D; [UIImage new];</span><br></pre></td></tr></table></figure>
<p>#####navigationBar根据滑动距离的渐变色实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;第一种</span><br><span class="line">- (void)scrollViewDidScroll:(UIScrollView *)scrollView</span><br><span class="line">&#123;</span><br><span class="line">    CGFloat offsetToShow &#x3D; 200.0;&#x2F;&#x2F;滑动多少就完全显示</span><br><span class="line">    CGFloat alpha &#x3D; 1 - (offsetToShow - scrollView.contentOffset.y) &#x2F; offsetToShow;</span><br><span class="line">    [[self.navigationController.navigationBar subviews] objectAtIndex:0].alpha &#x3D; alpha;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;第二种</span><br><span class="line">- (void)scrollViewDidScroll:(UIScrollView *)scrollView</span><br><span class="line">&#123;</span><br><span class="line">    CGFloat offsetToShow &#x3D; 200.0;</span><br><span class="line">    CGFloat alpha &#x3D; 1 - (offsetToShow - scrollView.contentOffset.y) &#x2F; offsetToShow;</span><br><span class="line">    </span><br><span class="line">    [self.navigationController.navigationBar setShadowImage:[UIImage new]];</span><br><span class="line">    [self.navigationController.navigationBar setBackgroundImage:[self imageWithColor:[[UIColor orangeColor]colorWithAlphaComponent:alpha]] forBarMetrics:UIBarMetricsDefault];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;生成一张纯色的图片</span><br><span class="line">- (UIImage *)imageWithColor:(UIColor *)color</span><br><span class="line">&#123;</span><br><span class="line">    CGRect rect &#x3D; CGRectMake(0.0f, 0.0f, 1.0f, 1.0f);</span><br><span class="line">    UIGraphicsBeginImageContext(rect.size);</span><br><span class="line">    CGContextRef context &#x3D; UIGraphicsGetCurrentContext();</span><br><span class="line">    CGContextSetFillColorWithColor(context, [color CGColor]);</span><br><span class="line">    CGContextFillRect(context, rect);</span><br><span class="line">    UIImage *theImage &#x3D; UIGraphicsGetImageFromCurrentImageContext();</span><br><span class="line">    UIGraphicsEndImageContext();</span><br><span class="line">    </span><br><span class="line">    return theImage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####iOS 开发中一些相关的路径</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">模拟器的位置:</span><br><span class="line">&#x2F;Applications&#x2F;Xcode.app&#x2F;Contents&#x2F;Developer&#x2F;Platforms&#x2F;iPhoneSimulator.platform&#x2F;Developer&#x2F;SDKs </span><br><span class="line"></span><br><span class="line">文档安装位置:</span><br><span class="line">&#x2F;Applications&#x2F;Xcode.app&#x2F;Contents&#x2F;Developer&#x2F;Documentation&#x2F;DocSets</span><br><span class="line"></span><br><span class="line">插件保存路径:</span><br><span class="line">~&#x2F;Library&#x2F;ApplicationSupport&#x2F;Developer&#x2F;Shared&#x2F;Xcode&#x2F;Plug-ins</span><br><span class="line"></span><br><span class="line">自定义代码段的保存路径:</span><br><span class="line">~&#x2F;Library&#x2F;Developer&#x2F;Xcode&#x2F;UserData&#x2F;CodeSnippets&#x2F; </span><br><span class="line">如果找不到CodeSnippets文件夹，可以自己新建一个CodeSnippets文件夹。</span><br><span class="line"></span><br><span class="line">描述文件路径</span><br><span class="line">~&#x2F;Library&#x2F;MobileDevice&#x2F;Provisioning Profiles</span><br></pre></td></tr></table></figure>
<p>#####navigationItem的BarButtonItem如何紧靠屏幕右边界或者左边界？<br>一般情况下，右边的item会和屏幕右侧保持一段距离：<br><img src="http://upload-images.jianshu.io/upload_images/1608265-2b25556ad97436ad.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>下面是通过添加一个负值宽度的固定间距的item来解决，也可以改变宽度实现不同的间隔：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">UIImage *img &#x3D; [[UIImage imageNamed:@&quot;icon_cog&quot;] imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal];</span><br><span class="line">&#x2F;&#x2F;宽度为负数的固定间距的系统item</span><br><span class="line">UIBarButtonItem *rightNegativeSpacer &#x3D; [[UIBarButtonItem alloc] initWithBarButtonSystemItem:UIBarButtonSystemItemFixedSpace target:nil action:nil];</span><br><span class="line">[rightNegativeSpacer setWidth:-15];</span><br><span class="line"></span><br><span class="line">UIBarButtonItem *rightBtnItem1 &#x3D; [[UIBarButtonItem alloc]initWithImage:img style:UIBarButtonItemStylePlain target:self action:@selector(rightButtonItemClicked:)];</span><br><span class="line">UIBarButtonItem *rightBtnItem2 &#x3D; [[UIBarButtonItem alloc]initWithImage:img style:UIBarButtonItemStylePlain target:self action:@selector(rightButtonItemClicked:)];</span><br><span class="line">self.navigationItem.rightBarButtonItems &#x3D; @[rightNegativeSpacer,rightBtnItem1,rightBtnItem2];</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/1608265-649770861a945c45.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>#####NSString进行URL编码和解码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">NSString *string &#x3D; @&quot;http:&#x2F;&#x2F;abc.com?aaa&#x3D;你好&amp;bbb&#x3D;tttee&quot;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;编码 打印：http:&#x2F;&#x2F;abc.com?aaa&#x3D;%E4%BD%A0%E5%A5%BD&amp;bbb&#x3D;tttee</span><br><span class="line">string &#x3D; [string stringByAddingPercentEncodingWithAllowedCharacters:[NSCharacterSet URLQueryAllowedCharacterSet]];</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;解码 打印：http:&#x2F;&#x2F;abc.com?aaa&#x3D;你好&amp;bbb&#x3D;tttee</span><br><span class="line">string &#x3D; [string stringByRemovingPercentEncoding];</span><br></pre></td></tr></table></figure>

<p>#####UIWebView设置User-Agent。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;设置</span><br><span class="line">NSDictionary *dic &#x3D; @&#123;@&quot;UserAgent&quot;:@&quot;your UserAgent&quot;&#125;;</span><br><span class="line">[[NSUserDefaults standardUserDefaults] registerDefaults:dic];</span><br><span class="line">&#x2F;&#x2F;获取</span><br><span class="line">NSString *agent &#x3D; [self.WebView stringByEvaluatingJavaScriptFromString:@&quot;navigator.userAgent&quot;];</span><br></pre></td></tr></table></figure>

<p>####获取硬盘总容量与可用容量:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">NSFileManager *fileManager &#x3D; [NSFileManager defaultManager];</span><br><span class="line">NSDictionary *attributes &#x3D; [fileManager attributesOfFileSystemForPath:NSHomeDirectory() error:nil];</span><br><span class="line"></span><br><span class="line">NSLog(@&quot;容量%.2fG&quot;,[attributes[NSFileSystemSize] doubleValue] &#x2F; (powf(1024, 3)));</span><br><span class="line">NSLog(@&quot;可用%.2fG&quot;,[attributes[NSFileSystemFreeSize] doubleValue] &#x2F; powf(1024, 3));</span><br></pre></td></tr></table></figure>

<p>#####获取UIColor的RGBA值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">UIColor *color &#x3D; [UIColor colorWithRed:0.2 green:0.3 blue:0.9 alpha:1.0];</span><br><span class="line">const CGFloat *components &#x3D; CGColorGetComponents(color.CGColor);</span><br><span class="line">NSLog(@&quot;Red: %.1f&quot;, components[0]);</span><br><span class="line">NSLog(@&quot;Green: %.1f&quot;, components[1]);</span><br><span class="line">NSLog(@&quot;Blue: %.1f&quot;, components[2]);</span><br><span class="line">NSLog(@&quot;Alpha: %.1f&quot;, components[3]);</span><br></pre></td></tr></table></figure>

<p>#####修改textField的placeholder的字体颜色、大小</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[self.textField setValue:[UIColor redColor] forKeyPath:@&quot;_placeholderLabel.textColor&quot;];</span><br><span class="line">[self.textField setValue:[UIFont boldSystemFontOfSize:16] forKeyPath:@&quot;_placeholderLabel.font&quot;];</span><br></pre></td></tr></table></figure>

<p>#####AFN移除JSON中的NSNull</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">AFJSONResponseSerializer *response &#x3D; [AFJSONResponseSerializer serializer];</span><br><span class="line">response.removesKeysWithNullValues &#x3D; YES;</span><br></pre></td></tr></table></figure>
<p>#####ceil()和floor()<br><code>ceil()</code>功 能：返回大于或者等于指定表达式的最小整数<br><code>floor()</code>功 能：返回小于或者等于指定表达式的最大整数</p>
<p>#####UIWebView里面的图片自适应屏幕<br>在webView加载完的代理方法里面这样写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">- (void)webViewDidFinishLoad:(UIWebView *)webView</span><br><span class="line">&#123;</span><br><span class="line">    NSString *js &#x3D; @&quot;function imgAutoFit() &#123; \</span><br><span class="line">    var imgs &#x3D; document.getElementsByTagName(&#39;img&#39;); \</span><br><span class="line">    for (var i &#x3D; 0; i &lt; imgs.length; ++i) &#123; \</span><br><span class="line">    var img &#x3D; imgs[i]; \</span><br><span class="line">    img.style.maxWidth &#x3D; %f; \</span><br><span class="line">    &#125; \</span><br><span class="line">    &#125;&quot;;</span><br><span class="line">    </span><br><span class="line">    js &#x3D; [NSString stringWithFormat:js, [UIScreen mainScreen].bounds.size.width - 20];</span><br><span class="line">    </span><br><span class="line">    [webView stringByEvaluatingJavaScriptFromString:js];</span><br><span class="line">    [webView stringByEvaluatingJavaScriptFromString:@&quot;imgAutoFit()&quot;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####UILabel显示Html</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">NSString *htmlString &#x3D; @&quot;Some html string&quot;;</span><br><span class="line">NSAttributedString *attrStr &#x3D; [[NSAttributedString alloc] initWithData:[htmlString dataUsingEncoding:NSUnicodeStringEncoding] options:@&#123;NSDocumentTypeDocumentAttribute:NSHTMLTextDocumentType&#125; documentAttributes:nil error:nil];</span><br><span class="line">UILabel *label &#x3D; [[UILabel alloc] initWithFrame:self.view.bounds];</span><br><span class="line">label.attributedText &#x3D; attrStr;</span><br><span class="line">[self.view addSubview:label];</span><br></pre></td></tr></table></figure>

<p>#####模拟器语言切换<br>xode—&gt;Product—&gt;Scheme—&gt;Edit Scheme—&gt;Run—&gt;Application Language&amp;Region<br>在这里选择所需要的语言，这样再运行的时候，模拟器语言就变成了所选的。<br><img src="https://upload-images.jianshu.io/upload_images/1608265-691609ca39a4e069.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>#####汉字转拼音</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">NSString *chineseText &#x3D; @&quot;啦啦啦德玛西亚&quot;;</span><br><span class="line">if (chineseText.length &gt; 0)</span><br><span class="line">&#123;</span><br><span class="line">    NSMutableString *ms &#x3D; [[NSMutableString alloc] initWithString:chineseText];</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;带声标</span><br><span class="line">    if (CFStringTransform((__bridge CFMutableStringRef)ms, 0, kCFStringTransformMandarinLatin, NO))</span><br><span class="line">    &#123;</span><br><span class="line">        NSLog(@&quot;pinyin: %@&quot;, ms);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;不带声标</span><br><span class="line">    if (CFStringTransform((__bridge CFMutableStringRef)ms, 0, kCFStringTransformStripDiacritics, NO))</span><br><span class="line">    &#123;</span><br><span class="line">        NSLog(@&quot;pinyin: %@&quot;, ms);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    NSString *name &#x3D; [NSString stringWithString:ms];</span><br><span class="line">    NSLog(@&quot;%@&quot;,name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>#####使用UIInterpolatingMotionEffect可以使页面随着设备在空间的移动而发生微移。具体的效果可以查看IOS7系统的解锁界面</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">UIInterpolatingMotionEffect *interpolationHorizontal &#x3D; [[UIInterpolatingMotionEffect alloc] initWithKeyPath:@&quot;center.x&quot; type:UIInterpolatingMotionEffectTypeTiltAlongHorizontalAxis];</span><br><span class="line">interpolationHorizontal.minimumRelativeValue &#x3D; @(-20);</span><br><span class="line">interpolationHorizontal.maximumRelativeValue &#x3D; @(20);</span><br><span class="line"></span><br><span class="line">UIInterpolatingMotionEffect *interpolationVertical &#x3D; [[UIInterpolatingMotionEffect alloc] initWithKeyPath:@&quot;center.y&quot; type:UIInterpolatingMotionEffectTypeTiltAlongVerticalAxis];</span><br><span class="line">interpolationVertical.minimumRelativeValue &#x3D; @(-20);</span><br><span class="line">interpolationVertical.maximumRelativeValue &#x3D; @(20);</span><br><span class="line"></span><br><span class="line">[self.view addMotionEffect:interpolationHorizontal];</span><br><span class="line">[self.view addMotionEffect:interpolationVertical];</span><br></pre></td></tr></table></figure>

<p>#####NS_REQUIRES_SUPER<br>要求子类重写父类的方法必须先调用super，子类重写这个方法就会自动警告提示要调用这个super方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (void)prepare NS_REQUIRES_SUPER;</span><br></pre></td></tr></table></figure>

<p>#####WebView长按保存图片</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">加一个长按手势，在响应里：</span><br><span class="line">NSString *imgURL &#x3D; [NSString stringWithFormat:@&quot;document.elementFromPoint(%f, %f).src&quot;, touchPoint.x, touchPoint.y];</span><br><span class="line">NSString *urlToSave &#x3D; [self.webView stringByEvaluatingJavaScriptFromString:imgURL];</span><br></pre></td></tr></table></figure>

<p>#####文字转语音播放</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;AVFoundation&#x2F;AVFoundation.h&gt;</span><br><span class="line">@property (nonatomic, strong) AVSpeechSynthesizer *av;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;开始或暂停</span><br><span class="line">- (void)start:(UIButton *)sender</span><br><span class="line">&#123;</span><br><span class="line">    if (sender.selected)</span><br><span class="line">    &#123;</span><br><span class="line">        if (self.av.isPaused)</span><br><span class="line">        &#123;</span><br><span class="line">            [self.av continueSpeaking];</span><br><span class="line">            sender.selected &#x3D; !sender.selected;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            AVSpeechUtterance*utterance &#x3D; [[AVSpeechUtterance alloc]initWithString:@&quot;大渣好 我系渣渣辉&quot;];</span><br><span class="line">            utterance.rate&#x3D;0.5;&#x2F;&#x2F; 设置语速，范围0-1，注意0最慢，1最快；AVSpeechUtteranceMinimumSpeechRate最慢，AVSpeechUtteranceMaximumSpeechRate最快</span><br><span class="line">            utterance.voice &#x3D; [AVSpeechSynthesisVoice voiceWithLanguage:@&quot;en-GB&quot;];&#x2F;&#x2F;设置发音，这是中文普通话;</span><br><span class="line">            </span><br><span class="line">            self.av &#x3D; [[AVSpeechSynthesizer alloc] init];</span><br><span class="line">            self.av.delegate &#x3D; self;</span><br><span class="line">            [self.av speakUtterance:utterance];</span><br><span class="line">            </span><br><span class="line">            sender.selected &#x3D; !sender.selected;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    else</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F;[av stopSpeakingAtBoundary:AVSpeechBoundaryWord];&#x2F;&#x2F;感觉效果一样，对应代理&gt;&gt;&gt;取消</span><br><span class="line">        [self.av pauseSpeakingAtBoundary:AVSpeechBoundaryWord];&#x2F;&#x2F;暂停</span><br><span class="line">        sender.selected &#x3D; !sender.selected;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@protocol AVSpeechSynthesizerDelegate &lt;NSObject&gt;</span><br><span class="line"></span><br><span class="line">@optional</span><br><span class="line">- (void)speechSynthesizer:(AVSpeechSynthesizer *)synthesizer didStartSpeechUtterance:(AVSpeechUtterance *)utterance;</span><br><span class="line">- (void)speechSynthesizer:(AVSpeechSynthesizer *)synthesizer didFinishSpeechUtterance:(AVSpeechUtterance *)utterance;</span><br><span class="line">- (void)speechSynthesizer:(AVSpeechSynthesizer *)synthesizer didPauseSpeechUtterance:(AVSpeechUtterance *)utterance;</span><br><span class="line">- (void)speechSynthesizer:(AVSpeechSynthesizer *)synthesizer didContinueSpeechUtterance:(AVSpeechUtterance *)utterance;</span><br><span class="line">- (void)speechSynthesizer:(AVSpeechSynthesizer *)synthesizer didCancelSpeechUtterance:(AVSpeechUtterance *)utterance;</span><br><span class="line"></span><br><span class="line">- (void)speechSynthesizer:(AVSpeechSynthesizer *)synthesizer willSpeakRangeOfSpeechString:(NSRange)characterRange utterance:(AVSpeechUtterance *)utterance;</span><br><span class="line">@end</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>#####在Dock上添加空白区格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">终端运行两条命令：</span><br><span class="line">defaults write com.apple.dock persistent-apps -array-add &#39;&#123;&quot;tile-type&quot;&#x3D;&quot;spacer-tile&quot;;&#125;&#39;</span><br><span class="line">killall Dock</span><br></pre></td></tr></table></figure>

<p>#####改变截屏文件的类型<br>默认的，MacOS把截屏存成PNG格式，通常这都没什么问题。但是如果你想要其他的格式，例如jpg？则使用以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.screencapture type jpg</span><br></pre></td></tr></table></figure>
<p>只需要把jpg替换成你想要的扩展格式，无论是JPEG，TIFF或者是PDF，然后键入如下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">killall SystemUIServer</span><br></pre></td></tr></table></figure>
<p>#####将数字转成字节单位</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSString *folderSizeStr &#x3D; [NSByteCountFormatter stringFromByteCount:12334 countStyle:NSByteCountFormatterCountStyleBinary];</span><br><span class="line">NSLog(@&quot;%@&quot;,folderSizeStr);</span><br></pre></td></tr></table></figure>

<p>#####检查有没有使用idfa</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">终端运行:</span><br><span class="line">grep -r advertisingIdentifier .</span><br></pre></td></tr></table></figure>

<p>#####查看app启动耗时<br>在 Xcode 中 Edit scheme -&gt; Run -&gt; Auguments 添加环境变量DYLD_PRINT_STATISTICS 设为 1。启动app控制台输出的内容如下：<br><img src="https://upload-images.jianshu.io/upload_images/1608265-1315e7704c009305.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="查看app启动耗时"></p>
<p>#####获取图片类型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">- (NSString *)contentTypeForImageData:(NSData *)data</span><br><span class="line">&#123;</span><br><span class="line">    uint8_t c;</span><br><span class="line">    [data getBytes:&amp;c length:1];</span><br><span class="line">    switch (c)</span><br><span class="line">    &#123;</span><br><span class="line">        case 0xFF:</span><br><span class="line">            return @&quot;jpeg&quot;;</span><br><span class="line">        case 0x89:</span><br><span class="line">            return @&quot;png&quot;;</span><br><span class="line">        case 0x47:</span><br><span class="line">            return @&quot;gif&quot;;</span><br><span class="line">        case 0x49:</span><br><span class="line">        case 0x4D:</span><br><span class="line">            return @&quot;tiff&quot;;</span><br><span class="line">        case 0x52:</span><br><span class="line">            if ([data length] &lt; 12) &#123;</span><br><span class="line">                return nil;</span><br><span class="line">            &#125;</span><br><span class="line">            NSString *testString &#x3D; [[NSString alloc] initWithData:[data subdataWithRange:NSMakeRange(0, 12)] encoding:NSASCIIStringEncoding];</span><br><span class="line">            if ([testString hasPrefix:@&quot;RIFF&quot;] &amp;&amp; [testString hasSuffix:@&quot;WEBP&quot;]) &#123;</span><br><span class="line">                return @&quot;webp&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">            return nil;</span><br><span class="line">    &#125;</span><br><span class="line">    return nil;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>持续更新中……。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.lisong.pro/2016/08/18/iOS%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%AE%8F%EF%BC%8C%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%E4%B8%AD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="小松哥">
      <meta itemprop="description" content="是缘是情是童真还是意外">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小松哥的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2016/08/18/iOS%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%AE%8F%EF%BC%8C%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%E4%B8%AD/" class="post-title-link" itemprop="url">iOS开发常用宏，持续更新中</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2016-08-18 16:22:23" itemprop="dateCreated datePublished" datetime="2016-08-18T16:22:23+08:00">2016-08-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-03-02 21:33:03" itemprop="dateModified" datetime="2021-03-02T21:33:03+08:00">2021-03-02</time>
              </span>

          
            <span id="/2016/08/18/iOS%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%AE%8F%EF%BC%8C%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%E4%B8%AD/" class="post-meta-item leancloud_visitors" data-flag-title="iOS开发常用宏，持续更新中" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2016/08/18/iOS%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%AE%8F%EF%BC%8C%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%E4%B8%AD/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2016/08/18/iOS%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E5%AE%8F%EF%BC%8C%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%E4%B8%AD/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>大家都是知道使用宏不仅方便，而且可以提高开发效率。下面总结了iOS开发过程中的一些常用宏，会持续的往里面添加。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;字符串是否为空</span><br><span class="line">#define kStringIsEmpty(str) ([str isKindOfClass:[NSNull class]] || str &#x3D;&#x3D; nil || [str length] &lt; 1 ? YES : NO )</span><br><span class="line">&#x2F;&#x2F;数组是否为空</span><br><span class="line">#define kArrayIsEmpty(array) (array &#x3D;&#x3D; nil || [array isKindOfClass:[NSNull class]] || array.count &#x3D;&#x3D; 0)</span><br><span class="line">&#x2F;&#x2F;字典是否为空</span><br><span class="line">#define kDictIsEmpty(dic) (dic &#x3D;&#x3D; nil || [dic isKindOfClass:[NSNull class]] || dic.allKeys &#x3D;&#x3D; 0)</span><br><span class="line">&#x2F;&#x2F;是否是空对象</span><br><span class="line">#define kObjectIsEmpty(_object) (_object &#x3D;&#x3D; nil \</span><br><span class="line">|| [_object isKindOfClass:[NSNull class]] \</span><br><span class="line">|| ([_object respondsToSelector:@selector(length)] &amp;&amp; [(NSData *)_object length] &#x3D;&#x3D; 0) \</span><br><span class="line">|| ([_object respondsToSelector:@selector(count)] &amp;&amp; [(NSArray *)_object count] &#x3D;&#x3D; 0))</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;获取屏幕宽度与高度</span><br><span class="line">#define kScreenWidth \</span><br><span class="line">([[UIScreen mainScreen] respondsToSelector:@selector(nativeBounds)] ? [UIScreen mainScreen].nativeBounds.size.width&#x2F;[UIScreen mainScreen].nativeScale : [UIScreen mainScreen].bounds.size.width)</span><br><span class="line">#define kScreenHeight \</span><br><span class="line">([[UIScreen mainScreen] respondsToSelector:@selector(nativeBounds)] ? [UIScreen mainScreen].nativeBounds.size.height&#x2F;[UIScreen mainScreen].nativeScale : [UIScreen mainScreen].bounds.size.height)</span><br><span class="line">#define kScreenSize \</span><br><span class="line">([[UIScreen mainScreen] respondsToSelector:@selector(nativeBounds)] ? CGSizeMake([UIScreen mainScreen].nativeBounds.size.width&#x2F;[UIScreen mainScreen].nativeScale,[UIScreen mainScreen].nativeBounds.size.height&#x2F;[UIScreen mainScreen].nativeScale) : [UIScreen mainScreen].bounds.size)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;一些缩写</span><br><span class="line">#define kApplication        [UIApplication sharedApplication]</span><br><span class="line">#define kKeyWindow          [UIApplication sharedApplication].keyWindow</span><br><span class="line">#define kAppDelegate        [UIApplication sharedApplication].delegate</span><br><span class="line">#define kUserDefaults       [NSUserDefaults standardUserDefaults]</span><br><span class="line">#define kNotificationCenter [NSNotificationCenter defaultCenter]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;APP版本号</span><br><span class="line">#define kAppVersion [[[NSBundle mainBundle] infoDictionary] objectForKey:@&quot;CFBundleShortVersionString&quot;]</span><br><span class="line">&#x2F;&#x2F;系统版本号</span><br><span class="line">#define kSystemVersion [[UIDevice currentDevice] systemVersion]</span><br><span class="line">&#x2F;&#x2F;获取当前语言</span><br><span class="line">#define kCurrentLanguage ([[NSLocale preferredLanguages] objectAtIndex:0])</span><br><span class="line">&#x2F;&#x2F;判断是否为iPhone</span><br><span class="line">#define kISiPhone (UI_USER_INTERFACE_IDIOM() &#x3D;&#x3D; UIUserInterfaceIdiomPhone)</span><br><span class="line">&#x2F;&#x2F;判断是否为iPad</span><br><span class="line">#define kISiPad (UI_USER_INTERFACE_IDIOM() &#x3D;&#x3D; UIUserInterfaceIdiomPad)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;获取沙盒Document路径</span><br><span class="line">#define kDocumentPath [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) firstObject]</span><br><span class="line">&#x2F;&#x2F;获取沙盒temp路径</span><br><span class="line">#define kTempPath NSTemporaryDirectory()</span><br><span class="line">&#x2F;&#x2F;获取沙盒Cache路径</span><br><span class="line">#define kCachePath [NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) firstObject]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;判断是真机还是模拟器</span><br><span class="line">#if TARGET_OS_IPHONE</span><br><span class="line">&#x2F;&#x2F;真机</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">#if TARGET_IPHONE_SIMULATOR</span><br><span class="line">&#x2F;&#x2F;模拟器</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;开发的时候打印，但是发布的时候不打印的NSLog</span><br><span class="line">#ifdef DEBUG</span><br><span class="line">#define NSLog(...) NSLog(@&quot;%s 第%d行 \n %@\n\n&quot;,__func__,__LINE__,[NSString stringWithFormat:__VA_ARGS__])</span><br><span class="line">#else</span><br><span class="line">#define NSLog(...)</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;颜色</span><br><span class="line">#define kRGBColor(r, g, b)     [UIColor colorWithRed:(r)&#x2F;255.0 green:(g)&#x2F;255.0 blue:(b)&#x2F;255.0 alpha:1.0]</span><br><span class="line">#define kRGBAColor(r, g, b, a) [UIColor colorWithRed:(r)&#x2F;255.0 green:(r)&#x2F;255.0 blue:(r)&#x2F;255.0 alpha:a]</span><br><span class="line">#define kRandomColor           kRGBColor(arc4random_uniform(256),arc4random_uniform(256),arc4random_uniform(256))</span><br><span class="line"></span><br><span class="line">#define kColorWithHex(rgbValue) \</span><br><span class="line">[UIColor colorWithRed:((float)((rgbValue &amp; 0xFF0000) &gt;&gt; 16)) &#x2F; 255.0 \</span><br><span class="line">green:((float)((rgbValue &amp; 0xFF00) &gt;&gt; 8)) &#x2F; 255.0 \</span><br><span class="line">blue:((float)(rgbValue &amp; 0xFF)) &#x2F; 255.0 alpha:1.0]</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;弱引用&#x2F;强引用</span><br><span class="line">#define kWeakSelf(type)   __weak typeof(type) weak##type &#x3D; type;</span><br><span class="line">#define kStrongSelf(type) __strong typeof(type) type &#x3D; weak##type;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;由角度转换弧度</span><br><span class="line">#define kDegreesToRadian(x)      (M_PI * (x) &#x2F; 180.0)</span><br><span class="line">&#x2F;&#x2F;由弧度转换角度</span><br><span class="line">#define kRadianToDegrees(radian) (radian * 180.0) &#x2F; (M_PI)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;获取一段时间间隔</span><br><span class="line">#define kStartTime CFAbsoluteTime start &#x3D; CFAbsoluteTimeGetCurrent();</span><br><span class="line">#define kEndTime   NSLog(@&quot;Time: %f&quot;, CFAbsoluteTimeGetCurrent() - start)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>持续更新中……。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="小松哥"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">小松哥</p>
  <div class="site-description" itemprop="description">是缘是情是童真还是意外</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">22</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/lisongrc" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;lisongrc" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:lisong.coder@gmail.com" title="E-Mail → mailto:lisong.coder@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">小松哥</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'gYNONHv7rTCIi44RFd6xhlYi-gzGzoHsz',
      appKey     : 'NCPWQOu8DblScfsmoFkTp1FJ',
      placeholder: "Just go go",
      avatar     : 'wavatar',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
